(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=r(t);fetch(t.href,a)}})();function Zu(i,e){const r=Object.create(null),n=i.split(",");for(let t=0;t<n.length;t++)r[n[t]]=!0;return e?t=>!!r[t.toLowerCase()]:t=>!!r[t]}function ed(i){if(Ee(i)){const e={};for(let r=0;r<i.length;r++){const n=i[r],t=rt(n)?l_(n):ed(n);if(t)for(const a in t)e[a]=t[a]}return e}else{if(rt(i))return i;if(Ge(i))return i}}const a_=/;(?![^(]*\))/g,s_=/:([^]+)/,o_=/\/\*.*?\*\//gs;function l_(i){const e={};return i.replace(o_,"").split(a_).forEach(r=>{if(r){const n=r.split(s_);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function ln(i){let e="";if(rt(i))e=i;else if(Ee(i))for(let r=0;r<i.length;r++){const n=ln(i[r]);n&&(e+=n+" ")}else if(Ge(i))for(const r in i)i[r]&&(e+=r+" ");return e.trim()}const u_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",d_=Zu(u_);function Pp(i){return!!i||i===""}const Ys=i=>rt(i)?i:i==null?"":Ee(i)||Ge(i)&&(i.toString===Op||!Ie(i.toString))?JSON.stringify(i,Ip,2):String(i),Ip=(i,e)=>e&&e.__v_isRef?Ip(i,e.value):dn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,t])=>(r[`${n} =>`]=t,r),{})}:Ap(e)?{[`Set(${e.size})`]:[...e.values()]}:Ge(e)&&!Ee(e)&&!Dp(e)?String(e):e,We={},un=[],fi=()=>{},c_=()=>!1,f_=/^on[^a-z]/,Do=i=>f_.test(i),td=i=>i.startsWith("onUpdate:"),Mt=Object.assign,id=(i,e)=>{const r=i.indexOf(e);r>-1&&i.splice(r,1)},h_=Object.prototype.hasOwnProperty,Oe=(i,e)=>h_.call(i,e),Ee=Array.isArray,dn=i=>Lo(i)==="[object Map]",Ap=i=>Lo(i)==="[object Set]",Ie=i=>typeof i=="function",rt=i=>typeof i=="string",rd=i=>typeof i=="symbol",Ge=i=>i!==null&&typeof i=="object",kp=i=>Ge(i)&&Ie(i.then)&&Ie(i.catch),Op=Object.prototype.toString,Lo=i=>Op.call(i),p_=i=>Lo(i).slice(8,-1),Dp=i=>Lo(i)==="[object Object]",nd=i=>rt(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Hs=Zu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mo=i=>{const e=Object.create(null);return r=>e[r]||(e[r]=i(r))},m_=/-(\w)/g,Mi=Mo(i=>i.replace(m_,(e,r)=>r?r.toUpperCase():"")),g_=/\B([A-Z])/g,Vr=Mo(i=>i.replace(g_,"-$1").toLowerCase()),Ro=Mo(i=>i.charAt(0).toUpperCase()+i.slice(1)),Sl=Mo(i=>i?`on${Ro(i)}`:""),Ea=(i,e)=>!Object.is(i,e),xl=(i,e)=>{for(let r=0;r<i.length;r++)i[r](e)},Qs=(i,e,r)=>{Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value:r})},Lp=i=>{const e=parseFloat(i);return isNaN(e)?i:e};let gf;const v_=()=>gf||(gf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let xi;class y_{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=xi,!e&&xi&&(this.index=(xi.scopes||(xi.scopes=[])).push(this)-1)}run(e){if(this.active){const r=xi;try{return xi=this,e()}finally{xi=r}}}on(){xi=this}off(){xi=this.parent}stop(e){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this.active=!1}}}function __(i,e=xi){e&&e.active&&e.effects.push(i)}const ad=i=>{const e=new Set(i);return e.w=0,e.n=0,e},Mp=i=>(i.w&cr)>0,Rp=i=>(i.n&cr)>0,T_=({deps:i})=>{if(i.length)for(let e=0;e<i.length;e++)i[e].w|=cr},b_=i=>{const{deps:e}=i;if(e.length){let r=0;for(let n=0;n<e.length;n++){const t=e[n];Mp(t)&&!Rp(t)?t.delete(i):e[r++]=t,t.w&=~cr,t.n&=~cr}e.length=r}},lu=new WeakMap;let oa=0,cr=1;const uu=30;let di;const Mr=Symbol(""),du=Symbol("");class sd{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,__(this,n)}run(){if(!this.active)return this.fn();let e=di,r=ur;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=di,di=this,ur=!0,cr=1<<++oa,oa<=uu?T_(this):vf(this),this.fn()}finally{oa<=uu&&b_(this),cr=1<<--oa,di=this.parent,ur=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){di===this?this.deferStop=!0:this.active&&(vf(this),this.onStop&&this.onStop(),this.active=!1)}}function vf(i){const{deps:e}=i;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(i);e.length=0}}let ur=!0;const Np=[];function Rn(){Np.push(ur),ur=!1}function Nn(){const i=Np.pop();ur=i===void 0?!0:i}function Jt(i,e,r){if(ur&&di){let n=lu.get(i);n||lu.set(i,n=new Map);let t=n.get(r);t||n.set(r,t=ad()),Fp(t)}}function Fp(i,e){let r=!1;oa<=uu?Rp(i)||(i.n|=cr,r=!Mp(i)):r=!i.has(di),r&&(i.add(di),di.deps.push(i))}function qi(i,e,r,n,t,a){const s=lu.get(i);if(!s)return;let o=[];if(e==="clear")o=[...s.values()];else if(r==="length"&&Ee(i)){const l=Lp(n);s.forEach((u,d)=>{(d==="length"||d>=l)&&o.push(u)})}else switch(r!==void 0&&o.push(s.get(r)),e){case"add":Ee(i)?nd(r)&&o.push(s.get("length")):(o.push(s.get(Mr)),dn(i)&&o.push(s.get(du)));break;case"delete":Ee(i)||(o.push(s.get(Mr)),dn(i)&&o.push(s.get(du)));break;case"set":dn(i)&&o.push(s.get(Mr));break}if(o.length===1)o[0]&&cu(o[0]);else{const l=[];for(const u of o)u&&l.push(...u);cu(ad(l))}}function cu(i,e){const r=Ee(i)?i:[...i];for(const n of r)n.computed&&yf(n);for(const n of r)n.computed||yf(n)}function yf(i,e){(i!==di||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const S_=Zu("__proto__,__v_isRef,__isVue"),Bp=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(rd)),x_=od(),E_=od(!1,!0),C_=od(!0),_f=w_();function w_(){const i={};return["includes","indexOf","lastIndexOf"].forEach(e=>{i[e]=function(...r){const n=Le(this);for(let a=0,s=this.length;a<s;a++)Jt(n,"get",a+"");const t=n[e](...r);return t===-1||t===!1?n[e](...r.map(Le)):t}}),["push","pop","shift","unshift","splice"].forEach(e=>{i[e]=function(...r){Rn();const n=Le(this)[e].apply(this,r);return Nn(),n}}),i}function od(i=!1,e=!1){return function(n,t,a){if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return e;if(t==="__v_raw"&&a===(i?e?V_:zp:e?Vp:Hp).get(n))return n;const s=Ee(n);if(!i&&s&&Oe(_f,t))return Reflect.get(_f,t,a);const o=Reflect.get(n,t,a);return(rd(t)?Bp.has(t):S_(t))||(i||Jt(n,"get",t),e)?o:yt(o)?s&&nd(t)?o:o.value:Ge(o)?i?cd(o):dd(o):o}}const P_=Up(),I_=Up(!0);function Up(i=!1){return function(r,n,t,a){let s=r[n];if(vn(s)&&yt(s)&&!yt(t))return!1;if(!i&&(!Js(t)&&!vn(t)&&(s=Le(s),t=Le(t)),!Ee(r)&&yt(s)&&!yt(t)))return s.value=t,!0;const o=Ee(r)&&nd(n)?Number(n)<r.length:Oe(r,n),l=Reflect.set(r,n,t,a);return r===Le(a)&&(o?Ea(t,s)&&qi(r,"set",n,t):qi(r,"add",n,t)),l}}function A_(i,e){const r=Oe(i,e);i[e];const n=Reflect.deleteProperty(i,e);return n&&r&&qi(i,"delete",e,void 0),n}function k_(i,e){const r=Reflect.has(i,e);return(!rd(e)||!Bp.has(e))&&Jt(i,"has",e),r}function O_(i){return Jt(i,"iterate",Ee(i)?"length":Mr),Reflect.ownKeys(i)}const jp={get:x_,set:P_,deleteProperty:A_,has:k_,ownKeys:O_},D_={get:C_,set(i,e){return!0},deleteProperty(i,e){return!0}},L_=Mt({},jp,{get:E_,set:I_}),ld=i=>i,No=i=>Reflect.getPrototypeOf(i);function xs(i,e,r=!1,n=!1){i=i.__v_raw;const t=Le(i),a=Le(e);r||(e!==a&&Jt(t,"get",e),Jt(t,"get",a));const{has:s}=No(t),o=n?ld:r?hd:Ca;if(s.call(t,e))return o(i.get(e));if(s.call(t,a))return o(i.get(a));i!==t&&i.get(e)}function Es(i,e=!1){const r=this.__v_raw,n=Le(r),t=Le(i);return e||(i!==t&&Jt(n,"has",i),Jt(n,"has",t)),i===t?r.has(i):r.has(i)||r.has(t)}function Cs(i,e=!1){return i=i.__v_raw,!e&&Jt(Le(i),"iterate",Mr),Reflect.get(i,"size",i)}function Tf(i){i=Le(i);const e=Le(this);return No(e).has.call(e,i)||(e.add(i),qi(e,"add",i,i)),this}function bf(i,e){e=Le(e);const r=Le(this),{has:n,get:t}=No(r);let a=n.call(r,i);a||(i=Le(i),a=n.call(r,i));const s=t.call(r,i);return r.set(i,e),a?Ea(e,s)&&qi(r,"set",i,e):qi(r,"add",i,e),this}function Sf(i){const e=Le(this),{has:r,get:n}=No(e);let t=r.call(e,i);t||(i=Le(i),t=r.call(e,i)),n&&n.call(e,i);const a=e.delete(i);return t&&qi(e,"delete",i,void 0),a}function xf(){const i=Le(this),e=i.size!==0,r=i.clear();return e&&qi(i,"clear",void 0,void 0),r}function ws(i,e){return function(n,t){const a=this,s=a.__v_raw,o=Le(s),l=e?ld:i?hd:Ca;return!i&&Jt(o,"iterate",Mr),s.forEach((u,d)=>n.call(t,l(u),l(d),a))}}function Ps(i,e,r){return function(...n){const t=this.__v_raw,a=Le(t),s=dn(a),o=i==="entries"||i===Symbol.iterator&&s,l=i==="keys"&&s,u=t[i](...n),d=r?ld:e?hd:Ca;return!e&&Jt(a,"iterate",l?du:Mr),{next(){const{value:c,done:h}=u.next();return h?{value:c,done:h}:{value:o?[d(c[0]),d(c[1])]:d(c),done:h}},[Symbol.iterator](){return this}}}}function nr(i){return function(...e){return i==="delete"?!1:this}}function M_(){const i={get(a){return xs(this,a)},get size(){return Cs(this)},has:Es,add:Tf,set:bf,delete:Sf,clear:xf,forEach:ws(!1,!1)},e={get(a){return xs(this,a,!1,!0)},get size(){return Cs(this)},has:Es,add:Tf,set:bf,delete:Sf,clear:xf,forEach:ws(!1,!0)},r={get(a){return xs(this,a,!0)},get size(){return Cs(this,!0)},has(a){return Es.call(this,a,!0)},add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear"),forEach:ws(!0,!1)},n={get(a){return xs(this,a,!0,!0)},get size(){return Cs(this,!0)},has(a){return Es.call(this,a,!0)},add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear"),forEach:ws(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{i[a]=Ps(a,!1,!1),r[a]=Ps(a,!0,!1),e[a]=Ps(a,!1,!0),n[a]=Ps(a,!0,!0)}),[i,r,e,n]}const[R_,N_,F_,B_]=M_();function ud(i,e){const r=e?i?B_:F_:i?N_:R_;return(n,t,a)=>t==="__v_isReactive"?!i:t==="__v_isReadonly"?i:t==="__v_raw"?n:Reflect.get(Oe(r,t)&&t in n?r:n,t,a)}const U_={get:ud(!1,!1)},j_={get:ud(!1,!0)},H_={get:ud(!0,!1)},Hp=new WeakMap,Vp=new WeakMap,zp=new WeakMap,V_=new WeakMap;function z_(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function W_(i){return i.__v_skip||!Object.isExtensible(i)?0:z_(p_(i))}function dd(i){return vn(i)?i:fd(i,!1,jp,U_,Hp)}function G_(i){return fd(i,!1,L_,j_,Vp)}function cd(i){return fd(i,!0,D_,H_,zp)}function fd(i,e,r,n,t){if(!Ge(i)||i.__v_raw&&!(e&&i.__v_isReactive))return i;const a=t.get(i);if(a)return a;const s=W_(i);if(s===0)return i;const o=new Proxy(i,s===2?n:r);return t.set(i,o),o}function cn(i){return vn(i)?cn(i.__v_raw):!!(i&&i.__v_isReactive)}function vn(i){return!!(i&&i.__v_isReadonly)}function Js(i){return!!(i&&i.__v_isShallow)}function Wp(i){return cn(i)||vn(i)}function Le(i){const e=i&&i.__v_raw;return e?Le(e):i}function Gp(i){return Qs(i,"__v_skip",!0),i}const Ca=i=>Ge(i)?dd(i):i,hd=i=>Ge(i)?cd(i):i;function $p(i){ur&&di&&(i=Le(i),Fp(i.dep||(i.dep=ad())))}function qp(i,e){i=Le(i),i.dep&&cu(i.dep)}function yt(i){return!!(i&&i.__v_isRef===!0)}function tt(i){return Xp(i,!1)}function El(i){return Xp(i,!0)}function Xp(i,e){return yt(i)?i:new $_(i,e)}class $_{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Le(e),this._value=r?e:Ca(e)}get value(){return $p(this),this._value}set value(e){const r=this.__v_isShallow||Js(e)||vn(e);e=r?e:Le(e),Ea(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Ca(e),qp(this))}}function Zs(i){return yt(i)?i.value:i}const q_={get:(i,e,r)=>Zs(Reflect.get(i,e,r)),set:(i,e,r,n)=>{const t=i[e];return yt(t)&&!yt(r)?(t.value=r,!0):Reflect.set(i,e,r,n)}};function Kp(i){return cn(i)?i:new Proxy(i,q_)}var Yp;class X_{constructor(e,r,n,t){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[Yp]=!1,this._dirty=!0,this.effect=new sd(e,()=>{this._dirty||(this._dirty=!0,qp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!t,this.__v_isReadonly=n}get value(){const e=Le(this);return $p(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Yp="__v_isReadonly";function K_(i,e,r=!1){let n,t;const a=Ie(i);return a?(n=i,t=fi):(n=i.get,t=i.set),new X_(n,t,a||!t,r)}function dr(i,e,r,n){let t;try{t=n?i(...n):i()}catch(a){Fo(a,e,r)}return t}function hi(i,e,r,n){if(Ie(i)){const a=dr(i,e,r,n);return a&&kp(a)&&a.catch(s=>{Fo(s,e,r)}),a}const t=[];for(let a=0;a<i.length;a++)t.push(hi(i[a],e,r,n));return t}function Fo(i,e,r,n=!0){const t=e?e.vnode:null;if(e){let a=e.parent;const s=e.proxy,o=r;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](i,s,o)===!1)return}a=a.parent}const l=e.appContext.config.errorHandler;if(l){dr(l,null,10,[i,s,o]);return}}Y_(i,r,t,n)}function Y_(i,e,r,n=!0){console.error(i)}let wa=!1,fu=!1;const vt=[];let Pi=0;const fn=[];let ji=null,kr=0;const Qp=Promise.resolve();let pd=null;function Jp(i){const e=pd||Qp;return i?e.then(this?i.bind(this):i):e}function Q_(i){let e=Pi+1,r=vt.length;for(;e<r;){const n=e+r>>>1;Pa(vt[n])<i?e=n+1:r=n}return e}function md(i){(!vt.length||!vt.includes(i,wa&&i.allowRecurse?Pi+1:Pi))&&(i.id==null?vt.push(i):vt.splice(Q_(i.id),0,i),Zp())}function Zp(){!wa&&!fu&&(fu=!0,pd=Qp.then(tm))}function J_(i){const e=vt.indexOf(i);e>Pi&&vt.splice(e,1)}function Z_(i){Ee(i)?fn.push(...i):(!ji||!ji.includes(i,i.allowRecurse?kr+1:kr))&&fn.push(i),Zp()}function Ef(i,e=wa?Pi+1:0){for(;e<vt.length;e++){const r=vt[e];r&&r.pre&&(vt.splice(e,1),e--,r())}}function em(i){if(fn.length){const e=[...new Set(fn)];if(fn.length=0,ji){ji.push(...e);return}for(ji=e,ji.sort((r,n)=>Pa(r)-Pa(n)),kr=0;kr<ji.length;kr++)ji[kr]();ji=null,kr=0}}const Pa=i=>i.id==null?1/0:i.id,eT=(i,e)=>{const r=Pa(i)-Pa(e);if(r===0){if(i.pre&&!e.pre)return-1;if(e.pre&&!i.pre)return 1}return r};function tm(i){fu=!1,wa=!0,vt.sort(eT);const e=fi;try{for(Pi=0;Pi<vt.length;Pi++){const r=vt[Pi];r&&r.active!==!1&&dr(r,null,14)}}finally{Pi=0,vt.length=0,em(),wa=!1,pd=null,(vt.length||fn.length)&&tm()}}function tT(i,e,...r){if(i.isUnmounted)return;const n=i.vnode.props||We;let t=r;const a=e.startsWith("update:"),s=a&&e.slice(7);if(s&&s in n){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:c,trim:h}=n[d]||We;h&&(t=r.map(g=>rt(g)?g.trim():g)),c&&(t=r.map(Lp))}let o,l=n[o=Sl(e)]||n[o=Sl(Mi(e))];!l&&a&&(l=n[o=Sl(Vr(e))]),l&&hi(l,i,6,t);const u=n[o+"Once"];if(u){if(!i.emitted)i.emitted={};else if(i.emitted[o])return;i.emitted[o]=!0,hi(u,i,6,t)}}function im(i,e,r=!1){const n=e.emitsCache,t=n.get(i);if(t!==void 0)return t;const a=i.emits;let s={},o=!1;if(!Ie(i)){const l=u=>{const d=im(u,e,!0);d&&(o=!0,Mt(s,d))};!r&&e.mixins.length&&e.mixins.forEach(l),i.extends&&l(i.extends),i.mixins&&i.mixins.forEach(l)}return!a&&!o?(Ge(i)&&n.set(i,null),null):(Ee(a)?a.forEach(l=>s[l]=null):Mt(s,a),Ge(i)&&n.set(i,s),s)}function Bo(i,e){return!i||!Do(e)?!1:(e=e.slice(2).replace(/Once$/,""),Oe(i,e[0].toLowerCase()+e.slice(1))||Oe(i,Vr(e))||Oe(i,e))}let Dt=null,Uo=null;function eo(i){const e=Dt;return Dt=i,Uo=i&&i.type.__scopeId||null,e}function iT(i){Uo=i}function rT(){Uo=null}function ma(i,e=Dt,r){if(!e||i._n)return i;const n=(...t)=>{n._d&&Lf(-1);const a=eo(e);let s;try{s=i(...t)}finally{eo(a),n._d&&Lf(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function Cl(i){const{type:e,vnode:r,proxy:n,withProxy:t,props:a,propsOptions:[s],slots:o,attrs:l,emit:u,render:d,renderCache:c,data:h,setupState:g,ctx:y,inheritAttrs:_}=i;let b,E;const A=eo(i);try{if(r.shapeFlag&4){const k=t||n;b=Ci(d.call(k,k,c,a,g,h,y)),E=l}else{const k=e;b=Ci(k.length>1?k(a,{attrs:l,slots:o,emit:u}):k(a,null)),E=e.props?l:nT(l)}}catch(k){ya.length=0,Fo(k,i,1),b=ht(fr)}let I=b;if(E&&_!==!1){const k=Object.keys(E),{shapeFlag:D}=I;k.length&&D&7&&(s&&k.some(td)&&(E=aT(E,s)),I=Tn(I,E))}return r.dirs&&(I=Tn(I),I.dirs=I.dirs?I.dirs.concat(r.dirs):r.dirs),r.transition&&(I.transition=r.transition),b=I,eo(A),b}const nT=i=>{let e;for(const r in i)(r==="class"||r==="style"||Do(r))&&((e||(e={}))[r]=i[r]);return e},aT=(i,e)=>{const r={};for(const n in i)(!td(n)||!(n.slice(9)in e))&&(r[n]=i[n]);return r};function sT(i,e,r){const{props:n,children:t,component:a}=i,{props:s,children:o,patchFlag:l}=e,u=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Cf(n,s,u):!!s;if(l&8){const d=e.dynamicProps;for(let c=0;c<d.length;c++){const h=d[c];if(s[h]!==n[h]&&!Bo(u,h))return!0}}}else return(t||o)&&(!o||!o.$stable)?!0:n===s?!1:n?s?Cf(n,s,u):!0:!!s;return!1}function Cf(i,e,r){const n=Object.keys(e);if(n.length!==Object.keys(i).length)return!0;for(let t=0;t<n.length;t++){const a=n[t];if(e[a]!==i[a]&&!Bo(r,a))return!0}return!1}function oT({vnode:i,parent:e},r){for(;e&&e.subTree===i;)(i=e.vnode).el=r,e=e.parent}const lT=i=>i.__isSuspense;function uT(i,e){e&&e.pendingBranch?Ee(i)?e.effects.push(...i):e.effects.push(i):Z_(i)}function gd(i,e){if(ft){let r=ft.provides;const n=ft.parent&&ft.parent.provides;n===r&&(r=ft.provides=Object.create(n)),r[i]=e}}function Vs(i,e,r=!1){const n=ft||Dt;if(n){const t=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(t&&i in t)return t[i];if(arguments.length>1)return r&&Ie(e)?e.call(n.proxy):e}}const Is={};function pi(i,e,r){return rm(i,e,r)}function rm(i,e,{immediate:r,deep:n,flush:t,onTrack:a,onTrigger:s}=We){const o=ft;let l,u=!1,d=!1;if(yt(i)?(l=()=>i.value,u=Js(i)):cn(i)?(l=()=>i,n=!0):Ee(i)?(d=!0,u=i.some(I=>cn(I)||Js(I)),l=()=>i.map(I=>{if(yt(I))return I.value;if(cn(I))return rn(I);if(Ie(I))return dr(I,o,2)})):Ie(i)?e?l=()=>dr(i,o,2):l=()=>{if(!(o&&o.isUnmounted))return c&&c(),hi(i,o,3,[h])}:l=fi,e&&n){const I=l;l=()=>rn(I())}let c,h=I=>{c=E.onStop=()=>{dr(I,o,4)}},g;if(Aa)if(h=fi,e?r&&hi(e,o,3,[l(),d?[]:void 0,h]):l(),t==="sync"){const I=eb();g=I.__watcherHandles||(I.__watcherHandles=[])}else return fi;let y=d?new Array(i.length).fill(Is):Is;const _=()=>{if(E.active)if(e){const I=E.run();(n||u||(d?I.some((k,D)=>Ea(k,y[D])):Ea(I,y)))&&(c&&c(),hi(e,o,3,[I,y===Is?void 0:d&&y[0]===Is?[]:y,h]),y=I)}else E.run()};_.allowRecurse=!!e;let b;t==="sync"?b=_:t==="post"?b=()=>Ft(_,o&&o.suspense):(_.pre=!0,o&&(_.id=o.uid),b=()=>md(_));const E=new sd(l,b);e?r?_():y=E.run():t==="post"?Ft(E.run.bind(E),o&&o.suspense):E.run();const A=()=>{E.stop(),o&&o.scope&&id(o.scope.effects,E)};return g&&g.push(A),A}function dT(i,e,r){const n=this.proxy,t=rt(i)?i.includes(".")?nm(n,i):()=>n[i]:i.bind(n,n);let a;Ie(e)?a=e:(a=e.handler,r=e);const s=ft;bn(this);const o=rm(t,a.bind(n),r);return s?bn(s):Rr(),o}function nm(i,e){const r=e.split(".");return()=>{let n=i;for(let t=0;t<r.length&&n;t++)n=n[r[t]];return n}}function rn(i,e){if(!Ge(i)||i.__v_skip||(e=e||new Set,e.has(i)))return i;if(e.add(i),yt(i))rn(i.value,e);else if(Ee(i))for(let r=0;r<i.length;r++)rn(i[r],e);else if(Ap(i)||dn(i))i.forEach(r=>{rn(r,e)});else if(Dp(i))for(const r in i)rn(i[r],e);return i}function Fn(i){return Ie(i)?{setup:i,name:i.name}:i}const ga=i=>!!i.type.__asyncLoader,am=i=>i.type.__isKeepAlive;function cT(i,e){sm(i,"a",e)}function fT(i,e){sm(i,"da",e)}function sm(i,e,r=ft){const n=i.__wdc||(i.__wdc=()=>{let t=r;for(;t;){if(t.isDeactivated)return;t=t.parent}return i()});if(jo(e,n,r),r){let t=r.parent;for(;t&&t.parent;)am(t.parent.vnode)&&hT(n,e,r,t),t=t.parent}}function hT(i,e,r,n){const t=jo(e,i,n,!0);yd(()=>{id(n[e],t)},r)}function jo(i,e,r=ft,n=!1){if(r){const t=r[i]||(r[i]=[]),a=e.__weh||(e.__weh=(...s)=>{if(r.isUnmounted)return;Rn(),bn(r);const o=hi(e,r,i,s);return Rr(),Nn(),o});return n?t.unshift(a):t.push(a),a}}const Zi=i=>(e,r=ft)=>(!Aa||i==="sp")&&jo(i,(...n)=>e(...n),r),pT=Zi("bm"),Ho=Zi("m"),om=Zi("bu"),vd=Zi("u"),Vo=Zi("bum"),yd=Zi("um"),mT=Zi("sp"),gT=Zi("rtg"),vT=Zi("rtc");function yT(i,e=ft){jo("ec",i,e)}function Cr(i,e,r,n){const t=i.dirs,a=e&&e.dirs;for(let s=0;s<t.length;s++){const o=t[s];a&&(o.oldValue=a[s].value);let l=o.dir[n];l&&(Rn(),hi(l,r,8,[i.el,o,i,e]),Nn())}}const _d="components";function _T(i,e){return um(_d,i,!0,e)||i}const lm=Symbol();function TT(i){return rt(i)?um(_d,i,!1)||i:i||lm}function um(i,e,r=!0,n=!1){const t=Dt||ft;if(t){const a=t.type;if(i===_d){const o=QT(a,!1);if(o&&(o===e||o===Mi(e)||o===Ro(Mi(e))))return a}const s=wf(t[i]||a[i],e)||wf(t.appContext[i],e);return!s&&n?a:s}}function wf(i,e){return i&&(i[e]||i[Mi(e)]||i[Ro(Mi(e))])}function bT(i,e,r,n){let t;const a=r&&r[n];if(Ee(i)||rt(i)){t=new Array(i.length);for(let s=0,o=i.length;s<o;s++)t[s]=e(i[s],s,void 0,a&&a[s])}else if(typeof i=="number"){t=new Array(i);for(let s=0;s<i;s++)t[s]=e(s+1,s,void 0,a&&a[s])}else if(Ge(i))if(i[Symbol.iterator])t=Array.from(i,(s,o)=>e(s,o,void 0,a&&a[o]));else{const s=Object.keys(i);t=new Array(s.length);for(let o=0,l=s.length;o<l;o++){const u=s[o];t[o]=e(i[u],u,o,a&&a[o])}}else t=[];return r&&(r[n]=t),t}function ST(i,e,r={},n,t){if(Dt.isCE||Dt.parent&&ga(Dt.parent)&&Dt.parent.isCE)return e!=="default"&&(r.name=e),ht("slot",r,n&&n());let a=i[e];a&&a._c&&(a._d=!1),ri();const s=a&&dm(a(r)),o=_n(qt,{key:r.key||s&&s.key||`_${e}`},s||(n?n():[]),s&&i._===1?64:-2);return!t&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function dm(i){return i.some(e=>io(e)?!(e.type===fr||e.type===qt&&!dm(e.children)):!0)?i:null}const hu=i=>i?Sm(i)?Ed(i)||i.proxy:hu(i.parent):null,va=Mt(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>hu(i.parent),$root:i=>hu(i.root),$emit:i=>i.emit,$options:i=>Td(i),$forceUpdate:i=>i.f||(i.f=()=>md(i.update)),$nextTick:i=>i.n||(i.n=Jp.bind(i.proxy)),$watch:i=>dT.bind(i)}),wl=(i,e)=>i!==We&&!i.__isScriptSetup&&Oe(i,e),xT={get({_:i},e){const{ctx:r,setupState:n,data:t,props:a,accessCache:s,type:o,appContext:l}=i;let u;if(e[0]!=="$"){const g=s[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return t[e];case 4:return r[e];case 3:return a[e]}else{if(wl(n,e))return s[e]=1,n[e];if(t!==We&&Oe(t,e))return s[e]=2,t[e];if((u=i.propsOptions[0])&&Oe(u,e))return s[e]=3,a[e];if(r!==We&&Oe(r,e))return s[e]=4,r[e];pu&&(s[e]=0)}}const d=va[e];let c,h;if(d)return e==="$attrs"&&Jt(i,"get",e),d(i);if((c=o.__cssModules)&&(c=c[e]))return c;if(r!==We&&Oe(r,e))return s[e]=4,r[e];if(h=l.config.globalProperties,Oe(h,e))return h[e]},set({_:i},e,r){const{data:n,setupState:t,ctx:a}=i;return wl(t,e)?(t[e]=r,!0):n!==We&&Oe(n,e)?(n[e]=r,!0):Oe(i.props,e)||e[0]==="$"&&e.slice(1)in i?!1:(a[e]=r,!0)},has({_:{data:i,setupState:e,accessCache:r,ctx:n,appContext:t,propsOptions:a}},s){let o;return!!r[s]||i!==We&&Oe(i,s)||wl(e,s)||(o=a[0])&&Oe(o,s)||Oe(n,s)||Oe(va,s)||Oe(t.config.globalProperties,s)},defineProperty(i,e,r){return r.get!=null?i._.accessCache[e]=0:Oe(r,"value")&&this.set(i,e,r.value,null),Reflect.defineProperty(i,e,r)}};let pu=!0;function ET(i){const e=Td(i),r=i.proxy,n=i.ctx;pu=!1,e.beforeCreate&&Pf(e.beforeCreate,i,"bc");const{data:t,computed:a,methods:s,watch:o,provide:l,inject:u,created:d,beforeMount:c,mounted:h,beforeUpdate:g,updated:y,activated:_,deactivated:b,beforeDestroy:E,beforeUnmount:A,destroyed:I,unmounted:k,render:D,renderTracked:j,renderTriggered:V,errorCaptured:R,serverPrefetch:U,expose:H,inheritAttrs:z,components:G,directives:K,filters:de}=e;if(u&&CT(u,n,null,i.appContext.config.unwrapInjectedRef),s)for(const $ in s){const ne=s[$];Ie(ne)&&(n[$]=ne.bind(r))}if(t){const $=t.call(r,r);Ge($)&&(i.data=dd($))}if(pu=!0,a)for(const $ in a){const ne=a[$],_e=Ie(ne)?ne.bind(r,r):Ie(ne.get)?ne.get.bind(r,r):fi,be=!Ie(ne)&&Ie(ne.set)?ne.set.bind(r):fi,$e=ro({get:_e,set:be});Object.defineProperty(n,$,{enumerable:!0,configurable:!0,get:()=>$e.value,set:he=>$e.value=he})}if(o)for(const $ in o)cm(o[$],n,r,$);if(l){const $=Ie(l)?l.call(r):l;Reflect.ownKeys($).forEach(ne=>{gd(ne,$[ne])})}d&&Pf(d,i,"c");function W($,ne){Ee(ne)?ne.forEach(_e=>$(_e.bind(r))):ne&&$(ne.bind(r))}if(W(pT,c),W(Ho,h),W(om,g),W(vd,y),W(cT,_),W(fT,b),W(yT,R),W(vT,j),W(gT,V),W(Vo,A),W(yd,k),W(mT,U),Ee(H))if(H.length){const $=i.exposed||(i.exposed={});H.forEach(ne=>{Object.defineProperty($,ne,{get:()=>r[ne],set:_e=>r[ne]=_e})})}else i.exposed||(i.exposed={});D&&i.render===fi&&(i.render=D),z!=null&&(i.inheritAttrs=z),G&&(i.components=G),K&&(i.directives=K)}function CT(i,e,r=fi,n=!1){Ee(i)&&(i=mu(i));for(const t in i){const a=i[t];let s;Ge(a)?"default"in a?s=Vs(a.from||t,a.default,!0):s=Vs(a.from||t):s=Vs(a),yt(s)&&n?Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[t]=s}}function Pf(i,e,r){hi(Ee(i)?i.map(n=>n.bind(e.proxy)):i.bind(e.proxy),e,r)}function cm(i,e,r,n){const t=n.includes(".")?nm(r,n):()=>r[n];if(rt(i)){const a=e[i];Ie(a)&&pi(t,a)}else if(Ie(i))pi(t,i.bind(r));else if(Ge(i))if(Ee(i))i.forEach(a=>cm(a,e,r,n));else{const a=Ie(i.handler)?i.handler.bind(r):e[i.handler];Ie(a)&&pi(t,a,i)}}function Td(i){const e=i.type,{mixins:r,extends:n}=e,{mixins:t,optionsCache:a,config:{optionMergeStrategies:s}}=i.appContext,o=a.get(e);let l;return o?l=o:!t.length&&!r&&!n?l=e:(l={},t.length&&t.forEach(u=>to(l,u,s,!0)),to(l,e,s)),Ge(e)&&a.set(e,l),l}function to(i,e,r,n=!1){const{mixins:t,extends:a}=e;a&&to(i,a,r,!0),t&&t.forEach(s=>to(i,s,r,!0));for(const s in e)if(!(n&&s==="expose")){const o=wT[s]||r&&r[s];i[s]=o?o(i[s],e[s]):e[s]}return i}const wT={data:If,props:Ir,emits:Ir,methods:Ir,computed:Ir,beforeCreate:wt,created:wt,beforeMount:wt,mounted:wt,beforeUpdate:wt,updated:wt,beforeDestroy:wt,beforeUnmount:wt,destroyed:wt,unmounted:wt,activated:wt,deactivated:wt,errorCaptured:wt,serverPrefetch:wt,components:Ir,directives:Ir,watch:IT,provide:If,inject:PT};function If(i,e){return e?i?function(){return Mt(Ie(i)?i.call(this,this):i,Ie(e)?e.call(this,this):e)}:e:i}function PT(i,e){return Ir(mu(i),mu(e))}function mu(i){if(Ee(i)){const e={};for(let r=0;r<i.length;r++)e[i[r]]=i[r];return e}return i}function wt(i,e){return i?[...new Set([].concat(i,e))]:e}function Ir(i,e){return i?Mt(Mt(Object.create(null),i),e):e}function IT(i,e){if(!i)return e;if(!e)return i;const r=Mt(Object.create(null),i);for(const n in e)r[n]=wt(i[n],e[n]);return r}function AT(i,e,r,n=!1){const t={},a={};Qs(a,Wo,1),i.propsDefaults=Object.create(null),fm(i,e,t,a);for(const s in i.propsOptions[0])s in t||(t[s]=void 0);r?i.props=n?t:G_(t):i.type.props?i.props=t:i.props=a,i.attrs=a}function kT(i,e,r,n){const{props:t,attrs:a,vnode:{patchFlag:s}}=i,o=Le(t),[l]=i.propsOptions;let u=!1;if((n||s>0)&&!(s&16)){if(s&8){const d=i.vnode.dynamicProps;for(let c=0;c<d.length;c++){let h=d[c];if(Bo(i.emitsOptions,h))continue;const g=e[h];if(l)if(Oe(a,h))g!==a[h]&&(a[h]=g,u=!0);else{const y=Mi(h);t[y]=gu(l,o,y,g,i,!1)}else g!==a[h]&&(a[h]=g,u=!0)}}}else{fm(i,e,t,a)&&(u=!0);let d;for(const c in o)(!e||!Oe(e,c)&&((d=Vr(c))===c||!Oe(e,d)))&&(l?r&&(r[c]!==void 0||r[d]!==void 0)&&(t[c]=gu(l,o,c,void 0,i,!0)):delete t[c]);if(a!==o)for(const c in a)(!e||!Oe(e,c))&&(delete a[c],u=!0)}u&&qi(i,"set","$attrs")}function fm(i,e,r,n){const[t,a]=i.propsOptions;let s=!1,o;if(e)for(let l in e){if(Hs(l))continue;const u=e[l];let d;t&&Oe(t,d=Mi(l))?!a||!a.includes(d)?r[d]=u:(o||(o={}))[d]=u:Bo(i.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,s=!0)}if(a){const l=Le(r),u=o||We;for(let d=0;d<a.length;d++){const c=a[d];r[c]=gu(t,l,c,u[c],i,!Oe(u,c))}}return s}function gu(i,e,r,n,t,a){const s=i[r];if(s!=null){const o=Oe(s,"default");if(o&&n===void 0){const l=s.default;if(s.type!==Function&&Ie(l)){const{propsDefaults:u}=t;r in u?n=u[r]:(bn(t),n=u[r]=l.call(null,e),Rr())}else n=l}s[0]&&(a&&!o?n=!1:s[1]&&(n===""||n===Vr(r))&&(n=!0))}return n}function hm(i,e,r=!1){const n=e.propsCache,t=n.get(i);if(t)return t;const a=i.props,s={},o=[];let l=!1;if(!Ie(i)){const d=c=>{l=!0;const[h,g]=hm(c,e,!0);Mt(s,h),g&&o.push(...g)};!r&&e.mixins.length&&e.mixins.forEach(d),i.extends&&d(i.extends),i.mixins&&i.mixins.forEach(d)}if(!a&&!l)return Ge(i)&&n.set(i,un),un;if(Ee(a))for(let d=0;d<a.length;d++){const c=Mi(a[d]);Af(c)&&(s[c]=We)}else if(a)for(const d in a){const c=Mi(d);if(Af(c)){const h=a[d],g=s[c]=Ee(h)||Ie(h)?{type:h}:Object.assign({},h);if(g){const y=Df(Boolean,g.type),_=Df(String,g.type);g[0]=y>-1,g[1]=_<0||y<_,(y>-1||Oe(g,"default"))&&o.push(c)}}}const u=[s,o];return Ge(i)&&n.set(i,u),u}function Af(i){return i[0]!=="$"}function kf(i){const e=i&&i.toString().match(/^\s*function (\w+)/);return e?e[1]:i===null?"null":""}function Of(i,e){return kf(i)===kf(e)}function Df(i,e){return Ee(e)?e.findIndex(r=>Of(r,i)):Ie(e)&&Of(e,i)?0:-1}const pm=i=>i[0]==="_"||i==="$stable",bd=i=>Ee(i)?i.map(Ci):[Ci(i)],OT=(i,e,r)=>{if(e._n)return e;const n=ma((...t)=>bd(e(...t)),r);return n._c=!1,n},mm=(i,e,r)=>{const n=i._ctx;for(const t in i){if(pm(t))continue;const a=i[t];if(Ie(a))e[t]=OT(t,a,n);else if(a!=null){const s=bd(a);e[t]=()=>s}}},gm=(i,e)=>{const r=bd(e);i.slots.default=()=>r},DT=(i,e)=>{if(i.vnode.shapeFlag&32){const r=e._;r?(i.slots=Le(e),Qs(e,"_",r)):mm(e,i.slots={})}else i.slots={},e&&gm(i,e);Qs(i.slots,Wo,1)},LT=(i,e,r)=>{const{vnode:n,slots:t}=i;let a=!0,s=We;if(n.shapeFlag&32){const o=e._;o?r&&o===1?a=!1:(Mt(t,e),!r&&o===1&&delete t._):(a=!e.$stable,mm(e,t)),s=e}else e&&(gm(i,e),s={default:1});if(a)for(const o in t)!pm(o)&&!(o in s)&&delete t[o]};function vm(){return{app:null,config:{isNativeTag:c_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MT=0;function RT(i,e){return function(n,t=null){Ie(n)||(n=Object.assign({},n)),t!=null&&!Ge(t)&&(t=null);const a=vm(),s=new Set;let o=!1;const l=a.app={_uid:MT++,_component:n,_props:t,_container:null,_context:a,_instance:null,version:tb,get config(){return a.config},set config(u){},use(u,...d){return s.has(u)||(u&&Ie(u.install)?(s.add(u),u.install(l,...d)):Ie(u)&&(s.add(u),u(l,...d))),l},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),l},component(u,d){return d?(a.components[u]=d,l):a.components[u]},directive(u,d){return d?(a.directives[u]=d,l):a.directives[u]},mount(u,d,c){if(!o){const h=ht(n,t);return h.appContext=a,d&&e?e(h,u):i(h,u,c),o=!0,l._container=u,u.__vue_app__=l,Ed(h.component)||h.component.proxy}},unmount(){o&&(i(null,l._container),delete l._container.__vue_app__)},provide(u,d){return a.provides[u]=d,l}};return l}}function vu(i,e,r,n,t=!1){if(Ee(i)){i.forEach((h,g)=>vu(h,e&&(Ee(e)?e[g]:e),r,n,t));return}if(ga(n)&&!t)return;const a=n.shapeFlag&4?Ed(n.component)||n.component.proxy:n.el,s=t?null:a,{i:o,r:l}=i,u=e&&e.r,d=o.refs===We?o.refs={}:o.refs,c=o.setupState;if(u!=null&&u!==l&&(rt(u)?(d[u]=null,Oe(c,u)&&(c[u]=null)):yt(u)&&(u.value=null)),Ie(l))dr(l,o,12,[s,d]);else{const h=rt(l),g=yt(l);if(h||g){const y=()=>{if(i.f){const _=h?Oe(c,l)?c[l]:d[l]:l.value;t?Ee(_)&&id(_,a):Ee(_)?_.includes(a)||_.push(a):h?(d[l]=[a],Oe(c,l)&&(c[l]=d[l])):(l.value=[a],i.k&&(d[i.k]=l.value))}else h?(d[l]=s,Oe(c,l)&&(c[l]=s)):g&&(l.value=s,i.k&&(d[i.k]=s))};s?(y.id=-1,Ft(y,r)):y()}}}const Ft=uT;function NT(i){return FT(i)}function FT(i,e){const r=v_();r.__VUE__=!0;const{insert:n,remove:t,patchProp:a,createElement:s,createText:o,createComment:l,setText:u,setElementText:d,parentNode:c,nextSibling:h,setScopeId:g=fi,insertStaticContent:y}=i,_=(L,B,q,Z=null,J=null,re=null,ce=!1,Q=null,le=!!B.dynamicChildren)=>{if(L===B)return;L&&!Zn(L,B)&&(Z=Rt(L),he(L,J,re,!0),L=null),B.patchFlag===-2&&(le=!1,B.dynamicChildren=null);const{type:te,ref:ge,shapeFlag:pe}=B;switch(te){case zo:b(L,B,q,Z);break;case fr:E(L,B,q,Z);break;case Pl:L==null&&A(B,q,Z,ce);break;case qt:G(L,B,q,Z,J,re,ce,Q,le);break;default:pe&1?D(L,B,q,Z,J,re,ce,Q,le):pe&6?K(L,B,q,Z,J,re,ce,Q,le):(pe&64||pe&128)&&te.process(L,B,q,Z,J,re,ce,Q,le,mt)}ge!=null&&J&&vu(ge,L&&L.ref,re,B||L,!B)},b=(L,B,q,Z)=>{if(L==null)n(B.el=o(B.children),q,Z);else{const J=B.el=L.el;B.children!==L.children&&u(J,B.children)}},E=(L,B,q,Z)=>{L==null?n(B.el=l(B.children||""),q,Z):B.el=L.el},A=(L,B,q,Z)=>{[L.el,L.anchor]=y(L.children,B,q,Z,L.el,L.anchor)},I=({el:L,anchor:B},q,Z)=>{let J;for(;L&&L!==B;)J=h(L),n(L,q,Z),L=J;n(B,q,Z)},k=({el:L,anchor:B})=>{let q;for(;L&&L!==B;)q=h(L),t(L),L=q;t(B)},D=(L,B,q,Z,J,re,ce,Q,le)=>{ce=ce||B.type==="svg",L==null?j(B,q,Z,J,re,ce,Q,le):U(L,B,J,re,ce,Q,le)},j=(L,B,q,Z,J,re,ce,Q)=>{let le,te;const{type:ge,props:pe,shapeFlag:me,transition:Te,dirs:Ce}=L;if(le=L.el=s(L.type,re,pe&&pe.is,pe),me&8?d(le,L.children):me&16&&R(L.children,le,null,Z,J,re&&ge!=="foreignObject",ce,Q),Ce&&Cr(L,null,Z,"created"),pe){for(const De in pe)De!=="value"&&!Hs(De)&&a(le,De,null,pe[De],re,L.children,Z,J,qe);"value"in pe&&a(le,"value",null,pe.value),(te=pe.onVnodeBeforeMount)&&Si(te,Z,L)}V(le,L,L.scopeId,ce,Z),Ce&&Cr(L,null,Z,"beforeMount");const Me=(!J||J&&!J.pendingBranch)&&Te&&!Te.persisted;Me&&Te.beforeEnter(le),n(le,B,q),((te=pe&&pe.onVnodeMounted)||Me||Ce)&&Ft(()=>{te&&Si(te,Z,L),Me&&Te.enter(le),Ce&&Cr(L,null,Z,"mounted")},J)},V=(L,B,q,Z,J)=>{if(q&&g(L,q),Z)for(let re=0;re<Z.length;re++)g(L,Z[re]);if(J){let re=J.subTree;if(B===re){const ce=J.vnode;V(L,ce,ce.scopeId,ce.slotScopeIds,J.parent)}}},R=(L,B,q,Z,J,re,ce,Q,le=0)=>{for(let te=le;te<L.length;te++){const ge=L[te]=Q?sr(L[te]):Ci(L[te]);_(null,ge,B,q,Z,J,re,ce,Q)}},U=(L,B,q,Z,J,re,ce)=>{const Q=B.el=L.el;let{patchFlag:le,dynamicChildren:te,dirs:ge}=B;le|=L.patchFlag&16;const pe=L.props||We,me=B.props||We;let Te;q&&wr(q,!1),(Te=me.onVnodeBeforeUpdate)&&Si(Te,q,B,L),ge&&Cr(B,L,q,"beforeUpdate"),q&&wr(q,!0);const Ce=J&&B.type!=="foreignObject";if(te?H(L.dynamicChildren,te,Q,q,Z,Ce,re):ce||ne(L,B,Q,null,q,Z,Ce,re,!1),le>0){if(le&16)z(Q,B,pe,me,q,Z,J);else if(le&2&&pe.class!==me.class&&a(Q,"class",null,me.class,J),le&4&&a(Q,"style",pe.style,me.style,J),le&8){const Me=B.dynamicProps;for(let De=0;De<Me.length;De++){const Xe=Me[De],Nt=pe[Xe],Ae=me[Xe];(Ae!==Nt||Xe==="value")&&a(Q,Xe,Nt,Ae,J,L.children,q,Z,qe)}}le&1&&L.children!==B.children&&d(Q,B.children)}else!ce&&te==null&&z(Q,B,pe,me,q,Z,J);((Te=me.onVnodeUpdated)||ge)&&Ft(()=>{Te&&Si(Te,q,B,L),ge&&Cr(B,L,q,"updated")},Z)},H=(L,B,q,Z,J,re,ce)=>{for(let Q=0;Q<B.length;Q++){const le=L[Q],te=B[Q],ge=le.el&&(le.type===qt||!Zn(le,te)||le.shapeFlag&70)?c(le.el):q;_(le,te,ge,null,Z,J,re,ce,!0)}},z=(L,B,q,Z,J,re,ce)=>{if(q!==Z){if(q!==We)for(const Q in q)!Hs(Q)&&!(Q in Z)&&a(L,Q,q[Q],null,ce,B.children,J,re,qe);for(const Q in Z){if(Hs(Q))continue;const le=Z[Q],te=q[Q];le!==te&&Q!=="value"&&a(L,Q,te,le,ce,B.children,J,re,qe)}"value"in Z&&a(L,"value",q.value,Z.value)}},G=(L,B,q,Z,J,re,ce,Q,le)=>{const te=B.el=L?L.el:o(""),ge=B.anchor=L?L.anchor:o("");let{patchFlag:pe,dynamicChildren:me,slotScopeIds:Te}=B;Te&&(Q=Q?Q.concat(Te):Te),L==null?(n(te,q,Z),n(ge,q,Z),R(B.children,q,ge,J,re,ce,Q,le)):pe>0&&pe&64&&me&&L.dynamicChildren?(H(L.dynamicChildren,me,q,J,re,ce,Q),(B.key!=null||J&&B===J.subTree)&&ym(L,B,!0)):ne(L,B,q,ge,J,re,ce,Q,le)},K=(L,B,q,Z,J,re,ce,Q,le)=>{B.slotScopeIds=Q,L==null?B.shapeFlag&512?J.ctx.activate(B,q,Z,ce,le):de(B,q,Z,J,re,ce,le):Y(L,B,le)},de=(L,B,q,Z,J,re,ce)=>{const Q=L.component=$T(L,Z,J);if(am(L)&&(Q.ctx.renderer=mt),qT(Q),Q.asyncDep){if(J&&J.registerDep(Q,W),!L.el){const le=Q.subTree=ht(fr);E(null,le,B,q)}return}W(Q,L,B,q,J,re,ce)},Y=(L,B,q)=>{const Z=B.component=L.component;if(sT(L,B,q))if(Z.asyncDep&&!Z.asyncResolved){$(Z,B,q);return}else Z.next=B,J_(Z.update),Z.update();else B.el=L.el,Z.vnode=B},W=(L,B,q,Z,J,re,ce)=>{const Q=()=>{if(L.isMounted){let{next:ge,bu:pe,u:me,parent:Te,vnode:Ce}=L,Me=ge,De;wr(L,!1),ge?(ge.el=Ce.el,$(L,ge,ce)):ge=Ce,pe&&xl(pe),(De=ge.props&&ge.props.onVnodeBeforeUpdate)&&Si(De,Te,ge,Ce),wr(L,!0);const Xe=Cl(L),Nt=L.subTree;L.subTree=Xe,_(Nt,Xe,c(Nt.el),Rt(Nt),L,J,re),ge.el=Xe.el,Me===null&&oT(L,Xe.el),me&&Ft(me,J),(De=ge.props&&ge.props.onVnodeUpdated)&&Ft(()=>Si(De,Te,ge,Ce),J)}else{let ge;const{el:pe,props:me}=B,{bm:Te,m:Ce,parent:Me}=L,De=ga(B);if(wr(L,!1),Te&&xl(Te),!De&&(ge=me&&me.onVnodeBeforeMount)&&Si(ge,Me,B),wr(L,!0),pe&&si){const Xe=()=>{L.subTree=Cl(L),si(pe,L.subTree,L,J,null)};De?B.type.__asyncLoader().then(()=>!L.isUnmounted&&Xe()):Xe()}else{const Xe=L.subTree=Cl(L);_(null,Xe,q,Z,L,J,re),B.el=Xe.el}if(Ce&&Ft(Ce,J),!De&&(ge=me&&me.onVnodeMounted)){const Xe=B;Ft(()=>Si(ge,Me,Xe),J)}(B.shapeFlag&256||Me&&ga(Me.vnode)&&Me.vnode.shapeFlag&256)&&L.a&&Ft(L.a,J),L.isMounted=!0,B=q=Z=null}},le=L.effect=new sd(Q,()=>md(te),L.scope),te=L.update=()=>le.run();te.id=L.uid,wr(L,!0),te()},$=(L,B,q)=>{B.component=L;const Z=L.vnode.props;L.vnode=B,L.next=null,kT(L,B.props,Z,q),LT(L,B.children,q),Rn(),Ef(),Nn()},ne=(L,B,q,Z,J,re,ce,Q,le=!1)=>{const te=L&&L.children,ge=L?L.shapeFlag:0,pe=B.children,{patchFlag:me,shapeFlag:Te}=B;if(me>0){if(me&128){be(te,pe,q,Z,J,re,ce,Q,le);return}else if(me&256){_e(te,pe,q,Z,J,re,ce,Q,le);return}}Te&8?(ge&16&&qe(te,J,re),pe!==te&&d(q,pe)):ge&16?Te&16?be(te,pe,q,Z,J,re,ce,Q,le):qe(te,J,re,!0):(ge&8&&d(q,""),Te&16&&R(pe,q,Z,J,re,ce,Q,le))},_e=(L,B,q,Z,J,re,ce,Q,le)=>{L=L||un,B=B||un;const te=L.length,ge=B.length,pe=Math.min(te,ge);let me;for(me=0;me<pe;me++){const Te=B[me]=le?sr(B[me]):Ci(B[me]);_(L[me],Te,q,null,J,re,ce,Q,le)}te>ge?qe(L,J,re,!0,!1,pe):R(B,q,Z,J,re,ce,Q,le,pe)},be=(L,B,q,Z,J,re,ce,Q,le)=>{let te=0;const ge=B.length;let pe=L.length-1,me=ge-1;for(;te<=pe&&te<=me;){const Te=L[te],Ce=B[te]=le?sr(B[te]):Ci(B[te]);if(Zn(Te,Ce))_(Te,Ce,q,null,J,re,ce,Q,le);else break;te++}for(;te<=pe&&te<=me;){const Te=L[pe],Ce=B[me]=le?sr(B[me]):Ci(B[me]);if(Zn(Te,Ce))_(Te,Ce,q,null,J,re,ce,Q,le);else break;pe--,me--}if(te>pe){if(te<=me){const Te=me+1,Ce=Te<ge?B[Te].el:Z;for(;te<=me;)_(null,B[te]=le?sr(B[te]):Ci(B[te]),q,Ce,J,re,ce,Q,le),te++}}else if(te>me)for(;te<=pe;)he(L[te],J,re,!0),te++;else{const Te=te,Ce=te,Me=new Map;for(te=Ce;te<=me;te++){const St=B[te]=le?sr(B[te]):Ci(B[te]);St.key!=null&&Me.set(St.key,te)}let De,Xe=0;const Nt=me-Ce+1;let Ae=!1,is=0;const vr=new Array(Nt);for(te=0;te<Nt;te++)vr[te]=0;for(te=Te;te<=pe;te++){const St=L[te];if(Xe>=Nt){he(St,J,re,!0);continue}let ti;if(St.key!=null)ti=Me.get(St.key);else for(De=Ce;De<=me;De++)if(vr[De-Ce]===0&&Zn(St,B[De])){ti=De;break}ti===void 0?he(St,J,re,!0):(vr[ti-Ce]=te+1,ti>=is?is=ti:Ae=!0,_(St,B[ti],q,null,J,re,ce,Q,le),Xe++)}const rs=Ae?BT(vr):un;for(De=rs.length-1,te=Nt-1;te>=0;te--){const St=Ce+te,ti=B[St],yr=St+1<ge?B[St+1].el:Z;vr[te]===0?_(null,ti,q,yr,J,re,ce,Q,le):Ae&&(De<0||te!==rs[De]?$e(ti,q,yr,2):De--)}}},$e=(L,B,q,Z,J=null)=>{const{el:re,type:ce,transition:Q,children:le,shapeFlag:te}=L;if(te&6){$e(L.component.subTree,B,q,Z);return}if(te&128){L.suspense.move(B,q,Z);return}if(te&64){ce.move(L,B,q,mt);return}if(ce===qt){n(re,B,q);for(let pe=0;pe<le.length;pe++)$e(le[pe],B,q,Z);n(L.anchor,B,q);return}if(ce===Pl){I(L,B,q);return}if(Z!==2&&te&1&&Q)if(Z===0)Q.beforeEnter(re),n(re,B,q),Ft(()=>Q.enter(re),J);else{const{leave:pe,delayLeave:me,afterLeave:Te}=Q,Ce=()=>n(re,B,q),Me=()=>{pe(re,()=>{Ce(),Te&&Te()})};me?me(re,Ce,Me):Me()}else n(re,B,q)},he=(L,B,q,Z=!1,J=!1)=>{const{type:re,props:ce,ref:Q,children:le,dynamicChildren:te,shapeFlag:ge,patchFlag:pe,dirs:me}=L;if(Q!=null&&vu(Q,null,q,L,!0),ge&256){B.ctx.deactivate(L);return}const Te=ge&1&&me,Ce=!ga(L);let Me;if(Ce&&(Me=ce&&ce.onVnodeBeforeUnmount)&&Si(Me,B,L),ge&6)ut(L.component,q,Z);else{if(ge&128){L.suspense.unmount(q,Z);return}Te&&Cr(L,null,B,"beforeUnmount"),ge&64?L.type.remove(L,B,q,J,mt,Z):te&&(re!==qt||pe>0&&pe&64)?qe(te,B,q,!1,!0):(re===qt&&pe&384||!J&&ge&16)&&qe(le,B,q),Z&&we(L)}(Ce&&(Me=ce&&ce.onVnodeUnmounted)||Te)&&Ft(()=>{Me&&Si(Me,B,L),Te&&Cr(L,null,B,"unmounted")},q)},we=L=>{const{type:B,el:q,anchor:Z,transition:J}=L;if(B===qt){Be(q,Z);return}if(B===Pl){k(L);return}const re=()=>{t(q),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(L.shapeFlag&1&&J&&!J.persisted){const{leave:ce,delayLeave:Q}=J,le=()=>ce(q,re);Q?Q(L.el,re,le):le()}else re()},Be=(L,B)=>{let q;for(;L!==B;)q=h(L),t(L),L=q;t(B)},ut=(L,B,q)=>{const{bum:Z,scope:J,update:re,subTree:ce,um:Q}=L;Z&&xl(Z),J.stop(),re&&(re.active=!1,he(ce,L,B,q)),Q&&Ft(Q,B),Ft(()=>{L.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},qe=(L,B,q,Z=!1,J=!1,re=0)=>{for(let ce=re;ce<L.length;ce++)he(L[ce],B,q,Z,J)},Rt=L=>L.shapeFlag&6?Rt(L.component.subTree):L.shapeFlag&128?L.suspense.next():h(L.anchor||L.el),ei=(L,B,q)=>{L==null?B._vnode&&he(B._vnode,null,null,!0):_(B._vnode||null,L,B,null,null,null,q),Ef(),em(),B._vnode=L},mt={p:_,um:he,m:$e,r:we,mt:de,mc:R,pc:ne,pbc:H,n:Rt,o:i};let Ti,si;return e&&([Ti,si]=e(mt)),{render:ei,hydrate:Ti,createApp:RT(ei,Ti)}}function wr({effect:i,update:e},r){i.allowRecurse=e.allowRecurse=r}function ym(i,e,r=!1){const n=i.children,t=e.children;if(Ee(n)&&Ee(t))for(let a=0;a<n.length;a++){const s=n[a];let o=t[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=t[a]=sr(t[a]),o.el=s.el),r||ym(s,o)),o.type===zo&&(o.el=s.el)}}function BT(i){const e=i.slice(),r=[0];let n,t,a,s,o;const l=i.length;for(n=0;n<l;n++){const u=i[n];if(u!==0){if(t=r[r.length-1],i[t]<u){e[n]=t,r.push(n);continue}for(a=0,s=r.length-1;a<s;)o=a+s>>1,i[r[o]]<u?a=o+1:s=o;u<i[r[a]]&&(a>0&&(e[n]=r[a-1]),r[a]=n)}}for(a=r.length,s=r[a-1];a-- >0;)r[a]=s,s=e[s];return r}const UT=i=>i.__isTeleport,qt=Symbol(void 0),zo=Symbol(void 0),fr=Symbol(void 0),Pl=Symbol(void 0),ya=[];let ci=null;function ri(i=!1){ya.push(ci=i?null:[])}function jT(){ya.pop(),ci=ya[ya.length-1]||null}let Ia=1;function Lf(i){Ia+=i}function _m(i){return i.dynamicChildren=Ia>0?ci||un:null,jT(),Ia>0&&ci&&ci.push(i),i}function yn(i,e,r,n,t,a){return _m(Kt(i,e,r,n,t,a,!0))}function _n(i,e,r,n,t){return _m(ht(i,e,r,n,t,!0))}function io(i){return i?i.__v_isVNode===!0:!1}function Zn(i,e){return i.type===e.type&&i.key===e.key}const Wo="__vInternal",Tm=({key:i})=>i??null,zs=({ref:i,ref_key:e,ref_for:r})=>i!=null?rt(i)||yt(i)||Ie(i)?{i:Dt,r:i,k:e,f:!!r}:i:null;function Kt(i,e=null,r=null,n=0,t=null,a=i===qt?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:i,props:e,key:e&&Tm(e),ref:e&&zs(e),scopeId:Uo,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:t,dynamicChildren:null,appContext:null,ctx:Dt};return o?(Sd(l,r),a&128&&i.normalize(l)):r&&(l.shapeFlag|=rt(r)?8:16),Ia>0&&!s&&ci&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&ci.push(l),l}const ht=HT;function HT(i,e=null,r=null,n=0,t=null,a=!1){if((!i||i===lm)&&(i=fr),io(i)){const o=Tn(i,e,!0);return r&&Sd(o,r),Ia>0&&!a&&ci&&(o.shapeFlag&6?ci[ci.indexOf(i)]=o:ci.push(o)),o.patchFlag|=-2,o}if(JT(i)&&(i=i.__vccOpts),e){e=VT(e);let{class:o,style:l}=e;o&&!rt(o)&&(e.class=ln(o)),Ge(l)&&(Wp(l)&&!Ee(l)&&(l=Mt({},l)),e.style=ed(l))}const s=rt(i)?1:lT(i)?128:UT(i)?64:Ge(i)?4:Ie(i)?2:0;return Kt(i,e,r,n,t,s,a,!0)}function VT(i){return i?Wp(i)||Wo in i?Mt({},i):i:null}function Tn(i,e,r=!1){const{props:n,ref:t,patchFlag:a,children:s}=i,o=e?xd(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:o,key:o&&Tm(o),ref:e&&e.ref?r&&t?Ee(t)?t.concat(zs(e)):[t,zs(e)]:zs(e):t,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:s,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:e&&i.type!==qt?a===-1?16:a|16:a,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Tn(i.ssContent),ssFallback:i.ssFallback&&Tn(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx}}function zT(i=" ",e=0){return ht(zo,null,i,e)}function bm(i="",e=!1){return e?(ri(),_n(fr,null,i)):ht(fr,null,i)}function Ci(i){return i==null||typeof i=="boolean"?ht(fr):Ee(i)?ht(qt,null,i.slice()):typeof i=="object"?sr(i):ht(zo,null,String(i))}function sr(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Tn(i)}function Sd(i,e){let r=0;const{shapeFlag:n}=i;if(e==null)e=null;else if(Ee(e))r=16;else if(typeof e=="object")if(n&65){const t=e.default;t&&(t._c&&(t._d=!1),Sd(i,t()),t._c&&(t._d=!0));return}else{r=32;const t=e._;!t&&!(Wo in e)?e._ctx=Dt:t===3&&Dt&&(Dt.slots._===1?e._=1:(e._=2,i.patchFlag|=1024))}else Ie(e)?(e={default:e,_ctx:Dt},r=32):(e=String(e),n&64?(r=16,e=[zT(e)]):r=8);i.children=e,i.shapeFlag|=r}function xd(...i){const e={};for(let r=0;r<i.length;r++){const n=i[r];for(const t in n)if(t==="class")e.class!==n.class&&(e.class=ln([e.class,n.class]));else if(t==="style")e.style=ed([e.style,n.style]);else if(Do(t)){const a=e[t],s=n[t];s&&a!==s&&!(Ee(a)&&a.includes(s))&&(e[t]=a?[].concat(a,s):s)}else t!==""&&(e[t]=n[t])}return e}function Si(i,e,r,n=null){hi(i,e,7,[r,n])}const WT=vm();let GT=0;function $T(i,e,r){const n=i.type,t=(e?e.appContext:i.appContext)||WT,a={uid:GT++,vnode:i,type:n,parent:e,appContext:t,root:null,next:null,subTree:null,effect:null,update:null,scope:new y_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(t.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hm(n,t),emitsOptions:im(n,t),emit:null,emitted:null,propsDefaults:We,inheritAttrs:n.inheritAttrs,ctx:We,data:We,props:We,attrs:We,slots:We,refs:We,setupState:We,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=tT.bind(null,a),i.ce&&i.ce(a),a}let ft=null;const bn=i=>{ft=i,i.scope.on()},Rr=()=>{ft&&ft.scope.off(),ft=null};function Sm(i){return i.vnode.shapeFlag&4}let Aa=!1;function qT(i,e=!1){Aa=e;const{props:r,children:n}=i.vnode,t=Sm(i);AT(i,r,t,e),DT(i,n);const a=t?XT(i,e):void 0;return Aa=!1,a}function XT(i,e){const r=i.type;i.accessCache=Object.create(null),i.proxy=Gp(new Proxy(i.ctx,xT));const{setup:n}=r;if(n){const t=i.setupContext=n.length>1?YT(i):null;bn(i),Rn();const a=dr(n,i,0,[i.props,t]);if(Nn(),Rr(),kp(a)){if(a.then(Rr,Rr),e)return a.then(s=>{Mf(i,s,e)}).catch(s=>{Fo(s,i,0)});i.asyncDep=a}else Mf(i,a,e)}else xm(i,e)}function Mf(i,e,r){Ie(e)?i.type.__ssrInlineRender?i.ssrRender=e:i.render=e:Ge(e)&&(i.setupState=Kp(e)),xm(i,r)}let Rf;function xm(i,e,r){const n=i.type;if(!i.render){if(!e&&Rf&&!n.render){const t=n.template||Td(i).template;if(t){const{isCustomElement:a,compilerOptions:s}=i.appContext.config,{delimiters:o,compilerOptions:l}=n,u=Mt(Mt({isCustomElement:a,delimiters:o},s),l);n.render=Rf(t,u)}}i.render=n.render||fi}bn(i),Rn(),ET(i),Nn(),Rr()}function KT(i){return new Proxy(i.attrs,{get(e,r){return Jt(i,"get","$attrs"),e[r]}})}function YT(i){const e=n=>{i.exposed=n||{}};let r;return{get attrs(){return r||(r=KT(i))},slots:i.slots,emit:i.emit,expose:e}}function Ed(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(Kp(Gp(i.exposed)),{get(e,r){if(r in e)return e[r];if(r in va)return va[r](i)},has(e,r){return r in e||r in va}}))}function QT(i,e=!0){return Ie(i)?i.displayName||i.name:i.name||e&&i.__name}function JT(i){return Ie(i)&&"__vccOpts"in i}const ro=(i,e)=>K_(i,e,Aa);function Xt(i,e,r){const n=arguments.length;return n===2?Ge(e)&&!Ee(e)?io(e)?ht(i,null,[e]):ht(i,e):ht(i,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&io(r)&&(r=[r]),ht(i,e,r))}const ZT=Symbol(""),eb=()=>Vs(ZT),tb="3.2.45",ib="http://www.w3.org/2000/svg",Or=typeof document<"u"?document:null,Nf=Or&&Or.createElement("template"),rb={insert:(i,e,r)=>{e.insertBefore(i,r||null)},remove:i=>{const e=i.parentNode;e&&e.removeChild(i)},createElement:(i,e,r,n)=>{const t=e?Or.createElementNS(ib,i):Or.createElement(i,r?{is:r}:void 0);return i==="select"&&n&&n.multiple!=null&&t.setAttribute("multiple",n.multiple),t},createText:i=>Or.createTextNode(i),createComment:i=>Or.createComment(i),setText:(i,e)=>{i.nodeValue=e},setElementText:(i,e)=>{i.textContent=e},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>Or.querySelector(i),setScopeId(i,e){i.setAttribute(e,"")},insertStaticContent(i,e,r,n,t,a){const s=r?r.previousSibling:e.lastChild;if(t&&(t===a||t.nextSibling))for(;e.insertBefore(t.cloneNode(!0),r),!(t===a||!(t=t.nextSibling)););else{Nf.innerHTML=n?`<svg>${i}</svg>`:i;const o=Nf.content;if(n){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function nb(i,e,r){const n=i._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?i.removeAttribute("class"):r?i.setAttribute("class",e):i.className=e}function ab(i,e,r){const n=i.style,t=rt(r);if(r&&!t){for(const a in r)yu(n,a,r[a]);if(e&&!rt(e))for(const a in e)r[a]==null&&yu(n,a,"")}else{const a=n.display;t?e!==r&&(n.cssText=r):e&&i.removeAttribute("style"),"_vod"in i&&(n.display=a)}}const Ff=/\s*!important$/;function yu(i,e,r){if(Ee(r))r.forEach(n=>yu(i,e,n));else if(r==null&&(r=""),e.startsWith("--"))i.setProperty(e,r);else{const n=sb(i,e);Ff.test(r)?i.setProperty(Vr(n),r.replace(Ff,""),"important"):i[n]=r}}const Bf=["Webkit","Moz","ms"],Il={};function sb(i,e){const r=Il[e];if(r)return r;let n=Mi(e);if(n!=="filter"&&n in i)return Il[e]=n;n=Ro(n);for(let t=0;t<Bf.length;t++){const a=Bf[t]+n;if(a in i)return Il[e]=a}return e}const Uf="http://www.w3.org/1999/xlink";function ob(i,e,r,n,t){if(n&&e.startsWith("xlink:"))r==null?i.removeAttributeNS(Uf,e.slice(6,e.length)):i.setAttributeNS(Uf,e,r);else{const a=d_(e);r==null||a&&!Pp(r)?i.removeAttribute(e):i.setAttribute(e,a?"":r)}}function lb(i,e,r,n,t,a,s){if(e==="innerHTML"||e==="textContent"){n&&s(n,t,a),i[e]=r??"";return}if(e==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=r;const l=r??"";(i.value!==l||i.tagName==="OPTION")&&(i.value=l),r==null&&i.removeAttribute(e);return}let o=!1;if(r===""||r==null){const l=typeof i[e];l==="boolean"?r=Pp(r):r==null&&l==="string"?(r="",o=!0):l==="number"&&(r=0,o=!0)}try{i[e]=r}catch{}o&&i.removeAttribute(e)}function ub(i,e,r,n){i.addEventListener(e,r,n)}function db(i,e,r,n){i.removeEventListener(e,r,n)}function cb(i,e,r,n,t=null){const a=i._vei||(i._vei={}),s=a[e];if(n&&s)s.value=n;else{const[o,l]=fb(e);if(n){const u=a[e]=mb(n,t);ub(i,o,u,l)}else s&&(db(i,o,s,l),a[e]=void 0)}}const jf=/(?:Once|Passive|Capture)$/;function fb(i){let e;if(jf.test(i)){e={};let n;for(;n=i.match(jf);)i=i.slice(0,i.length-n[0].length),e[n[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):Vr(i.slice(2)),e]}let Al=0;const hb=Promise.resolve(),pb=()=>Al||(hb.then(()=>Al=0),Al=Date.now());function mb(i,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;hi(gb(n,r.value),e,5,[n])};return r.value=i,r.attached=pb(),r}function gb(i,e){if(Ee(e)){const r=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{r.call(i),i._stopped=!0},e.map(n=>t=>!t._stopped&&n&&n(t))}else return e}const Hf=/^on[a-z]/,vb=(i,e,r,n,t=!1,a,s,o,l)=>{e==="class"?nb(i,n,t):e==="style"?ab(i,r,n):Do(e)?td(e)||cb(i,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yb(i,e,n,t))?lb(i,e,n,a,s,o,l):(e==="true-value"?i._trueValue=n:e==="false-value"&&(i._falseValue=n),ob(i,e,n,t))};function yb(i,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in i&&Hf.test(e)&&Ie(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&i.tagName==="INPUT"||e==="type"&&i.tagName==="TEXTAREA"||Hf.test(e)&&rt(r)?!1:e in i}const _b={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Vf=(i,e)=>r=>{if(!("key"in r))return;const n=Vr(r.key);if(e.some(t=>t===n||_b[t]===n))return i(r)},Tb=Mt({patchProp:vb},rb);let zf;function bb(){return zf||(zf=NT(Tb))}const Sb=(...i)=>{const e=bb().createApp(...i),{mount:r}=e;return e.mount=n=>{const t=xb(n);if(!t)return;const a=e._component;!Ie(a)&&!a.render&&!a.template&&(a.template=t.innerHTML),t.innerHTML="";const s=r(t,!1,t instanceof SVGElement);return t instanceof Element&&(t.removeAttribute("v-cloak"),t.setAttribute("data-v-app","")),s},e};function xb(i){return rt(i)?document.querySelector(i):i}function Wf(i){return i!==null&&typeof i=="object"&&"constructor"in i&&i.constructor===Object}function Cd(i={},e={}){Object.keys(e).forEach(r=>{typeof i[r]>"u"?i[r]=e[r]:Wf(e[r])&&Wf(i[r])&&Object.keys(e[r]).length>0&&Cd(i[r],e[r])})}const Em={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Qt(){const i=typeof document<"u"?document:{};return Cd(i,Em),i}const Eb={document:Em,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(i){return typeof setTimeout>"u"?(i(),null):setTimeout(i,0)},cancelAnimationFrame(i){typeof setTimeout>"u"||clearTimeout(i)}};function Tt(){const i=typeof window<"u"?window:{};return Cd(i,Eb),i}function Cb(i){const e=i;Object.keys(e).forEach(r=>{try{e[r]=null}catch{}try{delete e[r]}catch{}})}function _u(i,e=0){return setTimeout(i,e)}function ka(){return Date.now()}function wb(i){const e=Tt();let r;return e.getComputedStyle&&(r=e.getComputedStyle(i,null)),!r&&i.currentStyle&&(r=i.currentStyle),r||(r=i.style),r}function Tu(i,e="x"){const r=Tt();let n,t,a;const s=wb(i);return r.WebKitCSSMatrix?(t=s.transform||s.webkitTransform,t.split(",").length>6&&(t=t.split(", ").map(o=>o.replace(",",".")).join(", ")),a=new r.WebKitCSSMatrix(t==="none"?"":t)):(a=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),e==="x"&&(r.WebKitCSSMatrix?t=a.m41:n.length===16?t=parseFloat(n[12]):t=parseFloat(n[4])),e==="y"&&(r.WebKitCSSMatrix?t=a.m42:n.length===16?t=parseFloat(n[13]):t=parseFloat(n[5])),t||0}function As(i){return typeof i=="object"&&i!==null&&i.constructor&&Object.prototype.toString.call(i).slice(8,-1)==="Object"}function Pb(i){return typeof window<"u"&&typeof window.HTMLElement<"u"?i instanceof HTMLElement:i&&(i.nodeType===1||i.nodeType===11)}function $t(...i){const e=Object(i[0]),r=["__proto__","constructor","prototype"];for(let n=1;n<i.length;n+=1){const t=i[n];if(t!=null&&!Pb(t)){const a=Object.keys(Object(t)).filter(s=>r.indexOf(s)<0);for(let s=0,o=a.length;s<o;s+=1){const l=a[s],u=Object.getOwnPropertyDescriptor(t,l);u!==void 0&&u.enumerable&&(As(e[l])&&As(t[l])?t[l].__swiper__?e[l]=t[l]:$t(e[l],t[l]):!As(e[l])&&As(t[l])?(e[l]={},t[l].__swiper__?e[l]=t[l]:$t(e[l],t[l])):e[l]=t[l])}}}return e}function la(i,e,r){i.style.setProperty(e,r)}function Cm({swiper:i,targetPosition:e,side:r}){const n=Tt(),t=-i.translate;let a=null,s;const o=i.params.speed;i.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(i.cssModeFrameID);const l=e>t?"next":"prev",u=(c,h)=>l==="next"&&c>=h||l==="prev"&&c<=h,d=()=>{s=new Date().getTime(),a===null&&(a=s);const c=Math.max(Math.min((s-a)/o,1),0),h=.5-Math.cos(c*Math.PI)/2;let g=t+h*(e-t);if(u(g,e)&&(g=e),i.wrapperEl.scrollTo({[r]:g}),u(g,e)){i.wrapperEl.style.overflow="hidden",i.wrapperEl.style.scrollSnapType="",setTimeout(()=>{i.wrapperEl.style.overflow="",i.wrapperEl.scrollTo({[r]:g})}),n.cancelAnimationFrame(i.cssModeFrameID);return}i.cssModeFrameID=n.requestAnimationFrame(d)};d()}function mi(i,e=""){return[...i.children].filter(r=>r.matches(e))}function bu(i,e=[]){const r=document.createElement(i);return r.classList.add(...Array.isArray(e)?e:[e]),r}function Su(i){const e=Tt(),r=Qt(),n=i.getBoundingClientRect(),t=r.body,a=i.clientTop||t.clientTop||0,s=i.clientLeft||t.clientLeft||0,o=i===e?e.scrollY:i.scrollTop,l=i===e?e.scrollX:i.scrollLeft;return{top:n.top+o-a,left:n.left+l-s}}function Ib(i,e){const r=[];for(;i.previousElementSibling;){const n=i.previousElementSibling;e?n.matches(e)&&r.push(n):r.push(n),i=n}return r}function Ab(i,e){const r=[];for(;i.nextElementSibling;){const n=i.nextElementSibling;e?n.matches(e)&&r.push(n):r.push(n),i=n}return r}function or(i,e){return Tt().getComputedStyle(i,null).getPropertyValue(e)}function Sn(i){let e=i,r;if(e){for(r=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(r+=1);return r}}function hn(i,e){const r=[];let n=i.parentElement;for(;n;)e?n.matches(e)&&r.push(n):r.push(n),n=n.parentElement;return r}function Gf(i,e,r){const n=Tt();return r?i[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(i,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(i,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):i.offsetWidth}let kl;function kb(){const i=Tt(),e=Qt();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in i||i.DocumentTouch&&e instanceof i.DocumentTouch)}}function wm(){return kl||(kl=kb()),kl}let Ol;function Ob({userAgent:i}={}){const e=wm(),r=Tt(),n=r.navigator.platform,t=i||r.navigator.userAgent,a={ios:!1,android:!1},s=r.screen.width,o=r.screen.height,l=t.match(/(Android);?[\s\/]+([\d.]+)?/);let u=t.match(/(iPad).*OS\s([\d_]+)/);const d=t.match(/(iPod)(.*OS\s([\d_]+))?/),c=!u&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=n==="Win32";let g=n==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&e.touch&&y.indexOf(`${s}x${o}`)>=0&&(u=t.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),l&&!h&&(a.os="android",a.android=!0),(u||c||d)&&(a.os="ios",a.ios=!0),a}function Db(i={}){return Ol||(Ol=Ob(i)),Ol}let Dl;function Lb(){const i=Tt();let e=!1;function r(){const n=i.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}if(r()){const n=String(i.navigator.userAgent);if(n.includes("Version/")){const[t,a]=n.split("Version/")[1].split(" ")[0].split(".").map(s=>Number(s));e=t<16||t===16&&a<2}}return{isSafari:e||r(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(i.navigator.userAgent)}}function Mb(){return Dl||(Dl=Lb()),Dl}function Rb({swiper:i,on:e,emit:r}){const n=Tt();let t=null,a=null;const s=()=>{!i||i.destroyed||!i.initialized||(r("beforeResize"),r("resize"))},o=()=>{!i||i.destroyed||!i.initialized||(t=new ResizeObserver(d=>{a=n.requestAnimationFrame(()=>{const{width:c,height:h}=i;let g=c,y=h;d.forEach(({contentBoxSize:_,contentRect:b,target:E})=>{E&&E!==i.el||(g=b?b.width:(_[0]||_).inlineSize,y=b?b.height:(_[0]||_).blockSize)}),(g!==c||y!==h)&&s()})}),t.observe(i.el))},l=()=>{a&&n.cancelAnimationFrame(a),t&&t.unobserve&&i.el&&(t.unobserve(i.el),t=null)},u=()=>{!i||i.destroyed||!i.initialized||r("orientationchange")};e("init",()=>{if(i.params.resizeObserver&&typeof n.ResizeObserver<"u"){o();return}n.addEventListener("resize",s),n.addEventListener("orientationchange",u)}),e("destroy",()=>{l(),n.removeEventListener("resize",s),n.removeEventListener("orientationchange",u)})}function Nb({swiper:i,extendParams:e,on:r,emit:n}){const t=[],a=Tt(),s=(u,d={})=>{const c=a.MutationObserver||a.WebkitMutationObserver,h=new c(g=>{if(g.length===1){n("observerUpdate",g[0]);return}const y=function(){n("observerUpdate",g[0])};a.requestAnimationFrame?a.requestAnimationFrame(y):a.setTimeout(y,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),t.push(h)},o=()=>{if(i.params.observer){if(i.params.observeParents){const u=hn(i.el);for(let d=0;d<u.length;d+=1)s(u[d])}s(i.el,{childList:i.params.observeSlideChildren}),s(i.wrapperEl,{attributes:!1})}},l=()=>{t.forEach(u=>{u.disconnect()}),t.splice(0,t.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",o),r("destroy",l)}const Fb={on(i,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const t=r?"unshift":"push";return i.split(" ").forEach(a=>{n.eventsListeners[a]||(n.eventsListeners[a]=[]),n.eventsListeners[a][t](e)}),n},once(i,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function t(...a){n.off(i,t),t.__emitterProxy&&delete t.__emitterProxy,e.apply(n,a)}return t.__emitterProxy=e,n.on(i,t,r)},onAny(i,e){const r=this;if(!r.eventsListeners||r.destroyed||typeof i!="function")return r;const n=e?"unshift":"push";return r.eventsAnyListeners.indexOf(i)<0&&r.eventsAnyListeners[n](i),r},offAny(i){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const r=e.eventsAnyListeners.indexOf(i);return r>=0&&e.eventsAnyListeners.splice(r,1),e},off(i,e){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||i.split(" ").forEach(n=>{typeof e>"u"?r.eventsListeners[n]=[]:r.eventsListeners[n]&&r.eventsListeners[n].forEach((t,a)=>{(t===e||t.__emitterProxy&&t.__emitterProxy===e)&&r.eventsListeners[n].splice(a,1)})}),r},emit(...i){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let r,n,t;return typeof i[0]=="string"||Array.isArray(i[0])?(r=i[0],n=i.slice(1,i.length),t=e):(r=i[0].events,n=i[0].data,t=i[0].context||e),n.unshift(t),(Array.isArray(r)?r:r.split(" ")).forEach(s=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(o=>{o.apply(t,[s,...n])}),e.eventsListeners&&e.eventsListeners[s]&&e.eventsListeners[s].forEach(o=>{o.apply(t,n)})}),e}};function Bb(){const i=this;let e,r;const n=i.el;typeof i.params.width<"u"&&i.params.width!==null?e=i.params.width:e=n.clientWidth,typeof i.params.height<"u"&&i.params.height!==null?r=i.params.height:r=n.clientHeight,!(e===0&&i.isHorizontal()||r===0&&i.isVertical())&&(e=e-parseInt(or(n,"padding-left")||0,10)-parseInt(or(n,"padding-right")||0,10),r=r-parseInt(or(n,"padding-top")||0,10)-parseInt(or(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(r)&&(r=0),Object.assign(i,{width:e,height:r,size:i.isHorizontal()?e:r}))}function Ub(){const i=this;function e(z){return i.isHorizontal()?z:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[z]}function r(z,G){return parseFloat(z.getPropertyValue(e(G))||0)}const n=i.params,{wrapperEl:t,slidesEl:a,size:s,rtlTranslate:o,wrongRTL:l}=i,u=i.virtual&&n.virtual.enabled,d=u?i.virtual.slides.length:i.slides.length,c=mi(a,`.${i.params.slideClass}, swiper-slide`),h=u?i.virtual.slides.length:c.length;let g=[];const y=[],_=[];let b=n.slidesOffsetBefore;typeof b=="function"&&(b=n.slidesOffsetBefore.call(i));let E=n.slidesOffsetAfter;typeof E=="function"&&(E=n.slidesOffsetAfter.call(i));const A=i.snapGrid.length,I=i.slidesGrid.length;let k=n.spaceBetween,D=-b,j=0,V=0;if(typeof s>"u")return;typeof k=="string"&&k.indexOf("%")>=0&&(k=parseFloat(k.replace("%",""))/100*s),i.virtualSize=-k,c.forEach(z=>{o?z.style.marginLeft="":z.style.marginRight="",z.style.marginBottom="",z.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(la(t,"--swiper-centered-offset-before",""),la(t,"--swiper-centered-offset-after",""));const R=n.grid&&n.grid.rows>1&&i.grid;R&&i.grid.initSlides(h);let U;const H=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(z=>typeof n.breakpoints[z].slidesPerView<"u").length>0;for(let z=0;z<h;z+=1){U=0;let G;if(c[z]&&(G=c[z]),R&&i.grid.updateSlide(z,G,h,e),!(c[z]&&or(G,"display")==="none")){if(n.slidesPerView==="auto"){H&&(c[z].style[e("width")]="");const K=getComputedStyle(G),de=G.style.transform,Y=G.style.webkitTransform;if(de&&(G.style.transform="none"),Y&&(G.style.webkitTransform="none"),n.roundLengths)U=i.isHorizontal()?Gf(G,"width",!0):Gf(G,"height",!0);else{const W=r(K,"width"),$=r(K,"padding-left"),ne=r(K,"padding-right"),_e=r(K,"margin-left"),be=r(K,"margin-right"),$e=K.getPropertyValue("box-sizing");if($e&&$e==="border-box")U=W+_e+be;else{const{clientWidth:he,offsetWidth:we}=G;U=W+$+ne+_e+be+(we-he)}}de&&(G.style.transform=de),Y&&(G.style.webkitTransform=Y),n.roundLengths&&(U=Math.floor(U))}else U=(s-(n.slidesPerView-1)*k)/n.slidesPerView,n.roundLengths&&(U=Math.floor(U)),c[z]&&(c[z].style[e("width")]=`${U}px`);c[z]&&(c[z].swiperSlideSize=U),_.push(U),n.centeredSlides?(D=D+U/2+j/2+k,j===0&&z!==0&&(D=D-s/2-k),z===0&&(D=D-s/2-k),Math.abs(D)<1/1e3&&(D=0),n.roundLengths&&(D=Math.floor(D)),V%n.slidesPerGroup===0&&g.push(D),y.push(D)):(n.roundLengths&&(D=Math.floor(D)),(V-Math.min(i.params.slidesPerGroupSkip,V))%i.params.slidesPerGroup===0&&g.push(D),y.push(D),D=D+U+k),i.virtualSize+=U+k,j=U,V+=1}}if(i.virtualSize=Math.max(i.virtualSize,s)+E,o&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(t.style.width=`${i.virtualSize+n.spaceBetween}px`),n.setWrapperSize&&(t.style[e("width")]=`${i.virtualSize+n.spaceBetween}px`),R&&i.grid.updateWrapperSize(U,g,e),!n.centeredSlides){const z=[];for(let G=0;G<g.length;G+=1){let K=g[G];n.roundLengths&&(K=Math.floor(K)),g[G]<=i.virtualSize-s&&z.push(K)}g=z,Math.floor(i.virtualSize-s)-Math.floor(g[g.length-1])>1&&g.push(i.virtualSize-s)}if(u&&n.loop){const z=_[0]+k;if(n.slidesPerGroup>1){const G=Math.ceil((i.virtual.slidesBefore+i.virtual.slidesAfter)/n.slidesPerGroup),K=z*n.slidesPerGroup;for(let de=0;de<G;de+=1)g.push(g[g.length-1]+K)}for(let G=0;G<i.virtual.slidesBefore+i.virtual.slidesAfter;G+=1)n.slidesPerGroup===1&&g.push(g[g.length-1]+z),y.push(y[y.length-1]+z),i.virtualSize+=z}if(g.length===0&&(g=[0]),n.spaceBetween!==0){const z=i.isHorizontal()&&o?"marginLeft":e("marginRight");c.filter((G,K)=>!n.cssMode||n.loop?!0:K!==c.length-1).forEach(G=>{G.style[z]=`${k}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let z=0;_.forEach(K=>{z+=K+(n.spaceBetween?n.spaceBetween:0)}),z-=n.spaceBetween;const G=z-s;g=g.map(K=>K<0?-b:K>G?G+E:K)}if(n.centerInsufficientSlides){let z=0;if(_.forEach(G=>{z+=G+(n.spaceBetween?n.spaceBetween:0)}),z-=n.spaceBetween,z<s){const G=(s-z)/2;g.forEach((K,de)=>{g[de]=K-G}),y.forEach((K,de)=>{y[de]=K+G})}}if(Object.assign(i,{slides:c,snapGrid:g,slidesGrid:y,slidesSizesGrid:_}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){la(t,"--swiper-centered-offset-before",`${-g[0]}px`),la(t,"--swiper-centered-offset-after",`${i.size/2-_[_.length-1]/2}px`);const z=-i.snapGrid[0],G=-i.slidesGrid[0];i.snapGrid=i.snapGrid.map(K=>K+z),i.slidesGrid=i.slidesGrid.map(K=>K+G)}if(h!==d&&i.emit("slidesLengthChange"),g.length!==A&&(i.params.watchOverflow&&i.checkOverflow(),i.emit("snapGridLengthChange")),y.length!==I&&i.emit("slidesGridLengthChange"),n.watchSlidesProgress&&i.updateSlidesOffset(),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const z=`${n.containerModifierClass}backface-hidden`,G=i.el.classList.contains(z);h<=n.maxBackfaceHiddenSlides?G||i.el.classList.add(z):G&&i.el.classList.remove(z)}}function jb(i){const e=this,r=[],n=e.virtual&&e.params.virtual.enabled;let t=0,a;typeof i=="number"?e.setTransition(i):i===!0&&e.setTransition(e.params.speed);const s=o=>n?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===o)[0]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{r.push(o)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const o=e.activeIndex+a;if(o>e.slides.length&&!n)break;r.push(s(o))}else r.push(s(e.activeIndex));for(a=0;a<r.length;a+=1)if(typeof r[a]<"u"){const o=r[a].offsetHeight;t=o>t?o:t}(t||t===0)&&(e.wrapperEl.style.height=`${t}px`)}function Hb(){const i=this,e=i.slides,r=i.isElement?i.isHorizontal()?i.wrapperEl.offsetLeft:i.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(i.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-r}function Vb(i=this&&this.translate||0){const e=this,r=e.params,{slides:n,rtlTranslate:t,snapGrid:a}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-i;t&&(s=i),n.forEach(o=>{o.classList.remove(r.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let o=0;o<n.length;o+=1){const l=n[o];let u=l.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(u-=n[0].swiperSlideOffset);const d=(s+(r.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+r.spaceBetween),c=(s-a[0]+(r.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+r.spaceBetween),h=-(s-u),g=h+e.slidesSizesGrid[o];(h>=0&&h<e.size-1||g>1&&g<=e.size||h<=0&&g>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(o),n[o].classList.add(r.slideVisibleClass)),l.progress=t?-d:d,l.originalProgress=t?-c:c}}function zb(i){const e=this;if(typeof i>"u"){const d=e.rtlTranslate?-1:1;i=e&&e.translate&&e.translate*d||0}const r=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:t,isBeginning:a,isEnd:s,progressLoop:o}=e;const l=a,u=s;if(n===0)t=0,a=!0,s=!0;else{t=(i-e.minTranslate())/n;const d=Math.abs(i-e.minTranslate())<1,c=Math.abs(i-e.maxTranslate())<1;a=d||t<=0,s=c||t>=1,d&&(t=0),c&&(t=1)}if(r.loop){const d=Sn(e.slides.filter(b=>b.getAttribute("data-swiper-slide-index")==="0")[0]),c=Sn(e.slides.filter(b=>b.getAttribute("data-swiper-slide-index")*1===e.slides.length-1)[0]),h=e.slidesGrid[d],g=e.slidesGrid[c],y=e.slidesGrid[e.slidesGrid.length-1],_=Math.abs(i);_>=h?o=(_-h)/y:o=(_+y-g)/y,o>1&&(o-=1)}Object.assign(e,{progress:t,progressLoop:o,isBeginning:a,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&e.updateSlidesProgress(i),a&&!l&&e.emit("reachBeginning toEdge"),s&&!u&&e.emit("reachEnd toEdge"),(l&&!a||u&&!s)&&e.emit("fromEdge"),e.emit("progress",t)}function Wb(){const i=this,{slides:e,params:r,slidesEl:n,activeIndex:t}=i,a=i.virtual&&r.virtual.enabled,s=l=>mi(n,`.${r.slideClass}${l}, swiper-slide${l}`)[0];e.forEach(l=>{l.classList.remove(r.slideActiveClass,r.slideNextClass,r.slidePrevClass)});let o;if(a)if(r.loop){let l=t-i.virtual.slidesBefore;l<0&&(l=i.virtual.slides.length+l),l>=i.virtual.slides.length&&(l-=i.virtual.slides.length),o=s(`[data-swiper-slide-index="${l}"]`)}else o=s(`[data-swiper-slide-index="${t}"]`);else o=e[t];if(o){o.classList.add(r.slideActiveClass);let l=Ab(o,`.${r.slideClass}, swiper-slide`)[0];r.loop&&!l&&(l=e[0]),l&&l.classList.add(r.slideNextClass);let u=Ib(o,`.${r.slideClass}, swiper-slide`)[0];r.loop&&!u===0&&(u=e[e.length-1]),u&&u.classList.add(r.slidePrevClass)}i.emitSlidesClasses()}function Gb(i){const{slidesGrid:e,params:r}=i,n=i.rtlTranslate?i.translate:-i.translate;let t;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?n>=e[a]&&n<e[a+1]-(e[a+1]-e[a])/2?t=a:n>=e[a]&&n<e[a+1]&&(t=a+1):n>=e[a]&&(t=a);return r.normalizeSlideIndex&&(t<0||typeof t>"u")&&(t=0),t}function $b(i){const e=this,r=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:t,activeIndex:a,realIndex:s,snapIndex:o}=e;let l=i,u;const d=h=>{let g=h-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=Gb(e)),n.indexOf(r)>=0)u=n.indexOf(r);else{const h=Math.min(t.slidesPerGroupSkip,l);u=h+Math.floor((l-h)/t.slidesPerGroup)}if(u>=n.length&&(u=n.length-1),l===a){u!==o&&(e.snapIndex=u,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=d(l));return}let c;e.virtual&&t.virtual.enabled&&t.loop?c=d(l):e.slides[l]?c=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):c=l,Object.assign(e,{snapIndex:u,realIndex:c,previousIndex:a,activeIndex:l}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),s!==c&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function qb(i){const e=this,r=e.params,n=i.closest(`.${r.slideClass}, swiper-slide`);let t=!1,a;if(n){for(let s=0;s<e.slides.length;s+=1)if(e.slides[s]===n){t=!0,a=s;break}}if(n&&t)e.clickedSlide=n,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=a;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}r.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const Xb={updateSize:Bb,updateSlides:Ub,updateAutoHeight:jb,updateSlidesOffset:Hb,updateSlidesProgress:Vb,updateProgress:zb,updateSlidesClasses:Wb,updateActiveIndex:$b,updateClickedSlide:qb};function Kb(i=this.isHorizontal()?"x":"y"){const e=this,{params:r,rtlTranslate:n,translate:t,wrapperEl:a}=e;if(r.virtualTranslate)return n?-t:t;if(r.cssMode)return t;let s=Tu(a,i);return n&&(s=-s),s||0}function Yb(i,e){const r=this,{rtlTranslate:n,params:t,wrapperEl:a,progress:s}=r;let o=0,l=0;const u=0;r.isHorizontal()?o=n?-i:i:l=i,t.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),t.cssMode?a[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-o:-l:t.virtualTranslate||(a.style.transform=`translate3d(${o}px, ${l}px, ${u}px)`),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?o:l;let d;const c=r.maxTranslate()-r.minTranslate();c===0?d=0:d=(i-r.minTranslate())/c,d!==s&&r.updateProgress(i),r.emit("setTranslate",r.translate,e)}function Qb(){return-this.snapGrid[0]}function Jb(){return-this.snapGrid[this.snapGrid.length-1]}function Zb(i=0,e=this.params.speed,r=!0,n=!0,t){const a=this,{params:s,wrapperEl:o}=a;if(a.animating&&s.preventInteractionOnTransition)return!1;const l=a.minTranslate(),u=a.maxTranslate();let d;if(n&&i>l?d=l:n&&i<u?d=u:d=i,a.updateProgress(d),s.cssMode){const c=a.isHorizontal();if(e===0)o[c?"scrollLeft":"scrollTop"]=-d;else{if(!a.support.smoothScroll)return Cm({swiper:a,targetPosition:-d,side:c?"left":"top"}),!0;o.scrollTo({[c?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(d),r&&(a.emit("beforeTransitionStart",e,t),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(d),r&&(a.emit("beforeTransitionStart",e,t),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(h){!a||a.destroyed||h.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,r&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}const eS={getTranslate:Kb,setTranslate:Yb,minTranslate:Qb,maxTranslate:Jb,translateTo:Zb};function tS(i,e){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${i}ms`),r.emit("setTransition",i,e)}function Pm({swiper:i,runCallbacks:e,direction:r,step:n}){const{activeIndex:t,previousIndex:a}=i;let s=r;if(s||(t>a?s="next":t<a?s="prev":s="reset"),i.emit(`transition${n}`),e&&t!==a){if(s==="reset"){i.emit(`slideResetTransition${n}`);return}i.emit(`slideChangeTransition${n}`),s==="next"?i.emit(`slideNextTransition${n}`):i.emit(`slidePrevTransition${n}`)}}function iS(i=!0,e){const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),Pm({swiper:r,runCallbacks:i,direction:e,step:"Start"}))}function rS(i=!0,e){const r=this,{params:n}=r;r.animating=!1,!n.cssMode&&(r.setTransition(0),Pm({swiper:r,runCallbacks:i,direction:e,step:"End"}))}const nS={setTransition:tS,transitionStart:iS,transitionEnd:rS};function aS(i=0,e=this.params.speed,r=!0,n,t){typeof i=="string"&&(i=parseInt(i,10));const a=this;let s=i;s<0&&(s=0);const{params:o,snapGrid:l,slidesGrid:u,previousIndex:d,activeIndex:c,rtlTranslate:h,wrapperEl:g,enabled:y}=a;if(a.animating&&o.preventInteractionOnTransition||!y&&!n&&!t)return!1;const _=Math.min(a.params.slidesPerGroupSkip,s);let b=_+Math.floor((s-_)/a.params.slidesPerGroup);b>=l.length&&(b=l.length-1);const E=-l[b];if(o.normalizeSlideIndex)for(let I=0;I<u.length;I+=1){const k=-Math.floor(E*100),D=Math.floor(u[I]*100),j=Math.floor(u[I+1]*100);typeof u[I+1]<"u"?k>=D&&k<j-(j-D)/2?s=I:k>=D&&k<j&&(s=I+1):k>=D&&(s=I)}if(a.initialized&&s!==c&&(!a.allowSlideNext&&E<a.translate&&E<a.minTranslate()||!a.allowSlidePrev&&E>a.translate&&E>a.maxTranslate()&&(c||0)!==s))return!1;s!==(d||0)&&r&&a.emit("beforeSlideChangeStart"),a.updateProgress(E);let A;if(s>c?A="next":s<c?A="prev":A="reset",h&&-E===a.translate||!h&&E===a.translate)return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),o.effect!=="slide"&&a.setTranslate(E),A!=="reset"&&(a.transitionStart(r,A),a.transitionEnd(r,A)),!1;if(o.cssMode){const I=a.isHorizontal(),k=h?E:-E;if(e===0){const D=a.virtual&&a.params.virtual.enabled;D&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),D&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[I?"scrollLeft":"scrollTop"]=k})):g[I?"scrollLeft":"scrollTop"]=k,D&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1})}else{if(!a.support.smoothScroll)return Cm({swiper:a,targetPosition:k,side:I?"left":"top"}),!0;g.scrollTo({[I?"left":"top"]:k,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(E),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,n),a.transitionStart(r,A),e===0?a.transitionEnd(r,A):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(k){!a||a.destroyed||k.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(r,A))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function sS(i=0,e=this.params.speed,r=!0,n){typeof i=="string"&&(i=parseInt(i,10));const t=this;let a=i;return t.params.loop&&(t.virtual&&t.params.virtual.enabled?a=a+t.virtual.slidesBefore:a=Sn(t.slides.filter(s=>s.getAttribute("data-swiper-slide-index")*1===a)[0])),t.slideTo(a,e,r,n)}function oS(i=this.params.speed,e=!0,r){const n=this,{enabled:t,params:a,animating:s}=n;if(!t)return n;let o=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(o=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<a.slidesPerGroupSkip?1:o,u=n.virtual&&a.virtual.enabled;if(a.loop){if(s&&!u&&a.loopPreventsSliding)return!1;n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft}return a.rewind&&n.isEnd?n.slideTo(0,i,e,r):n.slideTo(n.activeIndex+l,i,e,r)}function lS(i=this.params.speed,e=!0,r){const n=this,{params:t,snapGrid:a,slidesGrid:s,rtlTranslate:o,enabled:l,animating:u}=n;if(!l)return n;const d=n.virtual&&t.virtual.enabled;if(t.loop){if(u&&!d&&t.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const c=o?n.translate:-n.translate;function h(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const g=h(c),y=a.map(E=>h(E));let _=a[y.indexOf(g)-1];if(typeof _>"u"&&t.cssMode){let E;a.forEach((A,I)=>{g>=A&&(E=I)}),typeof E<"u"&&(_=a[E>0?E-1:E])}let b=0;if(typeof _<"u"&&(b=s.indexOf(_),b<0&&(b=n.activeIndex-1),t.slidesPerView==="auto"&&t.slidesPerGroup===1&&t.slidesPerGroupAuto&&(b=b-n.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),t.rewind&&n.isBeginning){const E=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(E,i,e,r)}return n.slideTo(b,i,e,r)}function uS(i=this.params.speed,e=!0,r){const n=this;return n.slideTo(n.activeIndex,i,e,r)}function dS(i=this.params.speed,e=!0,r,n=.5){const t=this;let a=t.activeIndex;const s=Math.min(t.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/t.params.slidesPerGroup),l=t.rtlTranslate?t.translate:-t.translate;if(l>=t.snapGrid[o]){const u=t.snapGrid[o],d=t.snapGrid[o+1];l-u>(d-u)*n&&(a+=t.params.slidesPerGroup)}else{const u=t.snapGrid[o-1],d=t.snapGrid[o];l-u<=(d-u)*n&&(a-=t.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,t.slidesGrid.length-1),t.slideTo(a,i,e,r)}function cS(){const i=this,{params:e,slidesEl:r}=i,n=e.slidesPerView==="auto"?i.slidesPerViewDynamic():e.slidesPerView;let t=i.clickedIndex,a;const s=i.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(i.animating)return;a=parseInt(i.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t<i.loopedSlides-n/2||t>i.slides.length-i.loopedSlides+n/2?(i.loopFix(),t=Sn(mi(r,`${s}[data-swiper-slide-index="${a}"]`)[0]),_u(()=>{i.slideTo(t)})):i.slideTo(t):t>i.slides.length-n?(i.loopFix(),t=Sn(mi(r,`${s}[data-swiper-slide-index="${a}"]`)[0]),_u(()=>{i.slideTo(t)})):i.slideTo(t)}else i.slideTo(t)}const fS={slideTo:aS,slideToLoop:sS,slideNext:oS,slidePrev:lS,slideReset:uS,slideToClosest:dS,slideToClickedSlide:cS};function hS(i){const e=this,{params:r,slidesEl:n}=e;if(!r.loop||e.virtual&&e.params.virtual.enabled)return;mi(n,`.${r.slideClass}, swiper-slide`).forEach((a,s)=>{a.setAttribute("data-swiper-slide-index",s)}),e.loopFix({slideRealIndex:i,direction:r.centeredSlides?void 0:"next"})}function pS({slideRealIndex:i,slideTo:e=!0,direction:r,setTranslate:n,activeSlideIndex:t,byController:a}={}){const s=this;if(!s.params.loop)return;s.emit("beforeLoopFix");const{slides:o,allowSlidePrev:l,allowSlideNext:u,slidesEl:d,params:c}=s;if(s.allowSlidePrev=!0,s.allowSlideNext=!0,s.virtual&&c.virtual.enabled){e&&(!c.centeredSlides&&s.snapIndex===0?s.slideTo(s.virtual.slides.length,0,!1,!0):c.centeredSlides&&s.snapIndex<c.slidesPerView?s.slideTo(s.virtual.slides.length+s.snapIndex,0,!1,!0):s.snapIndex===s.snapGrid.length-1&&s.slideTo(s.virtual.slidesBefore,0,!1,!0)),s.allowSlidePrev=l,s.allowSlideNext=u,s.emit("loopFix");return}const h=c.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(c.slidesPerView,10));let g=c.loopedSlides||h;g%c.slidesPerGroup!==0&&(g+=c.slidesPerGroup-g%c.slidesPerGroup),s.loopedSlides=g;const y=[],_=[];let b=s.activeIndex;typeof t>"u"?t=Sn(s.slides.filter(D=>D.classList.contains("swiper-slide-active"))[0]):b=t;const E=r==="next"||!r,A=r==="prev"||!r;let I=0,k=0;if(t<g){I=g-t;for(let D=0;D<g-t;D+=1){const j=D-Math.floor(D/o.length)*o.length;y.push(o.length-j-1)}}else if(t>s.slides.length-g*2){k=t-(s.slides.length-g*2);for(let D=0;D<k;D+=1){const j=D-Math.floor(D/o.length)*o.length;_.push(j)}}if(A&&y.forEach(D=>{d.prepend(s.slides[D])}),E&&_.forEach(D=>{d.append(s.slides[D])}),s.recalcSlides(),c.watchSlidesProgress&&s.updateSlidesOffset(),e){if(y.length>0&&A)if(typeof i>"u"){const D=s.slidesGrid[b],V=s.slidesGrid[b+I]-D;s.slideTo(b+I,0,!1,!0),n&&(s.touches[s.isHorizontal()?"startX":"startY"]+=V)}else n&&s.slideToLoop(i,0,!1,!0);else if(_.length>0&&E)if(typeof i>"u"){const D=s.slidesGrid[b],V=s.slidesGrid[b-k]-D;s.slideTo(b-k,0,!1,!0),n&&(s.touches[s.isHorizontal()?"startX":"startY"]+=V)}else s.slideToLoop(i,0,!1,!0)}if(s.allowSlidePrev=l,s.allowSlideNext=u,s.controller&&s.controller.control&&!a){const D={slideRealIndex:i,slideTo:!1,direction:r,setTranslate:n,activeSlideIndex:t,byController:!0};Array.isArray(s.controller.control)?s.controller.control.forEach(j=>{j.params.loop&&j.loopFix(D)}):s.controller.control instanceof s.constructor&&s.controller.control.params.loop&&s.controller.control.loopFix(D)}s.emit("loopFix")}function mS(){const i=this,{slides:e,params:r,slidesEl:n}=i;if(!r.loop||i.virtual&&i.params.virtual.enabled)return;i.recalcSlides();const t=[];e.forEach(a=>{const s=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;t[s]=a}),e.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),t.forEach(a=>{n.append(a)}),i.recalcSlides(),i.slideTo(i.realIndex,0)}const gS={loopCreate:hS,loopFix:pS,loopDestroy:mS};function vS(i){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const r=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;r.style.cursor="move",r.style.cursor=i?"grabbing":"grab"}function yS(){const i=this;i.params.watchOverflow&&i.isLocked||i.params.cssMode||(i[i.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const _S={setGrabCursor:vS,unsetGrabCursor:yS};function TS(i,e=this){function r(n){if(!n||n===Qt()||n===Tt())return null;n.assignedSlot&&(n=n.assignedSlot);const t=n.closest(i);return!t&&!n.getRootNode?null:t||r(n.getRootNode().host)}return r(e)}function bS(i){const e=this,r=Qt(),n=Tt(),t=e.touchEventsData;t.evCache.push(i);const{params:a,touches:s,enabled:o}=e;if(!o||!a.simulateTouch&&i.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let l=i;l.originalEvent&&(l=l.originalEvent);let u=l.target;if(a.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(u)||"which"in l&&l.which===3||"button"in l&&l.button>0||t.isTouched&&t.isMoved)return;const d=!!a.noSwipingClass&&a.noSwipingClass!=="",c=i.composedPath?i.composedPath():i.path;d&&l.target&&l.target.shadowRoot&&c&&(u=c[0]);const h=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,g=!!(l.target&&l.target.shadowRoot);if(a.noSwiping&&(g?TS(h,u):u.closest(h))){e.allowClick=!0;return}if(a.swipeHandler&&!u.closest(a.swipeHandler))return;s.currentX=l.pageX,s.currentY=l.pageY;const y=s.currentX,_=s.currentY,b=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,E=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(b&&(y<=E||y>=n.innerWidth-E))if(b==="prevent")i.preventDefault();else return;Object.assign(t,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=y,s.startY=_,t.touchStartTime=ka(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(t.allowThresholdMove=!1);let A=!0;u.matches(t.focusableElements)&&(A=!1,u.nodeName==="SELECT"&&(t.isTouched=!1)),r.activeElement&&r.activeElement.matches(t.focusableElements)&&r.activeElement!==u&&r.activeElement.blur();const I=A&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||I)&&!u.isContentEditable&&l.preventDefault(),e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function SS(i){const e=Qt(),r=this,n=r.touchEventsData,{params:t,touches:a,rtlTranslate:s,enabled:o}=r;if(!o||!t.simulateTouch&&i.pointerType==="mouse")return;let l=i;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched){n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",l);return}const u=n.evCache.findIndex(j=>j.pointerId===l.pointerId);u>=0&&(n.evCache[u]=l);const d=n.evCache.length>1?n.evCache[0]:l,c=d.pageX,h=d.pageY;if(l.preventedByNestedSwiper){a.startX=c,a.startY=h;return}if(!r.allowTouchMove){l.target.matches(n.focusableElements)||(r.allowClick=!1),n.isTouched&&(Object.assign(a,{startX:c,startY:h,prevX:r.touches.currentX,prevY:r.touches.currentY,currentX:c,currentY:h}),n.touchStartTime=ka());return}if(t.touchReleaseOnEdges&&!t.loop){if(r.isVertical()){if(h<a.startY&&r.translate<=r.maxTranslate()||h>a.startY&&r.translate>=r.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(c<a.startX&&r.translate<=r.maxTranslate()||c>a.startX&&r.translate>=r.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(n.focusableElements)){n.isMoved=!0,r.allowClick=!1;return}if(n.allowTouchCallbacks&&r.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;a.currentX=c,a.currentY=h;const g=a.currentX-a.startX,y=a.currentY-a.startY;if(r.params.threshold&&Math.sqrt(g**2+y**2)<r.params.threshold)return;if(typeof n.isScrolling>"u"){let j;r.isHorizontal()&&a.currentY===a.startY||r.isVertical()&&a.currentX===a.startX?n.isScrolling=!1:g*g+y*y>=25&&(j=Math.atan2(Math.abs(y),Math.abs(g))*180/Math.PI,n.isScrolling=r.isHorizontal()?j>t.touchAngle:90-j>t.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",l),typeof n.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(n.startMoving=!0),n.isScrolling||r.zoom&&r.params.zoom&&r.params.zoom.enabled&&n.evCache.length>1){n.isTouched=!1;return}if(!n.startMoving)return;r.allowClick=!1,!t.cssMode&&l.cancelable&&l.preventDefault(),t.touchMoveStopPropagation&&!t.nested&&l.stopPropagation();let _=r.isHorizontal()?g:y,b=r.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;t.oneWayMovement&&(_=Math.abs(_)*(s?1:-1),b=Math.abs(b)*(s?1:-1)),a.diff=_,_*=t.touchRatio,s&&(_=-_,b=-b);const E=r.touchesDirection;r.swipeDirection=_>0?"prev":"next",r.touchesDirection=b>0?"prev":"next";const A=r.params.loop&&!(r.virtual&&r.params.virtual.enabled)&&!t.cssMode;if(!n.isMoved){if(A&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});r.wrapperEl.dispatchEvent(j)}n.allowMomentumBounce=!1,t.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",l)}let I;n.isMoved&&E!==r.touchesDirection&&A&&Math.abs(_)>=1&&(r.loopFix({direction:r.swipeDirection,setTranslate:!0}),I=!0),r.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=_+n.startTranslate;let k=!0,D=t.resistanceRatio;if(t.touchReleaseOnEdges&&(D=0),_>0?(A&&!I&&n.currentTranslate>(t.centeredSlides?r.minTranslate()-r.size/2:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(k=!1,t.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+_)**D))):_<0&&(A&&!I&&n.currentTranslate<(t.centeredSlides?r.maxTranslate()+r.size/2:r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(t.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(t.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(k=!1,t.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-_)**D))),k&&(l.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(n.currentTranslate=n.startTranslate),t.threshold>0)if(Math.abs(_)>t.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,n.currentTranslate=n.startTranslate,a.diff=r.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{n.currentTranslate=n.startTranslate;return}!t.followFinger||t.cssMode||((t.freeMode&&t.freeMode.enabled&&r.freeMode||t.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),r.params.freeMode&&t.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function xS(i){const e=this,r=e.touchEventsData,n=r.evCache.findIndex(I=>I.pointerId===i.pointerId);if(n>=0&&r.evCache.splice(n,1),["pointercancel","pointerout","pointerleave"].includes(i.type))return;const{params:t,touches:a,rtlTranslate:s,slidesGrid:o,enabled:l}=e;if(!l||!t.simulateTouch&&i.pointerType==="mouse")return;let u=i;if(u.originalEvent&&(u=u.originalEvent),r.allowTouchCallbacks&&e.emit("touchEnd",u),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&t.grabCursor&&e.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}t.grabCursor&&r.isMoved&&r.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=ka(),c=d-r.touchStartTime;if(e.allowClick){const I=u.path||u.composedPath&&u.composedPath();e.updateClickedSlide(I&&I[0]||u.target),e.emit("tap click",u),c<300&&d-r.lastClickTime<300&&e.emit("doubleTap doubleClick",u)}if(r.lastClickTime=ka(),_u(()=>{e.destroyed||(e.allowClick=!0)}),!r.isTouched||!r.isMoved||!e.swipeDirection||a.diff===0||r.currentTranslate===r.startTranslate){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let h;if(t.followFinger?h=s?e.translate:-e.translate:h=-r.currentTranslate,t.cssMode)return;if(e.params.freeMode&&t.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let g=0,y=e.slidesSizesGrid[0];for(let I=0;I<o.length;I+=I<t.slidesPerGroupSkip?1:t.slidesPerGroup){const k=I<t.slidesPerGroupSkip-1?1:t.slidesPerGroup;typeof o[I+k]<"u"?h>=o[I]&&h<o[I+k]&&(g=I,y=o[I+k]-o[I]):h>=o[I]&&(g=I,y=o[o.length-1]-o[o.length-2])}let _=null,b=null;t.rewind&&(e.isBeginning?b=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(_=0));const E=(h-o[g])/y,A=g<t.slidesPerGroupSkip-1?1:t.slidesPerGroup;if(c>t.longSwipesMs){if(!t.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=t.longSwipesRatio?e.slideTo(t.rewind&&e.isEnd?_:g+A):e.slideTo(g)),e.swipeDirection==="prev"&&(E>1-t.longSwipesRatio?e.slideTo(g+A):b!==null&&E<0&&Math.abs(E)>t.longSwipesRatio?e.slideTo(b):e.slideTo(g))}else{if(!t.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(u.target===e.navigation.nextEl||u.target===e.navigation.prevEl)?u.target===e.navigation.nextEl?e.slideTo(g+A):e.slideTo(g):(e.swipeDirection==="next"&&e.slideTo(_!==null?_:g+A),e.swipeDirection==="prev"&&e.slideTo(b!==null?b:g))}}let $f;function qf(){const i=this,{params:e,el:r}=i;if(r&&r.offsetWidth===0)return;e.breakpoints&&i.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:t,snapGrid:a}=i,s=i.virtual&&i.params.virtual.enabled;i.allowSlideNext=!0,i.allowSlidePrev=!0,i.updateSize(),i.updateSlides(),i.updateSlidesClasses();const o=s&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&i.isEnd&&!i.isBeginning&&!i.params.centeredSlides&&!o?i.slideTo(i.slides.length-1,0,!1,!0):i.params.loop&&!s?i.slideToLoop(i.realIndex,0,!1,!0):i.slideTo(i.activeIndex,0,!1,!0),i.autoplay&&i.autoplay.running&&i.autoplay.paused&&(clearTimeout($f),$f=setTimeout(()=>{i.autoplay.resume()},500)),i.allowSlidePrev=t,i.allowSlideNext=n,i.params.watchOverflow&&a!==i.snapGrid&&i.checkOverflow()}function ES(i){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&i.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(i.stopPropagation(),i.stopImmediatePropagation())))}function CS(){const i=this,{wrapperEl:e,rtlTranslate:r,enabled:n}=i;if(!n)return;i.previousTranslate=i.translate,i.isHorizontal()?i.translate=-e.scrollLeft:i.translate=-e.scrollTop,i.translate===0&&(i.translate=0),i.updateActiveIndex(),i.updateSlidesClasses();let t;const a=i.maxTranslate()-i.minTranslate();a===0?t=0:t=(i.translate-i.minTranslate())/a,t!==i.progress&&i.updateProgress(r?-i.translate:i.translate),i.emit("setTranslate",i.translate,!1)}const Ws=(i,e)=>{const r=()=>i.isElement?"swiper-slide":`.${i.params.slideClass}`,n=e.closest(r());if(n){const t=n.querySelector(`.${i.params.lazyPreloaderClass}`);t&&t.remove()}};function wS(i){const e=this;Ws(e,i.target),e.update()}let Xf=!1;function PS(){}const Im=(i,e)=>{const r=Qt(),{params:n,el:t,wrapperEl:a,device:s}=i,o=!!n.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;t[l]("pointerdown",i.onTouchStart,{passive:!1}),r[l]("pointermove",i.onTouchMove,{passive:!1,capture:o}),r[l]("pointerup",i.onTouchEnd,{passive:!0}),r[l]("pointercancel",i.onTouchEnd,{passive:!0}),r[l]("pointerout",i.onTouchEnd,{passive:!0}),r[l]("pointerleave",i.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&t[l]("click",i.onClick,!0),n.cssMode&&a[l]("scroll",i.onScroll),n.updateOnWindowResize?i[u](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",qf,!0):i[u]("observerUpdate",qf,!0),t[l]("load",i.onLoad,{capture:!0})};function IS(){const i=this,e=Qt(),{params:r}=i;i.onTouchStart=bS.bind(i),i.onTouchMove=SS.bind(i),i.onTouchEnd=xS.bind(i),r.cssMode&&(i.onScroll=CS.bind(i)),i.onClick=ES.bind(i),i.onLoad=wS.bind(i),Xf||(e.addEventListener("touchstart",PS),Xf=!0),Im(i,"on")}function AS(){Im(this,"off")}const kS={attachEvents:IS,detachEvents:AS},Kf=(i,e)=>i.grid&&e.grid&&e.grid.rows>1;function OS(){const i=this,{realIndex:e,initialized:r,params:n,el:t}=i,a=n.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const s=i.getBreakpoint(a,i.params.breakpointsBase,i.el);if(!s||i.currentBreakpoint===s)return;const l=(s in a?a[s]:void 0)||i.originalParams,u=Kf(i,n),d=Kf(i,l),c=n.enabled;u&&!d?(t.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),i.emitContainerClasses()):!u&&d&&(t.classList.add(`${n.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&n.grid.fill==="column")&&t.classList.add(`${n.containerModifierClass}grid-column`),i.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(_=>{const b=n[_]&&n[_].enabled,E=l[_]&&l[_].enabled;b&&!E&&i[_].disable(),!b&&E&&i[_].enable()});const h=l.direction&&l.direction!==n.direction,g=n.loop&&(l.slidesPerView!==n.slidesPerView||h);h&&r&&i.changeDirection(),$t(i.params,l);const y=i.params.enabled;Object.assign(i,{allowTouchMove:i.params.allowTouchMove,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev}),c&&!y?i.disable():!c&&y&&i.enable(),i.currentBreakpoint=s,i.emit("_beforeBreakpoint",l),g&&r&&(i.loopDestroy(),i.loopCreate(e),i.updateSlides()),i.emit("breakpoint",l)}function DS(i,e="window",r){if(!i||e==="container"&&!r)return;let n=!1;const t=Tt(),a=e==="window"?t.innerHeight:r.clientHeight,s=Object.keys(i).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:a*l,point:o}}return{value:o,point:o}});s.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<s.length;o+=1){const{point:l,value:u}=s[o];e==="window"?t.matchMedia(`(min-width: ${u}px)`).matches&&(n=l):u<=r.clientWidth&&(n=l)}return n||"max"}const LS={setBreakpoint:OS,getBreakpoint:DS};function MS(i,e){const r=[];return i.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(t=>{n[t]&&r.push(e+t)}):typeof n=="string"&&r.push(e+n)}),r}function RS(){const i=this,{classNames:e,params:r,rtl:n,el:t,device:a}=i,s=MS(["initialized",r.direction,{"free-mode":i.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);e.push(...s),t.classList.add(...e),i.emitContainerClasses()}function NS(){const i=this,{el:e,classNames:r}=i;e.classList.remove(...r),i.emitContainerClasses()}const FS={addClasses:RS,removeClasses:NS};function BS(){const i=this,{isLocked:e,params:r}=i,{slidesOffsetBefore:n}=r;if(n){const t=i.slides.length-1,a=i.slidesGrid[t]+i.slidesSizesGrid[t]+n*2;i.isLocked=i.size>a}else i.isLocked=i.snapGrid.length===1;r.allowSlideNext===!0&&(i.allowSlideNext=!i.isLocked),r.allowSlidePrev===!0&&(i.allowSlidePrev=!i.isLocked),e&&e!==i.isLocked&&(i.isEnd=!1),e!==i.isLocked&&i.emit(i.isLocked?"lock":"unlock")}const US={checkOverflow:BS},Yf={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",runCallbacksOnInit:!0,_emitClasses:!1};function jS(i,e){return function(n={}){const t=Object.keys(n)[0],a=n[t];if(typeof a!="object"||a===null){$t(e,n);return}if(["navigation","pagination","scrollbar"].indexOf(t)>=0&&i[t]===!0&&(i[t]={auto:!0}),!(t in i&&"enabled"in a)){$t(e,n);return}i[t]===!0&&(i[t]={enabled:!0}),typeof i[t]=="object"&&!("enabled"in i[t])&&(i[t].enabled=!0),i[t]||(i[t]={enabled:!1}),$t(e,n)}}const Ll={eventsEmitter:Fb,update:Xb,translate:eS,transition:nS,slide:fS,loop:gS,grabCursor:_S,events:kS,breakpoints:LS,checkOverflow:US,classes:FS},Ml={};let Oa=class Ui{constructor(...e){let r,n;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?n=e[0]:[r,n]=e,n||(n={}),n=$t({},n),r&&!n.el&&(n.el=r);const t=Qt();if(n.el&&typeof n.el=="string"&&t.querySelectorAll(n.el).length>1){const l=[];return t.querySelectorAll(n.el).forEach(u=>{const d=$t({},n,{el:u});l.push(new Ui(d))}),l}const a=this;a.__swiper__=!0,a.support=wm(),a.device=Db({userAgent:n.userAgent}),a.browser=Mb(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const s={};a.modules.forEach(l=>{l({params:n,swiper:a,extendParams:jS(n,s),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const o=$t({},Yf,s);return a.params=$t({},o,Ml,n),a.originalParams=$t({},a.params),a.passedParams=$t({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(l=>{a.on(l,a.params.on[l])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:r,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:ka(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}recalcSlides(){const e=this,{slidesEl:r,params:n}=e;e.slides=mi(r,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,r){const n=this;e=Math.min(Math.max(e,0),1);const t=n.minTranslate(),s=(n.maxTranslate()-t)*e+t;n.translateTo(s,typeof r>"u"?0:r),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",r.join(" "))}getSlideClasses(e){const r=this;return r.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=[];e.slides.forEach(n=>{const t=e.getSlideClasses(n);r.push({slideEl:n,classNames:t}),e.emit("_slideClass",n,t)}),e.emit("_slideClasses",r)}slidesPerViewDynamic(e="current",r=!1){const n=this,{params:t,slides:a,slidesGrid:s,slidesSizesGrid:o,size:l,activeIndex:u}=n;let d=1;if(t.centeredSlides){let c=a[u].swiperSlideSize,h;for(let g=u+1;g<a.length;g+=1)a[g]&&!h&&(c+=a[g].swiperSlideSize,d+=1,c>l&&(h=!0));for(let g=u-1;g>=0;g-=1)a[g]&&!h&&(c+=a[g].swiperSlideSize,d+=1,c>l&&(h=!0))}else if(e==="current")for(let c=u+1;c<a.length;c+=1)(r?s[c]+o[c]-s[u]<l:s[c]-s[u]<l)&&(d+=1);else for(let c=u-1;c>=0;c-=1)s[u]-s[c]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:r,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&Ws(e,s)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function t(){const s=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let a;e.params.freeMode&&e.params.freeMode.enabled?(t(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?a=e.slideTo(e.slides.length-1,0,!1,!0):a=e.slideTo(e.activeIndex,0,!1,!0),a||t()),n.watchOverflow&&r!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,r=!0){const n=this,t=n.params.direction;return e||(e=t==="horizontal"?"vertical":"horizontal"),e===t||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${t}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),n.emit("changeDirection"),r&&n.update()),n}changeLanguageDirection(e){const r=this;r.rtl&&e==="rtl"||!r.rtl&&e==="ltr"||(r.rtl=e==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(e){const r=this;if(r.mounted)return!0;let n=e||r.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=r,n.shadowEl&&(r.isElement=!0);const t=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(t()):mi(n,t())[0])();return!s&&r.params.createElements&&(s=bu("div",r.params.wrapperClass),n.append(s),mi(n,`.${r.params.slideClass}`).forEach(o=>{s.append(o)})),Object.assign(r,{el:n,wrapperEl:s,slidesEl:r.isElement?n:s,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||or(n,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||or(n,"direction")==="rtl"),wrongRTL:or(s,"display")==="-webkit-box"}),!0}init(e){const r=this;return r.initialized||r.mount(e)===!1||(r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(),r.attachEvents(),[...r.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete?Ws(r,t):t.addEventListener("load",a=>{Ws(r,a.target)})}),r.initialized=!0,r.emit("init"),r.emit("afterInit")),r}destroy(e=!0,r=!0){const n=this,{params:t,el:a,wrapperEl:s,slides:o}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),t.loop&&n.loopDestroy(),r&&(n.removeClasses(),a.removeAttribute("style"),s.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(t.slideVisibleClass,t.slideActiveClass,t.slideNextClass,t.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),e!==!1&&(n.el.swiper=null,Cb(n)),n.destroyed=!0),null}static extendDefaults(e){$t(Ml,e)}static get extendedDefaults(){return Ml}static get defaults(){return Yf}static installModule(e){Ui.prototype.__modules__||(Ui.prototype.__modules__=[]);const r=Ui.prototype.__modules__;typeof e=="function"&&r.indexOf(e)<0&&r.push(e)}static use(e){return Array.isArray(e)?(e.forEach(r=>Ui.installModule(r)),Ui):(Ui.installModule(e),Ui)}};Object.keys(Ll).forEach(i=>{Object.keys(Ll[i]).forEach(e=>{Oa.prototype[e]=Ll[i][e]})});Oa.use([Rb,Nb]);function HS({swiper:i,extendParams:e,on:r,emit:n}){e({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let t;const a=Qt();i.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const s=a.createElement("div");function o(g,y){const _=i.params.virtual;if(_.cache&&i.virtual.cache[y])return i.virtual.cache[y];let b;return _.renderSlide?(b=_.renderSlide.call(i,g,y),typeof b=="string"&&(s.innerHTML=b,b=s.children[0])):i.isElement?b=bu("swiper-slide"):b=bu("div",i.params.slideClass),b.setAttribute("data-swiper-slide-index",y),_.renderSlide||(b.textContent=g),_.cache&&(i.virtual.cache[y]=b),b}function l(g){const{slidesPerView:y,slidesPerGroup:_,centeredSlides:b,loop:E}=i.params,{addSlidesBefore:A,addSlidesAfter:I}=i.params.virtual,{from:k,to:D,slides:j,slidesGrid:V,offset:R}=i.virtual;i.params.cssMode||i.updateActiveIndex();const U=i.activeIndex||0;let H;i.rtlTranslate?H="right":H=i.isHorizontal()?"left":"top";let z,G;b?(z=Math.floor(y/2)+_+I,G=Math.floor(y/2)+_+A):(z=y+(_-1)+I,G=(E?y:_)+A);let K=U-G,de=U+z;E||(K=Math.max(K,0),de=Math.min(de,j.length-1));let Y=(i.slidesGrid[K]||0)-(i.slidesGrid[0]||0);E&&U>=G?(K-=G,b||(Y+=i.slidesGrid[0])):E&&U<G&&(K=-G,b&&(Y+=i.slidesGrid[0])),Object.assign(i.virtual,{from:K,to:de,offset:Y,slidesGrid:i.slidesGrid,slidesBefore:G,slidesAfter:z});function W(){i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),n("virtualUpdate")}if(k===K&&D===de&&!g){i.slidesGrid!==V&&Y!==R&&i.slides.forEach(he=>{he.style[H]=`${Y}px`}),i.updateProgress(),n("virtualUpdate");return}if(i.params.virtual.renderExternal){i.params.virtual.renderExternal.call(i,{offset:Y,from:K,to:de,slides:function(){const we=[];for(let Be=K;Be<=de;Be+=1)we.push(j[Be]);return we}()}),i.params.virtual.renderExternalUpdate?W():n("virtualUpdate");return}const $=[],ne=[],_e=he=>{let we=he;return he<0?we=j.length+he:we>=j.length&&(we=we-j.length),we};if(g)i.slidesEl.querySelectorAll(`.${i.params.slideClass}, swiper-slide`).forEach(he=>{he.remove()});else for(let he=k;he<=D;he+=1)if(he<K||he>de){const we=_e(he);i.slidesEl.querySelectorAll(`.${i.params.slideClass}[data-swiper-slide-index="${we}"], swiper-slide[data-swiper-slide-index="${we}"]`).forEach(Be=>{Be.remove()})}const be=E?-j.length:0,$e=E?j.length*2:j.length;for(let he=be;he<$e;he+=1)if(he>=K&&he<=de){const we=_e(he);typeof D>"u"||g?ne.push(we):(he>D&&ne.push(we),he<k&&$.push(we))}if(ne.forEach(he=>{i.slidesEl.append(o(j[he],he))}),E)for(let he=$.length-1;he>=0;he-=1){const we=$[he];i.slidesEl.prepend(o(j[we],we))}else $.sort((he,we)=>we-he),$.forEach(he=>{i.slidesEl.prepend(o(j[he],he))});mi(i.slidesEl,".swiper-slide, swiper-slide").forEach(he=>{he.style[H]=`${Y}px`}),W()}function u(g){if(typeof g=="object"&&"length"in g)for(let y=0;y<g.length;y+=1)g[y]&&i.virtual.slides.push(g[y]);else i.virtual.slides.push(g);l(!0)}function d(g){const y=i.activeIndex;let _=y+1,b=1;if(Array.isArray(g)){for(let E=0;E<g.length;E+=1)g[E]&&i.virtual.slides.unshift(g[E]);_=y+g.length,b=g.length}else i.virtual.slides.unshift(g);if(i.params.virtual.cache){const E=i.virtual.cache,A={};Object.keys(E).forEach(I=>{const k=E[I],D=k.getAttribute("data-swiper-slide-index");D&&k.setAttribute("data-swiper-slide-index",parseInt(D,10)+b),A[parseInt(I,10)+b]=k}),i.virtual.cache=A}l(!0),i.slideTo(_,0)}function c(g){if(typeof g>"u"||g===null)return;let y=i.activeIndex;if(Array.isArray(g))for(let _=g.length-1;_>=0;_-=1)i.virtual.slides.splice(g[_],1),i.params.virtual.cache&&delete i.virtual.cache[g[_]],g[_]<y&&(y-=1),y=Math.max(y,0);else i.virtual.slides.splice(g,1),i.params.virtual.cache&&delete i.virtual.cache[g],g<y&&(y-=1),y=Math.max(y,0);l(!0),i.slideTo(y,0)}function h(){i.virtual.slides=[],i.params.virtual.cache&&(i.virtual.cache={}),l(!0),i.slideTo(0,0)}r("beforeInit",()=>{if(!i.params.virtual.enabled)return;let g;if(typeof i.passedParams.virtual.slides>"u"){const y=i.slidesEl.querySelectorAll(`.${i.params.slideClass}, swiper-slide`);y&&y.length&&(i.virtual.slides=[...y],g=!0,y.forEach((_,b)=>{_.setAttribute("data-swiper-slide-index",b),i.virtual.cache[b]=_,_.remove()}))}g||(i.virtual.slides=i.params.virtual.slides),i.classNames.push(`${i.params.containerModifierClass}virtual`),i.params.watchSlidesProgress=!0,i.originalParams.watchSlidesProgress=!0,i.params.initialSlide||l()}),r("setTranslate",()=>{i.params.virtual.enabled&&(i.params.cssMode&&!i._immediateVirtual?(clearTimeout(t),t=setTimeout(()=>{l()},100)):l())}),r("init update resize",()=>{i.params.virtual.enabled&&i.params.cssMode&&la(i.wrapperEl,"--swiper-virtual-size",`${i.virtualSize}px`)}),Object.assign(i.virtual,{appendSlide:u,prependSlide:d,removeSlide:c,removeAllSlides:h,update:l})}function VS({swiper:i,extendParams:e,on:r,emit:n}){const t=Qt(),a=Tt();i.keyboard={enabled:!1},e({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function s(u){if(!i.enabled)return;const{rtlTranslate:d}=i;let c=u;c.originalEvent&&(c=c.originalEvent);const h=c.keyCode||c.charCode,g=i.params.keyboard.pageUpDown,y=g&&h===33,_=g&&h===34,b=h===37,E=h===39,A=h===38,I=h===40;if(!i.allowSlideNext&&(i.isHorizontal()&&E||i.isVertical()&&I||_)||!i.allowSlidePrev&&(i.isHorizontal()&&b||i.isVertical()&&A||y))return!1;if(!(c.shiftKey||c.altKey||c.ctrlKey||c.metaKey)&&!(t.activeElement&&t.activeElement.nodeName&&(t.activeElement.nodeName.toLowerCase()==="input"||t.activeElement.nodeName.toLowerCase()==="textarea"))){if(i.params.keyboard.onlyInViewport&&(y||_||b||E||A||I)){let k=!1;if(hn(i.el,`.${i.params.slideClass}, swiper-slide`).length>0&&hn(i.el,`.${i.params.slideActiveClass}`).length===0)return;const D=i.el,j=D.clientWidth,V=D.clientHeight,R=a.innerWidth,U=a.innerHeight,H=Su(D);d&&(H.left-=D.scrollLeft);const z=[[H.left,H.top],[H.left+j,H.top],[H.left,H.top+V],[H.left+j,H.top+V]];for(let G=0;G<z.length;G+=1){const K=z[G];if(K[0]>=0&&K[0]<=R&&K[1]>=0&&K[1]<=U){if(K[0]===0&&K[1]===0)continue;k=!0}}if(!k)return}i.isHorizontal()?((y||_||b||E)&&(c.preventDefault?c.preventDefault():c.returnValue=!1),((_||E)&&!d||(y||b)&&d)&&i.slideNext(),((y||b)&&!d||(_||E)&&d)&&i.slidePrev()):((y||_||A||I)&&(c.preventDefault?c.preventDefault():c.returnValue=!1),(_||I)&&i.slideNext(),(y||A)&&i.slidePrev()),n("keyPress",h)}}function o(){i.keyboard.enabled||(t.addEventListener("keydown",s),i.keyboard.enabled=!0)}function l(){i.keyboard.enabled&&(t.removeEventListener("keydown",s),i.keyboard.enabled=!1)}r("init",()=>{i.params.keyboard.enabled&&o()}),r("destroy",()=>{i.keyboard.enabled&&l()}),Object.assign(i.keyboard,{enable:o,disable:l})}function zS({swiper:i,extendParams:e,on:r,emit:n}){const t=Tt();e({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),i.zoom={enabled:!1};let a=1,s=!1,o,l;const u=[],d={slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},c={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},h={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let g=1;Object.defineProperty(i.zoom,"scale",{get(){return g},set(Y){if(g!==Y){const W=d.imageEl,$=d.slideEl;n("zoomChange",Y,W,$)}g=Y}});function y(){if(u.length<2)return 1;const Y=u[0].pageX,W=u[0].pageY,$=u[1].pageX,ne=u[1].pageY;return Math.sqrt(($-Y)**2+(ne-W)**2)}function _(){return i.isElement?"swiper-slide":`.${i.params.slideClass}`}function b(Y){const W=_();return!!(Y.target.matches(W)||i.slides.filter($=>$.contains(Y.target)).length>0)}function E(Y){const W=`.${i.params.zoom.containerClass}`;return!!(Y.target.matches(W)||[...i.el.querySelectorAll(W)].filter($=>$.contains(Y.target)).length>0)}function A(Y){if(!b(Y))return;const W=i.params.zoom;if(o=!1,l=!1,u.push(Y),!(u.length<2)){if(o=!0,d.scaleStart=y(),!d.slideEl){d.slideEl=Y.target.closest(`.${i.params.slideClass}, swiper-slide`),d.slideEl||(d.slideEl=i.slides[i.activeIndex]);let $=d.slideEl.querySelector(`.${W.containerClass}`);if($&&($=$.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=$,$?d.imageWrapEl=hn(d.imageEl,`.${W.containerClass}`)[0]:d.imageWrapEl=void 0,!d.imageWrapEl){d.imageEl=void 0;return}d.maxRatio=d.imageWrapEl.getAttribute("data-swiper-zoom")||W.maxRatio}d.imageEl&&(d.imageEl.style.transitionDuration="0ms"),s=!0}}function I(Y){if(!b(Y))return;const W=i.params.zoom,$=i.zoom,ne=u.findIndex(_e=>_e.pointerId===Y.pointerId);ne>=0&&(u[ne]=Y),!(u.length<2)&&(l=!0,d.scaleMove=y(),d.imageEl&&($.scale=d.scaleMove/d.scaleStart*a,$.scale>d.maxRatio&&($.scale=d.maxRatio-1+($.scale-d.maxRatio+1)**.5),$.scale<W.minRatio&&($.scale=W.minRatio+1-(W.minRatio-$.scale+1)**.5),d.imageEl.style.transform=`translate3d(0,0,0) scale(${$.scale})`))}function k(Y){if(!b(Y))return;const W=i.params.zoom,$=i.zoom,ne=u.findIndex(_e=>_e.pointerId===Y.pointerId);ne>=0&&u.splice(ne,1),!(!o||!l)&&(o=!1,l=!1,d.imageE&&($.scale=Math.max(Math.min($.scale,d.maxRatio),W.minRatio),d.imageEl.style.transitionDuration=`${i.params.speed}ms`,d.imageEl.style.transform=`translate3d(0,0,0) scale(${$.scale})`,a=$.scale,s=!1,$.scale===1&&(d.slideEl=void 0)))}function D(Y){const W=i.device;d.imageEl&&(c.isTouched||(W.android&&Y.cancelable&&Y.preventDefault(),c.isTouched=!0,c.touchesStart.x=Y.pageX,c.touchesStart.y=Y.pageY))}function j(Y){if(!b(Y)||!E(Y))return;const W=i.zoom;if(!d.imageEl||(i.allowClick=!1,!c.isTouched||!d.slideEl))return;c.isMoved||(c.width=d.imageEl.offsetWidth,c.height=d.imageEl.offsetHeight,c.startX=Tu(d.imageWrapEl,"x")||0,c.startY=Tu(d.imageWrapEl,"y")||0,d.slideWidth=d.slideEl.offsetWidth,d.slideHeight=d.slideEl.offsetHeight,d.imageWrapEl.style.transitionDuration="0ms");const $=c.width*W.scale,ne=c.height*W.scale;if(!($<d.slideWidth&&ne<d.slideHeight)){if(c.minX=Math.min(d.slideWidth/2-$/2,0),c.maxX=-c.minX,c.minY=Math.min(d.slideHeight/2-ne/2,0),c.maxY=-c.minY,c.touchesCurrent.x=u.length>0?u[0].pageX:Y.pageX,c.touchesCurrent.y=u.length>0?u[0].pageY:Y.pageY,!c.isMoved&&!s){if(i.isHorizontal()&&(Math.floor(c.minX)===Math.floor(c.startX)&&c.touchesCurrent.x<c.touchesStart.x||Math.floor(c.maxX)===Math.floor(c.startX)&&c.touchesCurrent.x>c.touchesStart.x)){c.isTouched=!1;return}if(!i.isHorizontal()&&(Math.floor(c.minY)===Math.floor(c.startY)&&c.touchesCurrent.y<c.touchesStart.y||Math.floor(c.maxY)===Math.floor(c.startY)&&c.touchesCurrent.y>c.touchesStart.y)){c.isTouched=!1;return}}Y.cancelable&&Y.preventDefault(),Y.stopPropagation(),c.isMoved=!0,c.currentX=c.touchesCurrent.x-c.touchesStart.x+c.startX,c.currentY=c.touchesCurrent.y-c.touchesStart.y+c.startY,c.currentX<c.minX&&(c.currentX=c.minX+1-(c.minX-c.currentX+1)**.8),c.currentX>c.maxX&&(c.currentX=c.maxX-1+(c.currentX-c.maxX+1)**.8),c.currentY<c.minY&&(c.currentY=c.minY+1-(c.minY-c.currentY+1)**.8),c.currentY>c.maxY&&(c.currentY=c.maxY-1+(c.currentY-c.maxY+1)**.8),h.prevPositionX||(h.prevPositionX=c.touchesCurrent.x),h.prevPositionY||(h.prevPositionY=c.touchesCurrent.y),h.prevTime||(h.prevTime=Date.now()),h.x=(c.touchesCurrent.x-h.prevPositionX)/(Date.now()-h.prevTime)/2,h.y=(c.touchesCurrent.y-h.prevPositionY)/(Date.now()-h.prevTime)/2,Math.abs(c.touchesCurrent.x-h.prevPositionX)<2&&(h.x=0),Math.abs(c.touchesCurrent.y-h.prevPositionY)<2&&(h.y=0),h.prevPositionX=c.touchesCurrent.x,h.prevPositionY=c.touchesCurrent.y,h.prevTime=Date.now(),d.imageWrapEl.style.transform=`translate3d(${c.currentX}px, ${c.currentY}px,0)`}}function V(){const Y=i.zoom;if(!d.imageEl)return;if(!c.isTouched||!c.isMoved){c.isTouched=!1,c.isMoved=!1;return}c.isTouched=!1,c.isMoved=!1;let W=300,$=300;const ne=h.x*W,_e=c.currentX+ne,be=h.y*$,$e=c.currentY+be;h.x!==0&&(W=Math.abs((_e-c.currentX)/h.x)),h.y!==0&&($=Math.abs(($e-c.currentY)/h.y));const he=Math.max(W,$);c.currentX=_e,c.currentY=$e;const we=c.width*Y.scale,Be=c.height*Y.scale;c.minX=Math.min(d.slideWidth/2-we/2,0),c.maxX=-c.minX,c.minY=Math.min(d.slideHeight/2-Be/2,0),c.maxY=-c.minY,c.currentX=Math.max(Math.min(c.currentX,c.maxX),c.minX),c.currentY=Math.max(Math.min(c.currentY,c.maxY),c.minY),d.imageWrapEl.style.transitionDuration=`${he}ms`,d.imageWrapEl.style.transform=`translate3d(${c.currentX}px, ${c.currentY}px,0)`}function R(){const Y=i.zoom;d.slideEl&&i.previousIndex!==i.activeIndex&&(d.imageEl&&(d.imageEl.style.transform="translate3d(0,0,0) scale(1)"),d.imageWrapEl&&(d.imageWrapEl.style.transform="translate3d(0,0,0)"),Y.scale=1,a=1,d.slideEl=void 0,d.imageEl=void 0,d.imageWrapEl=void 0)}function U(Y){const W=i.zoom,$=i.params.zoom;if(!d.slideEl){Y&&Y.target&&(d.slideEl=Y.target.closest(`.${i.params.slideClass}, swiper-slide`)),d.slideEl||(i.params.virtual&&i.params.virtual.enabled&&i.virtual?d.slideEl=mi(i.slidesEl,`.${i.params.slideActiveClass}`)[0]:d.slideEl=i.slides[i.activeIndex]);let re=d.slideEl.querySelector(`.${$.containerClass}`);re&&(re=re.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=re,re?d.imageWrapEl=hn(d.imageEl,`.${$.containerClass}`)[0]:d.imageWrapEl=void 0}if(!d.imageEl||!d.imageWrapEl)return;i.params.cssMode&&(i.wrapperEl.style.overflow="hidden",i.wrapperEl.style.touchAction="none"),d.slideEl.classList.add(`${$.zoomedSlideClass}`);let ne,_e,be,$e,he,we,Be,ut,qe,Rt,ei,mt,Ti,si,L,B,q,Z;typeof c.touchesStart.x>"u"&&Y?(ne=Y.pageX,_e=Y.pageY):(ne=c.touchesStart.x,_e=c.touchesStart.y);const J=typeof Y=="number"?Y:null;a===1&&J&&(ne=void 0,_e=void 0),W.scale=J||d.imageWrapEl.getAttribute("data-swiper-zoom")||$.maxRatio,a=J||d.imageWrapEl.getAttribute("data-swiper-zoom")||$.maxRatio,Y&&!(a===1&&J)?(q=d.slideEl.offsetWidth,Z=d.slideEl.offsetHeight,be=Su(d.slideEl).left+t.scrollX,$e=Su(d.slideEl).top+t.scrollY,he=be+q/2-ne,we=$e+Z/2-_e,qe=d.imageEl.offsetWidth,Rt=d.imageEl.offsetHeight,ei=qe*W.scale,mt=Rt*W.scale,Ti=Math.min(q/2-ei/2,0),si=Math.min(Z/2-mt/2,0),L=-Ti,B=-si,Be=he*W.scale,ut=we*W.scale,Be<Ti&&(Be=Ti),Be>L&&(Be=L),ut<si&&(ut=si),ut>B&&(ut=B)):(Be=0,ut=0),d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform=`translate3d(${Be}px, ${ut}px,0)`,d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform=`translate3d(0,0,0) scale(${W.scale})`}function H(){const Y=i.zoom,W=i.params.zoom;if(!d.slideEl){i.params.virtual&&i.params.virtual.enabled&&i.virtual?d.slideEl=mi(i.slidesEl,`.${i.params.slideActiveClass}`)[0]:d.slideEl=i.slides[i.activeIndex];let $=d.slideEl.querySelector(`.${W.containerClass}`);$&&($=$.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=$,$?d.imageWrapEl=hn(d.imageEl,`.${W.containerClass}`)[0]:d.imageWrapEl=void 0}!d.imageEl||!d.imageWrapEl||(i.params.cssMode&&(i.wrapperEl.style.overflow="",i.wrapperEl.style.touchAction=""),Y.scale=1,a=1,d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform="translate3d(0,0,0)",d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform="translate3d(0,0,0) scale(1)",d.slideEl.classList.remove(`${W.zoomedSlideClass}`),d.slideEl=void 0)}function z(Y){const W=i.zoom;W.scale&&W.scale!==1?H():U(Y)}function G(){const Y=i.params.passiveListeners?{passive:!0,capture:!1}:!1,W=i.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:Y,activeListenerWithCapture:W}}function K(){const Y=i.zoom;if(Y.enabled)return;Y.enabled=!0;const{passiveListener:W,activeListenerWithCapture:$}=G();i.wrapperEl.addEventListener("pointerdown",A,W),i.wrapperEl.addEventListener("pointermove",I,$),["pointerup","pointercancel"].forEach(ne=>{i.wrapperEl.addEventListener(ne,k,W)}),i.wrapperEl.addEventListener("pointermove",j,$)}function de(){const Y=i.zoom;if(!Y.enabled)return;Y.enabled=!1;const{passiveListener:W,activeListenerWithCapture:$}=G();i.wrapperEl.removeEventListener("pointerdown",A,W),i.wrapperEl.removeEventListener("pointermove",I,$),["pointerup","pointercancel"].forEach(ne=>{i.wrapperEl.removeEventListener(ne,k,W)}),i.wrapperEl.removeEventListener("pointermove",j,$)}r("init",()=>{i.params.zoom.enabled&&K()}),r("destroy",()=>{de()}),r("touchStart",(Y,W)=>{i.zoom.enabled&&D(W)}),r("touchEnd",(Y,W)=>{i.zoom.enabled&&V()}),r("doubleTap",(Y,W)=>{!i.animating&&i.params.zoom.enabled&&i.zoom.enabled&&i.params.zoom.toggle&&z(W)}),r("transitionEnd",()=>{i.zoom.enabled&&i.params.zoom.enabled&&R()}),r("slideChange",()=>{i.zoom.enabled&&i.params.zoom.enabled&&i.params.cssMode&&R()}),Object.assign(i.zoom,{enable:K,disable:de,in:U,out:H,toggle:z})}function WS({swiper:i,extendParams:e,on:r,emit:n,params:t}){i.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,s,o=t&&t.autoplay?t.autoplay.delay:3e3,l=t&&t.autoplay?t.autoplay.delay:3e3,u,d=new Date().getTime,c,h,g,y,_,b;function E(W){!i||i.destroyed||!i.wrapperEl||W.target===i.wrapperEl&&(i.wrapperEl.removeEventListener("transitionend",E),R())}const A=()=>{if(i.destroyed||!i.autoplay.running)return;i.autoplay.paused?c=!0:c&&(l=u,c=!1);const W=i.autoplay.paused?u:d+l-new Date().getTime();i.autoplay.timeLeft=W,n("autoplayTimeLeft",W,W/o),s=requestAnimationFrame(()=>{A()})},I=()=>{let W;return i.virtual&&i.params.virtual.enabled?W=i.slides.filter(ne=>ne.classList.contains("swiper-slide-active"))[0]:W=i.slides[i.activeIndex],W?parseInt(W.getAttribute("data-swiper-autoplay"),10):void 0},k=W=>{if(i.destroyed||!i.autoplay.running)return;cancelAnimationFrame(s),A();let $=typeof W>"u"?i.params.autoplay.delay:W;o=i.params.autoplay.delay,l=i.params.autoplay.delay;const ne=I();!Number.isNaN(ne)&&ne>0&&typeof W>"u"&&($=ne,o=ne,l=ne),u=$;const _e=i.params.speed,be=()=>{i.params.autoplay.reverseDirection?!i.isBeginning||i.params.loop||i.params.rewind?(i.slidePrev(_e,!0,!0),n("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(i.slides.length-1,_e,!0,!0),n("autoplay")):!i.isEnd||i.params.loop||i.params.rewind?(i.slideNext(_e,!0,!0),n("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(0,_e,!0,!0),n("autoplay")),i.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{k()}))};return $>0?(clearTimeout(a),a=setTimeout(()=>{be()},$)):requestAnimationFrame(()=>{be()}),$},D=()=>{i.autoplay.running=!0,k(),n("autoplayStart")},j=()=>{i.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(s),n("autoplayStop")},V=(W,$)=>{if(i.destroyed||!i.autoplay.running)return;clearTimeout(a),W||(b=!0);const ne=()=>{n("autoplayPause"),i.params.autoplay.waitForTransition?i.wrapperEl.addEventListener("transitionend",E):R()};if(i.autoplay.paused=!0,$){_&&(u=i.params.autoplay.delay),_=!1,ne();return}u=(u||i.params.autoplay.delay)-(new Date().getTime()-d),!(i.isEnd&&u<0&&!i.params.loop)&&(u<0&&(u=0),ne())},R=()=>{i.isEnd&&u<0&&!i.params.loop||i.destroyed||!i.autoplay.running||(d=new Date().getTime(),b?(b=!1,k(u)):k(),i.autoplay.paused=!1,n("autoplayResume"))},U=()=>{if(i.destroyed||!i.autoplay.running)return;const W=Qt();W.visibilityState==="hidden"&&(b=!0,V(!0)),W.visibilityState==="visible"&&R()},H=W=>{W.pointerType==="mouse"&&(b=!0,V(!0))},z=W=>{W.pointerType==="mouse"&&i.autoplay.paused&&R()},G=()=>{i.params.autoplay.pauseOnMouseEnter&&(i.el.addEventListener("pointerenter",H),i.el.addEventListener("pointerleave",z))},K=()=>{i.el.removeEventListener("pointerenter",H),i.el.removeEventListener("pointerleave",z)},de=()=>{Qt().addEventListener("visibilitychange",U)},Y=()=>{Qt().removeEventListener("visibilitychange",U)};r("init",()=>{i.params.autoplay.enabled&&(G(),de(),d=new Date().getTime(),D())}),r("destroy",()=>{K(),Y(),i.autoplay.running&&j()}),r("beforeTransitionStart",(W,$,ne)=>{i.destroyed||!i.autoplay.running||(ne||!i.params.autoplay.disableOnInteraction?V(!0,!0):j())}),r("sliderFirstMove",()=>{if(!(i.destroyed||!i.autoplay.running)){if(i.params.autoplay.disableOnInteraction){j();return}h=!0,g=!1,b=!1,y=setTimeout(()=>{b=!0,g=!0,V(!0)},200)}}),r("touchEnd",()=>{if(!(i.destroyed||!i.autoplay.running||!h)){if(clearTimeout(y),clearTimeout(a),i.params.autoplay.disableOnInteraction){g=!1,h=!1;return}g&&i.params.cssMode&&R(),g=!1,h=!1}}),r("slideChange",()=>{i.destroyed||!i.autoplay.running||(_=!0)}),Object.assign(i.autoplay,{start:D,stop:j,pause:V,resume:R})}function jr(i){return typeof i=="object"&&i!==null&&i.constructor&&Object.prototype.toString.call(i).slice(8,-1)==="Object"}function lr(i,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof i[n]>"u"?i[n]=e[n]:jr(e[n])&&jr(i[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?i[n]=e[n]:lr(i[n],e[n]):i[n]=e[n]})}function Am(i={}){return i.navigation&&typeof i.navigation.nextEl>"u"&&typeof i.navigation.prevEl>"u"}function km(i={}){return i.pagination&&typeof i.pagination.el>"u"}function Om(i={}){return i.scrollbar&&typeof i.scrollbar.el>"u"}function Dm(i=""){const e=i.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return e.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function GS(i=""){return i?i.includes("swiper-wrapper")?i:`swiper-wrapper ${i}`:"swiper-wrapper"}const Lm=["modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control","injectStyles","injectStylesUrls"];function Qf(i={},e=!0){const r={on:{}},n={},t={};lr(r,Oa.defaults),lr(r,Oa.extendedDefaults),r._emitClasses=!0,r.init=!1;const a={},s=Lm.map(l=>l.replace(/_/,"")),o=Object.assign({},i);return Object.keys(o).forEach(l=>{typeof i[l]>"u"||(s.indexOf(l)>=0?jr(i[l])?(r[l]={},t[l]={},lr(r[l],i[l]),lr(t[l],i[l])):(r[l]=i[l],t[l]=i[l]):l.search(/on[A-Z]/)===0&&typeof i[l]=="function"?e?n[`${l[2].toLowerCase()}${l.substr(3)}`]=i[l]:r.on[`${l[2].toLowerCase()}${l.substr(3)}`]=i[l]:a[l]=i[l])}),["navigation","pagination","scrollbar"].forEach(l=>{r[l]===!0&&(r[l]={}),r[l]===!1&&delete r[l]}),{params:r,passedParams:t,rest:a,events:n}}function $S({el:i,nextEl:e,prevEl:r,paginationEl:n,scrollbarEl:t,swiper:a},s){Am(s)&&e&&r&&(a.params.navigation.nextEl=e,a.originalParams.navigation.nextEl=e,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),km(s)&&n&&(a.params.pagination.el=n,a.originalParams.pagination.el=n),Om(s)&&t&&(a.params.scrollbar.el=t,a.originalParams.scrollbar.el=t),a.init(i)}function qS(i,e,r,n,t){const a=[];if(!e)return a;const s=l=>{a.indexOf(l)<0&&a.push(l)};if(r&&n){const l=n.map(t),u=r.map(t);l.join("")!==u.join("")&&s("children"),n.length!==r.length&&s("children")}return Lm.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in i&&l in e)if(jr(i[l])&&jr(e[l])){const u=Object.keys(i[l]),d=Object.keys(e[l]);u.length!==d.length?s(l):(u.forEach(c=>{i[l][c]!==e[l][c]&&s(l)}),d.forEach(c=>{i[l][c]!==e[l][c]&&s(l)}))}else i[l]!==e[l]&&s(l)}),a}function Rl(i,e,r){i===void 0&&(i={});const n=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},a=(s,o)=>{Array.isArray(s)&&s.forEach(l=>{const u=typeof l.type=="symbol";o==="default"&&(o="container-end"),u&&l.children?a(l.children,"default"):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")?n.push(l):t[o]&&t[o].push(l)})};return Object.keys(i).forEach(s=>{if(typeof i[s]!="function")return;const o=i[s]();a(o,s)}),r.value=e.value,e.value=n,{slides:n,slots:t}}function XS({swiper:i,slides:e,passedParams:r,changedParams:n,nextEl:t,prevEl:a,scrollbarEl:s,paginationEl:o}){const l=n.filter(R=>R!=="children"&&R!=="direction"&&R!=="wrapperClass"),{params:u,pagination:d,navigation:c,scrollbar:h,virtual:g,thumbs:y}=i;let _,b,E,A,I,k,D,j;n.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(_=!0),n.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(b=!0),n.includes("pagination")&&r.pagination&&(r.pagination.el||o)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(E=!0),n.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||s)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(A=!0),n.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||t)&&(u.navigation||u.navigation===!1)&&c&&!c.prevEl&&!c.nextEl&&(I=!0);const V=R=>{i[R]&&(i[R].destroy(),R==="navigation"?(i.isElement&&(i[R].prevEl.remove(),i[R].nextEl.remove()),u[R].prevEl=void 0,u[R].nextEl=void 0,i[R].prevEl=void 0,i[R].nextEl=void 0):(i.isElement&&i[R].el.remove(),u[R].el=void 0,i[R].el=void 0))};n.includes("loop")&&i.isElement&&(u.loop&&!r.loop?k=!0:!u.loop&&r.loop?D=!0:j=!0),l.forEach(R=>{if(jr(u[R])&&jr(r[R]))lr(u[R],r[R]);else{const U=r[R];(U===!0||U===!1)&&(R==="navigation"||R==="pagination"||R==="scrollbar")?U===!1&&V(R):u[R]=r[R]}}),l.includes("controller")&&!b&&i.controller&&i.controller.control&&u.controller&&u.controller.control&&(i.controller.control=u.controller.control),n.includes("children")&&e&&g&&u.virtual.enabled&&(g.slides=e,g.update(!0)),n.includes("children")&&e&&u.loop&&(j=!0),_&&y.init()&&y.update(!0),b&&(i.controller.control=u.controller.control),E&&(i.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-pagination"),i.el.shadowEl.appendChild(o)),o&&(u.pagination.el=o),d.init(),d.render(),d.update()),A&&(i.isElement&&(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-scrollbar"),i.el.shadowEl.appendChild(s)),s&&(u.scrollbar.el=s),h.init(),h.updateSize(),h.setTranslate()),I&&(i.isElement&&((!t||typeof t=="string")&&(t=document.createElement("div"),t.classList.add("swiper-button-next"),i.el.shadowEl.appendChild(t)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),i.el.shadowEl.appendChild(a))),t&&(u.navigation.nextEl=t),a&&(u.navigation.prevEl=a),c.init(),c.update()),n.includes("allowSlideNext")&&(i.allowSlideNext=r.allowSlideNext),n.includes("allowSlidePrev")&&(i.allowSlidePrev=r.allowSlidePrev),n.includes("direction")&&i.changeDirection(r.direction,!1),(k||j)&&i.loopDestroy(),(D||j)&&i.loopCreate(),i.update()}function KS(i,e,r){if(!r)return null;const n=d=>{let c=d;return d<0?c=e.length+d:c>=e.length&&(c=c-e.length),c},t=i.value.isHorizontal()?{[i.value.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:a,to:s}=r,o=i.value.params.loop?-e.length:0,l=i.value.params.loop?e.length*2:e.length,u=[];for(let d=o;d<l;d+=1)d>=a&&d<=s&&u.push(e[n(d)]);return u.map(d=>(d.props||(d.props={}),d.props.style||(d.props.style={}),d.props.swiperRef=i,d.props.style=t,Xt(d.type,{...d.props},d.children)))}const YS=i=>{!i||i.destroyed||!i.params.virtual||i.params.virtual&&!i.params.virtual.enabled||(i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),i.parallax&&i.params.parallax&&i.params.parallax.enabled&&i.parallax.setTranslate())},QS={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:Number,default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(i,e){let{slots:r,emit:n}=e;const{tag:t,wrapperTag:a}=i,s=tt("swiper"),o=tt(null),l=tt(!1),u=tt(!1),d=tt(null),c=tt(null),h=tt(null),g={value:[]},y={value:[]},_=tt(null),b=tt(null),E=tt(null),A=tt(null),{params:I,passedParams:k}=Qf(i,!1);Rl(r,g,y),h.value=k,y.value=g.value;const D=()=>{Rl(r,g,y),l.value=!0};I.onAny=function(R){for(var U=arguments.length,H=new Array(U>1?U-1:0),z=1;z<U;z++)H[z-1]=arguments[z];n(R,...H)},Object.assign(I.on,{_beforeBreakpoint:D,_containerClasses(R,U){s.value=U}});const j={...I};if(delete j.wrapperClass,c.value=new Oa(j),c.value.virtual&&c.value.params.virtual.enabled){c.value.virtual.slides=g.value;const R={cache:!1,slides:g.value,renderExternal:U=>{o.value=U},renderExternalUpdate:!1};lr(c.value.params.virtual,R),lr(c.value.originalParams.virtual,R)}vd(()=>{!u.value&&c.value&&(c.value.emitSlidesClasses(),u.value=!0);const{passedParams:R}=Qf(i,!1),U=qS(R,h.value,g.value,y.value,H=>H.props&&H.props.key);h.value=R,(U.length||l.value)&&c.value&&!c.value.destroyed&&XS({swiper:c.value,slides:g.value,passedParams:R,changedParams:U,nextEl:_.value,prevEl:b.value,scrollbarEl:A.value,paginationEl:E.value}),l.value=!1}),gd("swiper",c),pi(o,()=>{Jp(()=>{YS(c.value)})}),Ho(()=>{d.value&&($S({el:d.value,nextEl:_.value,prevEl:b.value,paginationEl:E.value,scrollbarEl:A.value,swiper:c.value},I),n("swiper",c.value))}),Vo(()=>{c.value&&!c.value.destroyed&&c.value.destroy(!0,!1)});function V(R){return I.virtual?KS(c,R,o.value):(R.forEach((U,H)=>{U.props||(U.props={}),U.props.swiperRef=c,U.props.swiperSlideIndex=H}),R)}return()=>{const{slides:R,slots:U}=Rl(r,g,y);return Xt(t,{ref:d,class:Dm(s.value)},[U["container-start"],Xt(a,{class:GS(I.wrapperClass)},[U["wrapper-start"],V(R),U["wrapper-end"]]),Am(i)&&[Xt("div",{ref:b,class:"swiper-button-prev"}),Xt("div",{ref:_,class:"swiper-button-next"})],Om(i)&&Xt("div",{ref:A,class:"swiper-scrollbar"}),km(i)&&Xt("div",{ref:E,class:"swiper-pagination"}),U["container-end"]])}}},JS={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(i,e){let{slots:r}=e,n=!1;const{swiperRef:t}=i,a=tt(null),s=tt("swiper-slide"),o=tt(!1);function l(c,h,g){h===a.value&&(s.value=g)}Ho(()=>{!t||!t.value||(t.value.on("_slideClass",l),n=!0)}),om(()=>{n||!t||!t.value||(t.value.on("_slideClass",l),n=!0)}),vd(()=>{!a.value||!t||!t.value||(typeof i.swiperSlideIndex<"u"&&(a.value.swiperSlideIndex=i.swiperSlideIndex),t.value.destroyed&&s.value!=="swiper-slide"&&(s.value="swiper-slide"))}),Vo(()=>{!t||!t.value||t.value.off("_slideClass",l)});const u=ro(()=>({isActive:s.value.indexOf("swiper-slide-active")>=0,isVisible:s.value.indexOf("swiper-slide-visible")>=0,isPrev:s.value.indexOf("swiper-slide-prev")>=0,isNext:s.value.indexOf("swiper-slide-next")>=0}));gd("swiperSlide",u);const d=()=>{o.value=!0};return()=>Xt(i.tag,{class:Dm(`${s.value}`),ref:a,"data-swiper-slide-index":typeof i.virtualIndex>"u"&&t&&t.value&&t.value.params.loop?i.swiperSlideIndex:i.virtualIndex,onLoadCapture:d},i.zoom?Xt("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof i.zoom=="number"?i.zoom:void 0},[r.default&&r.default(u.value),i.lazy&&!o.value&&Xt("div",{class:"swiper-lazy-preloader"})]):[r.default&&r.default(u.value),i.lazy&&!o.value&&Xt("div",{class:"swiper-lazy-preloader"})])}};const ZS={class:"swiper-zoom-container"},ex=["src"],Jf=Fn({__name:"ImageSlide",props:{slide:null},setup(i){return(e,r)=>(ri(),yn("div",ZS,[Kt("img",{src:i.slide.src,loading:"eager"},null,8,ex)]))}});var no=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mm(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var t=[null];t.push.apply(t,arguments);var a=Function.bind.apply(e,t);return new a}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var t=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(r,n,t.get?t:{enumerable:!0,get:function(){return i[n]}})}),r}var ua;typeof window<"u"?ua=window:typeof no<"u"?ua=no:typeof self<"u"?ua=self:ua={};var P=ua;const tx={},ix=Object.freeze(Object.defineProperty({__proto__:null,default:tx},Symbol.toStringTag,{value:"Module"})),rx=Mm(ix);var Zf=typeof no<"u"?no:typeof window<"u"?window:{},nx=rx,da;typeof document<"u"?da=document:(da=Zf["__GLOBAL_DOCUMENT_CACHE@4"],da||(da=Zf["__GLOBAL_DOCUMENT_CACHE@4"]=nx));var ie=da;function ai(){return ai=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ai.apply(this,arguments)}const ax=Object.freeze(Object.defineProperty({__proto__:null,default:ai},Symbol.toStringTag,{value:"Module"}));var ao={},sx={get exports(){return ao},set exports(i){ao=i}};(function(i,e){function r(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return s[l];var d=String(l),c=n[d.toLowerCase()];if(c)return c;var c=t[d.toLowerCase()];if(c)return c;if(d.length===1)return d.charCodeAt(0)}r.isEventKey=function(u,d){if(u&&typeof u=="object"){var c=u.which||u.keyCode||u.charCode;if(c==null)return!1;if(typeof d=="string"){var h=n[d.toLowerCase()];if(h)return h===c;var h=t[d.toLowerCase()];if(h)return h===c}else if(typeof d=="number")return d===c;return!1}},e=i.exports=r;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},t=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)n[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)n[a-48]=a;for(a=1;a<13;a++)n["f"+a]=a+111;for(a=0;a<10;a++)n["numpad "+a]=a+96;var s=e.names=e.title={};for(a in n)s[n[a]]=a;for(var o in t)n[o]=t[o]})(sx,ao);const xe=ao;function Se(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function xn(i,e){return xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},xn(i,e)}function se(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,xn(i,e)}var ox=lx;function lx(i,e){var r,n=null;try{r=JSON.parse(i,e)}catch(t){n=t}return[n,r]}var Da={},ux={get exports(){return Da},set exports(i){Da=i}};const dx=Mm(ax);var cx=hx,fx=Object.prototype.toString;function hx(i){if(!i)return!1;var e=fx.call(i);return e==="[object Function]"||typeof i=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(i===window.setTimeout||i===window.alert||i===window.confirm||i===window.prompt)}var px=P,mx=function(e,r){return r===void 0&&(r=!1),function(n,t,a){if(n){e(n);return}if(t.statusCode>=400&&t.statusCode<=599){var s=a;if(r)if(px.TextDecoder){var o=gx(t.headers&&t.headers["content-type"]);try{s=new TextDecoder(o).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s});return}e(null,a)}};function gx(i){return i===void 0&&(i=""),i.toLowerCase().split(";").reduce(function(e,r){var n=r.split("="),t=n[0],a=n[1];return t.trim()==="charset"?a.trim():e},"utf-8")}var vx=mx,Rm=P,yx=dx,_x=cx;Oi.httpHandler=vx;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var Tx=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(n){var t=n.indexOf(":"),a=n.slice(0,t).trim().toLowerCase(),s=n.slice(t+1).trim();typeof r[a]>"u"?r[a]=s:Array.isArray(r[a])?r[a].push(s):r[a]=[r[a],s]}),r};ux.exports=Oi;Da.default=Oi;Oi.XMLHttpRequest=Rm.XMLHttpRequest||Ex;Oi.XDomainRequest="withCredentials"in new Oi.XMLHttpRequest?Oi.XMLHttpRequest:Rm.XDomainRequest;bx(["get","put","post","patch","head","delete"],function(i){Oi[i==="delete"?"del":i]=function(e,r,n){return r=Nm(e,r,n),r.method=i.toUpperCase(),Fm(r)}});function bx(i,e){for(var r=0;r<i.length;r++)e(i[r])}function Sx(i){for(var e in i)if(i.hasOwnProperty(e))return!1;return!0}function Nm(i,e,r){var n=i;return _x(e)?(r=e,typeof i=="string"&&(n={uri:i})):n=yx({},e,{uri:i}),n.callback=r,n}function Oi(i,e,r){return e=Nm(i,e,r),Fm(e)}function Fm(i){if(typeof i.callback>"u")throw new Error("callback argument missing");var e=!1,r=function(I,k,D){e||(e=!0,i.callback(I,k,D))};function n(){o.readyState===4&&setTimeout(s,0)}function t(){var A=void 0;if(o.response?A=o.response:A=o.responseText||xx(o),_)try{A=JSON.parse(A)}catch{}return A}function a(A){return clearTimeout(b),A instanceof Error||(A=new Error(""+(A||"Unknown XMLHttpRequest Error"))),A.statusCode=0,r(A,E)}function s(){if(!u){var A;clearTimeout(b),i.useXDR&&o.status===void 0?A=200:A=o.status===1223?204:o.status;var I=E,k=null;return A!==0?(I={body:t(),statusCode:A,method:c,headers:{},url:d,rawRequest:o},o.getAllResponseHeaders&&(I.headers=Tx(o.getAllResponseHeaders()))):k=new Error("Internal XMLHttpRequest Error"),r(k,I,I.body)}}var o=i.xhr||null;o||(i.cors||i.useXDR?o=new Oi.XDomainRequest:o=new Oi.XMLHttpRequest);var l,u,d=o.url=i.uri||i.url,c=o.method=i.method||"GET",h=i.body||i.data,g=o.headers=i.headers||{},y=!!i.sync,_=!1,b,E={body:void 0,headers:{},statusCode:0,method:c,url:d,rawRequest:o};if("json"in i&&i.json!==!1&&(_=!0,g.accept||g.Accept||(g.Accept="application/json"),c!=="GET"&&c!=="HEAD"&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),h=JSON.stringify(i.json===!0?h:i.json))),o.onreadystatechange=n,o.onload=s,o.onerror=a,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=a,o.open(c,d,!y,i.username,i.password),y||(o.withCredentials=!!i.withCredentials),!y&&i.timeout>0&&(b=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var A=new Error("XMLHttpRequest timeout");A.code="ETIMEDOUT",a(A)}},i.timeout)),o.setRequestHeader)for(l in g)g.hasOwnProperty(l)&&o.setRequestHeader(l,g[l]);else if(i.headers&&!Sx(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(o.responseType=i.responseType),"beforeSend"in i&&typeof i.beforeSend=="function"&&i.beforeSend(o),o.send(h||null),o}function xx(i){try{if(i.responseType==="document")return i.responseXML;var e=i.responseXML&&i.responseXML.documentElement.nodeName==="parsererror";if(i.responseType===""&&!e)return i.responseXML}catch{}return null}function Ex(){}var so={},Cx={get exports(){return so},set exports(i){so=i}},eh=ie,wd=Object.create||function(){function i(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return i.prototype=e,new i}}();function Yt(i,e){this.name="ParsingError",this.code=i.code,this.message=e||i.message}Yt.prototype=wd(Error.prototype);Yt.prototype.constructor=Yt;Yt.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Pd(i){function e(n,t,a,s){return(n|0)*3600+(t|0)*60+(a|0)+(s|0)/1e3}var r=i.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function _a(){this.values=wd(null)}_a.prototype={set:function(i,e){!this.get(i)&&e!==""&&(this.values[i]=e)},get:function(i,e,r){return r?this.has(i)?this.values[i]:e[r]:this.has(i)?this.values[i]:e},has:function(i){return i in this.values},alt:function(i,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(i,e);break}},integer:function(i,e){/^-?\d+$/.test(e)&&this.set(i,parseInt(e,10))},percent:function(i,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(i,e),!0):!1}};function ca(i,e,r,n){var t=n?i.split(n):[i];for(var a in t)if(typeof t[a]=="string"){var s=t[a].split(r);if(s.length===2){var o=s[0].trim(),l=s[1].trim();e(o,l)}}}function wx(i,e,r){var n=i;function t(){var o=Pd(i);if(o===null)throw new Yt(Yt.Errors.BadTimeStamp,"Malformed timestamp: "+n);return i=i.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,l){var u=new _a;ca(o,function(d,c){switch(d){case"region":for(var h=r.length-1;h>=0;h--)if(r[h].id===c){u.set(d,r[h].region);break}break;case"vertical":u.alt(d,c,["rl","lr"]);break;case"line":var g=c.split(","),y=g[0];u.integer(d,y),u.percent(d,y)&&u.set("snapToLines",!1),u.alt(d,y,["auto"]),g.length===2&&u.alt("lineAlign",g[1],["start","center","end"]);break;case"position":g=c.split(","),u.percent(d,g[0]),g.length===2&&u.alt("positionAlign",g[1],["start","center","end"]);break;case"size":u.percent(d,c);break;case"align":u.alt(d,c,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function s(){i=i.replace(/^\s+/,"")}if(s(),e.startTime=t(),s(),i.substr(0,3)!=="-->")throw new Yt(Yt.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);i=i.substr(3),s(),e.endTime=t(),s(),a(i,e)}var Nl=eh.createElement&&eh.createElement("textarea"),Px={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},th={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Ix={v:"title",lang:"lang"},ih={rt:"ruby"};function Bm(i,e){function r(){if(!e)return null;function y(b){return e=e.substr(b.length),b}var _=e.match(/^([^<]*)(<[^>]*>?)?/);return y(_[1]?_[1]:_[2])}function n(y){return Nl.innerHTML=y,y=Nl.textContent,Nl.textContent="",y}function t(y,_){return!ih[_.localName]||ih[_.localName]===y.localName}function a(y,_){var b=Px[y];if(!b)return null;var E=i.document.createElement(b),A=Ix[y];return A&&_&&(E[A]=_.trim()),E}for(var s=i.document.createElement("div"),o=s,l,u=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var d=Pd(l.substr(1,l.length-2)),c;if(d){c=i.document.createProcessingInstruction("timestamp",d),o.appendChild(c);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(c=a(h[1],h[3]),!c)||!t(o,c))continue;if(h[2]){var g=h[2].split(".");g.forEach(function(y){var _=/^bg_/.test(y),b=_?y.slice(3):y;if(th.hasOwnProperty(b)){var E=_?"background-color":"color",A=th[b];c.style[E]=A}}),c.className=g.join(" ")}u.push(h[1]),o.appendChild(c),o=c;continue}o.appendChild(i.document.createTextNode(n(l)))}return s}var rh=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Ax(i){for(var e=0;e<rh.length;e++){var r=rh[e];if(i>=r[0]&&i<=r[1])return!0}return!1}function kx(i){var e=[],r="",n;if(!i||!i.childNodes)return"ltr";function t(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function a(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var d=u.match(/^.*(\n|\r)/);return d?(o.length=0,d[0]):u}if(l.tagName==="ruby")return a(o);if(l.childNodes)return t(o,l),a(o)}for(t(e,i);r=a(e);)for(var s=0;s<r.length;s++)if(n=r.charCodeAt(s),Ax(n))return"rtl";return"ltr"}function Ox(i){if(typeof i.line=="number"&&(i.snapToLines||i.line>=0&&i.line<=100))return i.line;if(!i.track||!i.track.textTrackList||!i.track.textTrackList.mediaElement)return-1;for(var e=i.track,r=e.textTrackList,n=0,t=0;t<r.length&&r[t]!==e;t++)r[t].mode==="showing"&&n++;return++n*-1}function Go(){}Go.prototype.applyStyles=function(i,e){e=e||this.div;for(var r in i)i.hasOwnProperty(r)&&(e.style[r]=i[r])};Go.prototype.formatStyle=function(i,e){return i===0?0:i+e};function oo(i,e,r){Go.call(this),this.cue=e,this.cueDiv=Bm(i,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=i.document.createElement("div"),n={direction:kx(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var t=0;switch(e.positionAlign){case"start":t=e.position;break;case"center":t=e.position-e.size/2;break;case"end":t=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(t,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(t,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}oo.prototype=wd(Go.prototype);oo.prototype.constructor=oo;function It(i){var e,r,n,t;if(i.div){r=i.div.offsetHeight,n=i.div.offsetWidth,t=i.div.offsetTop;var a=(a=i.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();i=i.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,i.height/a.length):0}this.left=i.left,this.right=i.right,this.top=i.top||t,this.height=i.height||r,this.bottom=i.bottom||t+(i.height||r),this.width=i.width||n,this.lineHeight=e!==void 0?e:i.lineHeight}It.prototype.move=function(i,e){switch(e=e!==void 0?e:this.lineHeight,i){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};It.prototype.overlaps=function(i){return this.left<i.right&&this.right>i.left&&this.top<i.bottom&&this.bottom>i.top};It.prototype.overlapsAny=function(i){for(var e=0;e<i.length;e++)if(this.overlaps(i[e]))return!0;return!1};It.prototype.within=function(i){return this.top>=i.top&&this.bottom<=i.bottom&&this.left>=i.left&&this.right<=i.right};It.prototype.overlapsOppositeAxis=function(i,e){switch(e){case"+x":return this.left<i.left;case"-x":return this.right>i.right;case"+y":return this.top<i.top;case"-y":return this.bottom>i.bottom}};It.prototype.intersectPercentage=function(i){var e=Math.max(0,Math.min(this.right,i.right)-Math.max(this.left,i.left)),r=Math.max(0,Math.min(this.bottom,i.bottom)-Math.max(this.top,i.top)),n=e*r;return n/(this.height*this.width)};It.prototype.toCSSCompatValues=function(i){return{top:this.top-i.top,bottom:i.bottom-this.bottom,left:this.left-i.left,right:i.right-this.right,height:this.height,width:this.width}};It.getSimpleBoxPosition=function(i){var e=i.div?i.div.offsetHeight:i.tagName?i.offsetHeight:0,r=i.div?i.div.offsetWidth:i.tagName?i.offsetWidth:0,n=i.div?i.div.offsetTop:i.tagName?i.offsetTop:0;i=i.div?i.div.getBoundingClientRect():i.tagName?i.getBoundingClientRect():i;var t={left:i.left,right:i.right,top:i.top||n,height:i.height||e,bottom:i.bottom||n+(i.height||e),width:i.width||r};return t};function Dx(i,e,r,n){function t(b,E){for(var A,I=new It(b),k=1,D=0;D<E.length;D++){for(;b.overlapsOppositeAxis(r,E[D])||b.within(r)&&b.overlapsAny(n);)b.move(E[D]);if(b.within(r))return b;var j=b.intersectPercentage(r);k>j&&(A=new It(b),k=j),b=new It(I)}return A||I}var a=new It(e),s=e.cue,o=Ox(s),l=[];if(s.snapToLines){var u;switch(s.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var d=a.lineHeight,c=d*Math.round(o),h=r[u]+d,g=l[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/d)*d),o<0&&(c+=s.vertical===""?r.height:r.width,l=l.reverse()),a.move(g,c)}else{var y=a.lineHeight/r.height*100;switch(s.lineAlign){case"center":o-=y/2;break;case"end":o-=y;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],a=new It(e)}var _=t(a,l);e.move(_.toCSSCompatValues(r))}function Bn(){}Bn.StringDecoder=function(){return{decode:function(i){if(!i)return"";if(typeof i!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(i))}}};Bn.convertCueToDOMTree=function(i,e){return!i||!e?null:Bm(i,e)};var Lx=.05,Mx="sans-serif",Rx="1.5%";Bn.processCues=function(i,e,r){if(!i||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=i.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=Rx,r.appendChild(n);function t(d){for(var c=0;c<d.length;c++)if(d[c].hasBeenReset||!d[c].displayState)return!0;return!1}if(!t(e)){for(var a=0;a<e.length;a++)n.appendChild(e[a].displayState);return}var s=[],o=It.getSimpleBoxPosition(n),l=Math.round(o.height*Lx*100)/100,u={font:l+"px "+Mx};(function(){for(var d,c,h=0;h<e.length;h++)c=e[h],d=new oo(i,c,u),n.appendChild(d.div),Dx(i,d,o,s),c.displayState=d.div,s.push(It.getSimpleBoxPosition(d))})()};Bn.Parser=function(i,e,r){r||(r=e,e={}),e||(e={}),this.window=i,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};Bn.Parser.prototype={reportOrThrowError:function(i){if(i instanceof Yt)this.onparsingerror&&this.onparsingerror(i);else throw i},parse:function(i){var e=this;i&&(e.buffer+=e.decoder.decode(i,{stream:!0}));function r(){for(var d=e.buffer,c=0;c<d.length&&d[c]!=="\r"&&d[c]!==`
`;)++c;var h=d.substr(0,c);return d[c]==="\r"&&++c,d[c]===`
`&&++c,e.buffer=d.substr(c),h}function n(d){var c=new _a;if(ca(d,function(g,y){switch(g){case"id":c.set(g,y);break;case"width":c.percent(g,y);break;case"lines":c.integer(g,y);break;case"regionanchor":case"viewportanchor":var _=y.split(",");if(_.length!==2)break;var b=new _a;if(b.percent("x",_[0]),b.percent("y",_[1]),!b.has("x")||!b.has("y"))break;c.set(g+"X",b.get("x")),c.set(g+"Y",b.get("y"));break;case"scroll":c.alt(g,y,["up"]);break}},/=/,/\s/),c.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=c.get("width",100),h.lines=c.get("lines",3),h.regionAnchorX=c.get("regionanchorX",0),h.regionAnchorY=c.get("regionanchorY",100),h.viewportAnchorX=c.get("viewportanchorX",0),h.viewportAnchorY=c.get("viewportanchorY",100),h.scroll=c.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:c.get("id"),region:h})}}function t(d){var c=new _a;ca(d,function(h,g){switch(h){case"MPEGT":c.integer(h+"S",g);break;case"LOCA":c.set(h+"L",Pd(g));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:c.get("MPEGTS"),LOCAL:c.get("LOCAL")})}function a(d){d.match(/X-TIMESTAMP-MAP/)?ca(d,function(c,h){switch(c){case"X-TIMESTAMP-MAP":t(h);break}},/=/):ca(d,function(c,h){switch(c){case"Region":n(h);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=r();var o=s.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Yt(Yt.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:s=r(),e.state){case"HEADER":/:/.test(s)?a(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{wx(s,e.cue,e.regionList)}catch(d){e.reportOrThrowError(d),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=s.indexOf("-->")!==-1;if(!s||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(d){e.reportOrThrowError(d),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var i=this;try{if(i.buffer+=i.decoder.decode(),(i.cue||i.state==="HEADER")&&(i.buffer+=`

`,i.parse()),i.state==="INITIAL")throw new Yt(Yt.Errors.BadSignature)}catch(e){i.reportOrThrowError(e)}return i.onflush&&i.onflush(),this}};var Nx=Bn,Fx="auto",Bx={"":1,lr:1,rl:1},Ux={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function jx(i){if(typeof i!="string")return!1;var e=Bx[i.toLowerCase()];return e?i.toLowerCase():!1}function Fl(i){if(typeof i!="string")return!1;var e=Ux[i.toLowerCase()];return e?i.toLowerCase():!1}function Um(i,e,r){this.hasBeenReset=!1;var n="",t=!1,a=i,s=e,o=r,l=null,u="",d=!0,c="auto",h="start",g="auto",y="auto",_=100,b="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(E){n=""+E}},pauseOnExit:{enumerable:!0,get:function(){return t},set:function(E){t=!!E}},startTime:{enumerable:!0,get:function(){return a},set:function(E){if(typeof E!="number")throw new TypeError("Start time must be set to a number.");a=E,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(E){if(typeof E!="number")throw new TypeError("End time must be set to a number.");s=E,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(E){o=""+E,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(E){l=E,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(E){var A=jx(E);if(A===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=A,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(E){d=!!E,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return c},set:function(E){if(typeof E!="number"&&E!==Fx)throw new SyntaxError("Line: an invalid number or illegal string was specified.");c=E,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(E){var A=Fl(E);A?(h=A,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(E){if(E<0||E>100)throw new Error("Position must be between 0 and 100.");g=E,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return y},set:function(E){var A=Fl(E);A?(y=A,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return _},set:function(E){if(E<0||E>100)throw new Error("Size must be between 0 and 100.");_=E,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return b},set:function(E){var A=Fl(E);if(!A)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");b=A,this.hasBeenReset=!0}}}),this.displayState=void 0}Um.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Hx=Um,Vx={"":!0,up:!0};function zx(i){if(typeof i!="string")return!1;var e=Vx[i.toLowerCase()];return e?i.toLowerCase():!1}function ea(i){return typeof i=="number"&&i>=0&&i<=100}function Wx(){var i=100,e=3,r=0,n=100,t=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return i},set:function(o){if(!ea(o))throw new Error("Width must be between 0 and 100.");i=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(o){if(!ea(o))throw new Error("RegionAnchorX must be between 0 and 100.");n=o}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!ea(o))throw new Error("RegionAnchorY must be between 0 and 100.");r=o}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(o){if(!ea(o))throw new Error("ViewportAnchorY must be between 0 and 100.");a=o}},viewportAnchorX:{enumerable:!0,get:function(){return t},set:function(o){if(!ea(o))throw new Error("ViewportAnchorX must be between 0 and 100.");t=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){var l=zx(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=l}}})}var Gx=Wx,Xi=P,zr=Cx.exports={WebVTT:Nx,VTTCue:Hx,VTTRegion:Gx};Xi.vttjs=zr;Xi.WebVTT=zr.WebVTT;var $x=zr.VTTCue,qx=zr.VTTRegion,Xx=Xi.VTTCue,Kx=Xi.VTTRegion;zr.shim=function(){Xi.VTTCue=$x,Xi.VTTRegion=qx};zr.restore=function(){Xi.VTTCue=Xx,Xi.VTTRegion=Kx};Xi.VTTCue||zr.shim();function Yx(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ta(i,e,r){return Yx()?Ta=Reflect.construct.bind():Ta=function(t,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(t,o),u=new l;return s&&xn(u,s.prototype),u},Ta.apply(null,arguments)}function Qx(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&xn(i,e)}var xu={},Jx={get exports(){return xu},set exports(i){xu=i}};(function(i,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,t=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,d){if(d=d||{},l=l.trim(),u=u.trim(),!u){if(!d.alwaysNormalize)return l;var c=o.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=o.normalizePath(c.path),o.buildURLFromParts(c)}var h=o.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return d.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):u;var g=o.parseURL(l);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var y=t.exec(g.path);g.netLoc=y[1],g.path=y[2]}g.netLoc&&!g.path&&(g.path="/");var _={scheme:g.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(_.netLoc=g.netLoc,h.path[0]!=="/"))if(!h.path)_.path=g.path,h.params||(_.params=g.params,h.query||(_.query=g.query));else{var b=g.path,E=b.substring(0,b.lastIndexOf("/")+1)+h.path;_.path=o.normalizePath(E)}return _.path===null&&(_.path=d.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(_)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(a,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};i.exports=o})()})(Jx);const nh=xu;var ah="http://example.com",$o=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=P.location&&P.location.href||"");var n=typeof P.URL=="function",t=/^\/\//.test(e),a=!P.location&&!/\/\//i.test(e);if(n?e=new P.URL(e,P.location||ah):/\/\//i.test(e)||(e=nh.buildAbsoluteURL(P.location&&P.location.href||"",e)),n){var s=new URL(r,e);return a?s.href.slice(ah.length):t?s.href.slice(s.protocol.length):s.href}return nh.buildAbsoluteURL(e,r)},Id=function(){function i(){this.listeners={}}var e=i.prototype;return e.on=function(n,t){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(t)},e.off=function(n,t){if(!this.listeners[n])return!1;var a=this.listeners[n].indexOf(t);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(a,1),a>-1},e.trigger=function(n){var t=this.listeners[n];if(t)if(arguments.length===2)for(var a=t.length,s=0;s<a;++s)t[s].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=t.length,u=0;u<l;++u)t[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(t){n.push(t)})},i}(),Zx=function(e){return P.atob?P.atob(e):Buffer.from(e,"base64").toString("binary")};function jm(i){for(var e=Zx(i),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var eE=function(i){se(e,i);function e(){var n;return n=i.call(this)||this,n.buffer="",n}var r=e.prototype;return r.push=function(t){var a;for(this.buffer+=t,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},e}(Id),tE=String.fromCharCode(9),Bl=function(e){var r=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return r[1]&&(n.length=parseInt(r[1],10)),r[2]&&(n.offset=parseInt(r[2],10)),n},iE=function(){var e="[^=]*",r='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+r+")";return new RegExp("(?:^|,)("+n+")")},li=function(e){for(var r=e.split(iE()),n={},t=r.length,a;t--;)r[t]!==""&&(a=/([^=]*)=(.*)/.exec(r[t]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),n[a[0]]=a[1]);return n},rE=function(i){se(e,i);function e(){var n;return n=i.call(this)||this,n.customParsers=[],n.tagMappers=[],n}var r=e.prototype;return r.push=function(t){var a=this,s,o;if(t=t.trim(),t.length!==0){if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}var l=this.tagMappers.reduce(function(u,d){var c=d(t);return c===t?u:u.concat([c])},[t]);l.forEach(function(u){for(var d=0;d<a.customParsers.length;d++)if(a.customParsers[d].call(a,u))return;if(u.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:u.slice(1)});return}if(u=u.replace("\r",""),s=/^#EXTM3U/.exec(u),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(u),s){o={type:"tag",tagType:"inf"},s[1]&&(o.duration=parseFloat(s[1])),s[2]&&(o.title=s[2]),a.trigger("data",o);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"targetduration"},s[1]&&(o.duration=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"version"},s[1]&&(o.version=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"media-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"playlist-type"},s[1]&&(o.playlistType=s[1]),a.trigger("data",o);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(u),s){o=ai(Bl(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",o);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(u),s){o={type:"tag",tagType:"allow-cache"},s[1]&&(o.allowed=!/NO/.test(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"map"},s[1]){var c=li(s[1]);c.URI&&(o.uri=c.URI),c.BYTERANGE&&(o.byterange=Bl(c.BYTERANGE))}a.trigger("data",o);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"stream-inf"},s[1]){if(o.attributes=li(s[1]),o.attributes.RESOLUTION){var h=o.attributes.RESOLUTION.split("x"),g={};h[0]&&(g.width=parseInt(h[0],10)),h[1]&&(g.height=parseInt(h[1],10)),o.attributes.RESOLUTION=g}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["FRAME-RATE"]&&(o.attributes["FRAME-RATE"]=parseFloat(o.attributes["FRAME-RATE"])),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(u),s){o={type:"tag",tagType:"media"},s[1]&&(o.attributes=li(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-ENDLIST/.exec(u),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(u),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(u),s){o={type:"tag",tagType:"program-date-time"},s[1]&&(o.dateTimeString=s[1],o.dateTimeObject=new Date(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(u),s){o={type:"tag",tagType:"key"},s[1]&&(o.attributes=li(s[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),a.trigger("data",o);return}if(s=/^#EXT-X-START:?(.*)$/.exec(u),s){o={type:"tag",tagType:"start"},s[1]&&(o.attributes=li(s[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out-cont"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-in"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"skip"},o.attributes=li(s[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(tE)),a.trigger("data",o);return}if(s=/^#EXT-X-PART:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"part"},o.attributes=li(s[1]),["DURATION"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),["INDEPENDENT","GAP"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=/YES/.test(o.attributes[y]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=Bl(o.attributes.BYTERANGE)),a.trigger("data",o);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"server-control"},o.attributes=li(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=/YES/.test(o.attributes[y]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"part-inf"},o.attributes=li(s[1]),["PART-TARGET"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseFloat(o.attributes[y]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=li(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(y){if(o.attributes.hasOwnProperty(y)){o.attributes[y]=parseInt(o.attributes[y],10);var _=y==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[_]=o.attributes[y],delete o.attributes[y]}}),a.trigger("data",o);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=li(s[1]),["LAST-MSN","LAST-PART"].forEach(function(y){o.attributes.hasOwnProperty(y)&&(o.attributes[y]=parseInt(o.attributes[y],10))}),a.trigger("data",o);return}a.trigger("data",{type:"tag",data:u.slice(4)})})}},r.addParser=function(t){var a=this,s=t.expression,o=t.customType,l=t.dataParser,u=t.segment;typeof l!="function"&&(l=function(c){return c}),this.customParsers.push(function(d){var c=s.exec(d);if(c)return a.trigger("data",{type:"custom",data:l(d),customType:o,segment:u}),!0})},r.addTagMapper=function(t){var a=t.expression,s=t.map,o=function(u){return a.test(u)?s(u):u};this.tagMappers.push(o)},e}(Id),nE=function(e){return e.toLowerCase().replace(/-(\w)/g,function(r){return r[1].toUpperCase()})},Xr=function(e){var r={};return Object.keys(e).forEach(function(n){r[nE(n)]=e[n]}),r},Ul=function(e){var r=e.serverControl,n=e.targetDuration,t=e.partTargetDuration;if(r){var a="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",l=n&&n*3,u=t&&t*2;n&&!r.hasOwnProperty(s)&&(r[s]=l,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&r[s]<l&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+r[s]+") to targetDuration * 3 ("+l+")"}),r[s]=l),t&&!r.hasOwnProperty(o)&&(r[o]=t*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[o]+")."})),t&&r[o]<u&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+r[o]+") to partTargetDuration * 2 ("+u+")."}),r[o]=u)}},aE=function(i){se(e,i);function e(){var n;n=i.call(this)||this,n.lineStream=new eE,n.parseStream=new rE,n.lineStream.pipe(n.parseStream);var t=Se(n),a=[],s={},o,l,u=!1,d=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",g=0;n.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var y=0,_=0;return n.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&o&&(s.map=o),!s.key&&l&&(s.key=l),!s.timeline&&typeof g=="number"&&(s.timeline=g),n.manifest.preloadSegment=s)}),n.parseStream.on("data",function(b){var E,A;({tag:function(){({version:function(){b.version&&(this.manifest.version=b.version)},"allow-cache":function(){this.manifest.allowCache=b.allowed,"allowed"in b||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var D={};"length"in b&&(s.byterange=D,D.length=b.length,"offset"in b||(b.offset=y)),"offset"in b&&(s.byterange=D,D.offset=b.offset),y=D.offset+D.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),b.duration>0&&(s.duration=b.duration),b.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!b.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(b.attributes.METHOD==="NONE"){l=null;return}if(!b.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(b.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:b.attributes};return}if(b.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:b.attributes.URI};return}if(b.attributes.KEYFORMAT===h){var D=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(D.indexOf(b.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(b.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),b.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(b.attributes.KEYID&&b.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:b.attributes.KEYFORMAT,keyId:b.attributes.KEYID.substring(2)},pssh:jm(b.attributes.URI.split(",")[1])};return}b.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:b.attributes.METHOD||"AES-128",uri:b.attributes.URI},typeof b.attributes.IV<"u"&&(l.iv=b.attributes.IV)},"media-sequence":function(){if(!isFinite(b.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+b.number});return}this.manifest.mediaSequence=b.number},"discontinuity-sequence":function(){if(!isFinite(b.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+b.number});return}this.manifest.discontinuitySequence=b.number,g=b.number},"playlist-type":function(){if(!/VOD|EVENT/.test(b.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+b.playlist});return}this.manifest.playlistType=b.playlistType},map:function(){o={},b.uri&&(o.uri=b.uri),b.byterange&&(o.byterange=b.byterange),l&&(o.key=l)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||c,!b.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),ai(s.attributes,b.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,!(b.attributes&&b.attributes.TYPE&&b.attributes["GROUP-ID"]&&b.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var D=this.manifest.mediaGroups[b.attributes.TYPE];D[b.attributes["GROUP-ID"]]=D[b.attributes["GROUP-ID"]]||{},E=D[b.attributes["GROUP-ID"]],A={default:/yes/i.test(b.attributes.DEFAULT)},A.default?A.autoselect=!0:A.autoselect=/yes/i.test(b.attributes.AUTOSELECT),b.attributes.LANGUAGE&&(A.language=b.attributes.LANGUAGE),b.attributes.URI&&(A.uri=b.attributes.URI),b.attributes["INSTREAM-ID"]&&(A.instreamId=b.attributes["INSTREAM-ID"]),b.attributes.CHARACTERISTICS&&(A.characteristics=b.attributes.CHARACTERISTICS),b.attributes.FORCED&&(A.forced=/yes/i.test(b.attributes.FORCED)),E[b.attributes.NAME]=A},discontinuity:function(){g+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=b.dateTimeString,this.manifest.dateTimeObject=b.dateTimeObject),s.dateTimeString=b.dateTimeString,s.dateTimeObject=b.dateTimeObject},targetduration:function(){if(!isFinite(b.duration)||b.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+b.duration});return}this.manifest.targetDuration=b.duration,Ul.call(this,this.manifest)},start:function(){if(!b.attributes||isNaN(b.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:b.attributes["TIME-OFFSET"],precise:b.attributes.PRECISE}},"cue-out":function(){s.cueOut=b.data},"cue-out-cont":function(){s.cueOutCont=b.data},"cue-in":function(){s.cueIn=b.data},skip:function(){this.manifest.skip=Xr(b.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",b.attributes,["SKIPPED-SEGMENTS"])},part:function(){var D=this;u=!0;var j=this.manifest.segments.length,V=Xr(b.attributes);s.parts=s.parts||[],s.parts.push(V),V.byterange&&(V.byterange.hasOwnProperty("offset")||(V.byterange.offset=_),_=V.byterange.offset+V.byterange.length);var R=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+R+" for segment #"+j,b.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(U,H){U.hasOwnProperty("lastPart")||D.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+H+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var D=this.manifest.serverControl=Xr(b.attributes);D.hasOwnProperty("canBlockReload")||(D.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Ul.call(this,this.manifest),D.canSkipDateranges&&!D.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var D=this.manifest.segments.length,j=Xr(b.attributes),V=j.type&&j.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(j),j.byterange&&(j.byterange.hasOwnProperty("offset")||(j.byterange.offset=V?_:0,V&&(_=j.byterange.offset+j.byterange.length)));var R=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+R+" for segment #"+D,b.attributes,["TYPE","URI"]),!!j.type)for(var U=0;U<s.preloadHints.length-1;U++){var H=s.preloadHints[U];H.type&&H.type===j.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+R+" for segment #"+D+" has the same TYPE "+j.type+" as preload hint #"+U})}},"rendition-report":function(){var D=Xr(b.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(D);var j=this.manifest.renditionReports.length-1,V=["LAST-MSN","URI"];u&&V.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+j,b.attributes,V)},"part-inf":function(){this.manifest.partInf=Xr(b.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",b.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Ul.call(this,this.manifest)}}[b.tagType]||d).call(t)},uri:function(){s.uri=b.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),l&&(s.key=l),s.timeline=g,o&&(s.map=o),_=0,s={}},comment:function(){},custom:function(){b.segment?(s.custom=s.custom||{},s.custom[b.customType]=b.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[b.customType]=b.data)}})[b.type].call(t)}),n}var r=e.prototype;return r.warnOnMissingAttributes_=function(t,a,s){var o=[];s.forEach(function(l){a.hasOwnProperty(l)||o.push(l)}),o.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+o.join(", ")})},r.push=function(t){this.lineStream.push(t)},r.end=function(){this.lineStream.push(`
`),this.trigger("end")},r.addParser=function(t){this.parseStream.addParser(t)},r.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(Id),Nr={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},sE=["video","audio","text"],sh=["Video","Audio","Text"],Hm=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,n,t){var a=("00"+Number(n).toString(16)).slice(-2),s=("00"+Number(t).toString(16)).slice(-2);return"avc1."+a+"00"+s})},Ei=function(e){e===void 0&&(e="");var r=e.split(","),n=[];return r.forEach(function(t){t=t.trim();var a;sE.forEach(function(s){var o=Nr[s].exec(t.toLowerCase());if(!(!o||o.length<=1)){a=s;var l=t.substring(0,o[1].length),u=t.replace(l,"");n.push({type:l,details:u,mediaType:s})}}),a||n.push({type:t,details:"",mediaType:"unknown"})}),n},oE=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var n=e.mediaGroups.AUDIO[r];if(!n)return null;for(var t in n){var a=n[t];if(a.default&&a.playlists)return Ei(a.playlists[0].attributes.CODECS)}return null},Vm=function(e){return e===void 0&&(e=""),Nr.audio.test(e.trim().toLowerCase())},lE=function(e){return e===void 0&&(e=""),Nr.text.test(e.trim().toLowerCase())},La=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(a){return Hm(a.trim())}),n="video";r.length===1&&Vm(r[0])?n="audio":r.length===1&&lE(r[0])&&(n="application");var t="mp4";return r.every(function(a){return Nr.mp4.test(a)})?t="mp4":r.every(function(a){return Nr.webm.test(a)})?t="webm":r.every(function(a){return Nr.ogg.test(a)})&&(t="ogg"),n+"/"+t+';codecs="'+e+'"'}},Gs=function(e){return e===void 0&&(e=""),P.MediaSource&&P.MediaSource.isTypeSupported&&P.MediaSource.isTypeSupported(La(e))||!1},jl=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var n=0;n<sh.length;n++){var t=sh[n];if(Nr["muxer"+t].test(r))return!0}return!1})},oh="mp4a.40.2",uE="avc1.4d400d",dE=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,cE=/^application\/dash\+xml/i,zm=function(e){return dE.test(e)?"hls":cE.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},fE=function(e){return e.toString(2).length},hE=function(e){return Math.ceil(fE(e)/8)},Wm=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},pE=function(e){return Wm(e)},ve=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!pE(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},ct=P.BigInt||Number,Eu=[ct("0x1"),ct("0x100"),ct("0x10000"),ct("0x1000000"),ct("0x100000000"),ct("0x10000000000"),ct("0x1000000000000"),ct("0x100000000000000"),ct("0x10000000000000000")];(function(){var i=new Uint16Array([65484]),e=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var mE=function(e,r){var n=r===void 0?{}:r,t=n.signed,a=t===void 0?!1:t,s=n.le,o=s===void 0?!1:s;e=ve(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],d=u.call(e,function(h,g,y){var _=o?y:Math.abs(y+1-e.length);return h+ct(g)*Eu[_]},ct(0));if(a){var c=Eu[e.length]/ct(2)-ct(1);d=ct(d),d>c&&(d-=c,d-=c,d-=ct(2))}return Number(d)},gE=function(e,r){var n=r===void 0?{}:r,t=n.le,a=t===void 0?!1:t;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=ct(e);for(var s=hE(e),o=new Uint8Array(new ArrayBuffer(s)),l=0;l<s;l++){var u=a?l:Math.abs(l+1-o.length);o[u]=Number(e/Eu[l]&ct(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},Gm=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n},vE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return ve(r[0]);var t=r.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),a=new Uint8Array(t),s=0;return r.forEach(function(o){o=ve(o),a.set(o,s),s+=o.byteLength}),a},ze=function(e,r,n){var t=n===void 0?{}:n,a=t.offset,s=a===void 0?0:a,o=t.mask,l=o===void 0?[]:o;e=ve(e),r=ve(r);var u=r.every?r.every:Array.prototype.every;return r.length&&e.length-s>=r.length&&u.call(r,function(d,c){var h=l[c]?l[c]&e[s+c]:e[s+c];return d===h})},yE=function(e,r,n){r.forEach(function(t){for(var a in e.mediaGroups[t])for(var s in e.mediaGroups[t][a]){var o=e.mediaGroups[t][a][s];n(o,t,a,s)}})},gr={},er={};function _E(i,e,r){if(r===void 0&&(r=Array.prototype),i&&typeof r.find=="function")return r.find.call(i,e);for(var n=0;n<i.length;n++)if(Object.prototype.hasOwnProperty.call(i,n)){var t=i[n];if(e.call(void 0,t,n,i))return t}}function Ad(i,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(i):i}function TE(i,e){if(i===null||typeof i!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}var $m=Ad({HTML:"text/html",isHTML:function(i){return i===$m.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),qm=Ad({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===qm.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});er.assign=TE;er.find=_E;er.freeze=Ad;er.MIME_TYPE=$m;er.NAMESPACE=qm;var Xm=er,Di=Xm.find,Ma=Xm.NAMESPACE;function bE(i){return i!==""}function SE(i){return i?i.split(/[\t\n\f\r ]+/).filter(bE):[]}function xE(i,e){return i.hasOwnProperty(e)||(i[e]=!0),i}function lh(i){if(!i)return[];var e=SE(i);return Object.keys(e.reduce(xE,{}))}function EE(i){return function(e){return i&&i.indexOf(e)!==-1}}function Wa(i,e){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}function Ht(i,e){var r=i.prototype;if(!(r instanceof e)){let t=function(){};var n=t;t.prototype=e.prototype,t=new t,Wa(r,t),i.prototype=r=t}r.constructor!=i&&(typeof i!="function"&&console.error("unknown Class:"+i),r.constructor=i)}var Vt={},gi=Vt.ELEMENT_NODE=1,En=Vt.ATTRIBUTE_NODE=2,lo=Vt.TEXT_NODE=3,Km=Vt.CDATA_SECTION_NODE=4,Ym=Vt.ENTITY_REFERENCE_NODE=5,CE=Vt.ENTITY_NODE=6,Qm=Vt.PROCESSING_INSTRUCTION_NODE=7,Jm=Vt.COMMENT_NODE=8,Zm=Vt.DOCUMENT_NODE=9,eg=Vt.DOCUMENT_TYPE_NODE=10,Ki=Vt.DOCUMENT_FRAGMENT_NODE=11,wE=Vt.NOTATION_NODE=12,bt={},ot={};bt.INDEX_SIZE_ERR=(ot[1]="Index size error",1);bt.DOMSTRING_SIZE_ERR=(ot[2]="DOMString size error",2);var Ut=bt.HIERARCHY_REQUEST_ERR=(ot[3]="Hierarchy request error",3);bt.WRONG_DOCUMENT_ERR=(ot[4]="Wrong document",4);bt.INVALID_CHARACTER_ERR=(ot[5]="Invalid character",5);bt.NO_DATA_ALLOWED_ERR=(ot[6]="No data allowed",6);bt.NO_MODIFICATION_ALLOWED_ERR=(ot[7]="No modification allowed",7);var tg=bt.NOT_FOUND_ERR=(ot[8]="Not found",8);bt.NOT_SUPPORTED_ERR=(ot[9]="Not supported",9);var uh=bt.INUSE_ATTRIBUTE_ERR=(ot[10]="Attribute in use",10);bt.INVALID_STATE_ERR=(ot[11]="Invalid state",11);bt.SYNTAX_ERR=(ot[12]="Syntax error",12);bt.INVALID_MODIFICATION_ERR=(ot[13]="Invalid modification",13);bt.NAMESPACE_ERR=(ot[14]="Invalid namespace",14);bt.INVALID_ACCESS_ERR=(ot[15]="Invalid access",15);function et(i,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,ot[i]),this.message=ot[i],Error.captureStackTrace&&Error.captureStackTrace(this,et);return r.code=i,e&&(this.message=this.message+": "+e),r}et.prototype=Error.prototype;Wa(bt,et);function Wi(){}Wi.prototype={length:0,item:function(i){return this[i]||null},toString:function(i,e){for(var r=[],n=0;n<this.length;n++)nn(this[n],r,i,e);return r.join("")},filter:function(i){return Array.prototype.filter.call(this,i)},indexOf:function(i){return Array.prototype.indexOf.call(this,i)}};function Cn(i,e){this._node=i,this._refresh=e,kd(this)}function kd(i){var e=i._node._inc||i._node.ownerDocument._inc;if(i._inc!=e){var r=i._refresh(i._node);hg(i,"length",r.length),Wa(r,i),i._inc=e}}Cn.prototype.item=function(i){return kd(this),this[i]};Ht(Cn,Wi);function uo(){}function ig(i,e){for(var r=i.length;r--;)if(i[r]===e)return r}function dh(i,e,r,n){if(n?e[ig(e,n)]=r:e[e.length++]=r,i){r.ownerElement=i;var t=i.ownerDocument;t&&(n&&ag(t,i,n),PE(t,i,r))}}function ch(i,e,r){var n=ig(e,r);if(n>=0){for(var t=e.length-1;n<t;)e[n]=e[++n];if(e.length=t,i){var a=i.ownerDocument;a&&(ag(a,i,r),r.ownerElement=null)}}else throw new et(tg,new Error(i.tagName+"@"+r))}uo.prototype={length:0,item:Wi.prototype.item,getNamedItem:function(i){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==i)return r}},setNamedItem:function(i){var e=i.ownerElement;if(e&&e!=this._ownerElement)throw new et(uh);var r=this.getNamedItem(i.nodeName);return dh(this._ownerElement,this,i,r),r},setNamedItemNS:function(i){var e=i.ownerElement,r;if(e&&e!=this._ownerElement)throw new et(uh);return r=this.getNamedItemNS(i.namespaceURI,i.localName),dh(this._ownerElement,this,i,r),r},removeNamedItem:function(i){var e=this.getNamedItem(i);return ch(this._ownerElement,this,e),e},removeNamedItemNS:function(i,e){var r=this.getNamedItemNS(i,e);return ch(this._ownerElement,this,r),r},getNamedItemNS:function(i,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==i)return n}return null}};function rg(){}rg.prototype={hasFeature:function(i,e){return!0},createDocument:function(i,e,r){var n=new Ga;if(n.implementation=this,n.childNodes=new Wi,n.doctype=r||null,r&&n.appendChild(r),e){var t=n.createElementNS(i,e);n.appendChild(t)}return n},createDocumentType:function(i,e,r){var n=new qo;return n.name=i,n.nodeName=i,n.publicId=e||"",n.systemId=r||"",n}};function Ne(){}Ne.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(i,e){return co(this,i,e)},replaceChild:function(i,e){co(this,i,e,og),e&&this.removeChild(e)},removeChild:function(i){return sg(this,i)},appendChild:function(i){return this.insertBefore(i,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(i){return Cu(this.ownerDocument||this,this,i)},normalize:function(){for(var i=this.firstChild;i;){var e=i.nextSibling;e&&e.nodeType==lo&&i.nodeType==lo?(this.removeChild(e),i.appendData(e.data)):(i.normalize(),i=e)}},isSupported:function(i,e){return this.ownerDocument.implementation.hasFeature(i,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(i){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===i)return n}e=e.nodeType==En?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(i){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,i))return r[i];e=e.nodeType==En?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(i){var e=this.lookupPrefix(i);return e==null}};function ng(i){return i=="<"&&"&lt;"||i==">"&&"&gt;"||i=="&"&&"&amp;"||i=='"'&&"&quot;"||"&#"+i.charCodeAt()+";"}Wa(Vt,Ne);Wa(Vt,Ne.prototype);function Ra(i,e){if(e(i))return!0;if(i=i.firstChild)do if(Ra(i,e))return!0;while(i=i.nextSibling)}function Ga(){this.ownerDocument=this}function PE(i,e,r){i&&i._inc++;var n=r.namespaceURI;n===Ma.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function ag(i,e,r,n){i&&i._inc++;var t=r.namespaceURI;t===Ma.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function Od(i,e,r){if(i&&i._inc){i._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var t=e.firstChild,a=0;t;)n[a++]=t,t=t.nextSibling;n.length=a,delete n[n.length]}}}function sg(i,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:i.firstChild=n,n?n.previousSibling=r:i.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Od(i.ownerDocument,i),e}function IE(i){return i&&(i.nodeType===Ne.DOCUMENT_NODE||i.nodeType===Ne.DOCUMENT_FRAGMENT_NODE||i.nodeType===Ne.ELEMENT_NODE)}function AE(i){return i&&(Li(i)||Dd(i)||Yi(i)||i.nodeType===Ne.DOCUMENT_FRAGMENT_NODE||i.nodeType===Ne.COMMENT_NODE||i.nodeType===Ne.PROCESSING_INSTRUCTION_NODE)}function Yi(i){return i&&i.nodeType===Ne.DOCUMENT_TYPE_NODE}function Li(i){return i&&i.nodeType===Ne.ELEMENT_NODE}function Dd(i){return i&&i.nodeType===Ne.TEXT_NODE}function fh(i,e){var r=i.childNodes||[];if(Di(r,Li)||Yi(e))return!1;var n=Di(r,Yi);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function hh(i,e){var r=i.childNodes||[];function n(a){return Li(a)&&a!==e}if(Di(r,n))return!1;var t=Di(r,Yi);return!(e&&t&&r.indexOf(t)>r.indexOf(e))}function kE(i,e,r){if(!IE(i))throw new et(Ut,"Unexpected parent node type "+i.nodeType);if(r&&r.parentNode!==i)throw new et(tg,"child not in parent");if(!AE(e)||Yi(e)&&i.nodeType!==Ne.DOCUMENT_NODE)throw new et(Ut,"Unexpected node type "+e.nodeType+" for parent node type "+i.nodeType)}function OE(i,e,r){var n=i.childNodes||[],t=e.childNodes||[];if(e.nodeType===Ne.DOCUMENT_FRAGMENT_NODE){var a=t.filter(Li);if(a.length>1||Di(t,Dd))throw new et(Ut,"More than one element or text in fragment");if(a.length===1&&!fh(i,r))throw new et(Ut,"Element in fragment can not be inserted before doctype")}if(Li(e)&&!fh(i,r))throw new et(Ut,"Only one element can be added and only after doctype");if(Yi(e)){if(Di(n,Yi))throw new et(Ut,"Only one doctype is allowed");var s=Di(n,Li);if(r&&n.indexOf(s)<n.indexOf(r))throw new et(Ut,"Doctype can only be inserted before an element");if(!r&&s)throw new et(Ut,"Doctype can not be appended since element is present")}}function og(i,e,r){var n=i.childNodes||[],t=e.childNodes||[];if(e.nodeType===Ne.DOCUMENT_FRAGMENT_NODE){var a=t.filter(Li);if(a.length>1||Di(t,Dd))throw new et(Ut,"More than one element or text in fragment");if(a.length===1&&!hh(i,r))throw new et(Ut,"Element in fragment can not be inserted before doctype")}if(Li(e)&&!hh(i,r))throw new et(Ut,"Only one element can be added and only after doctype");if(Yi(e)){let l=function(u){return Yi(u)&&u!==r};var o=l;if(Di(n,l))throw new et(Ut,"Only one doctype is allowed");var s=Di(n,Li);if(r&&n.indexOf(s)<n.indexOf(r))throw new et(Ut,"Doctype can only be inserted before an element")}}function co(i,e,r,n){kE(i,e,r),i.nodeType===Ne.DOCUMENT_NODE&&(n||OE)(i,e,r);var t=e.parentNode;if(t&&t.removeChild(e),e.nodeType===Ki){var a=e.firstChild;if(a==null)return e;var s=e.lastChild}else a=s=e;var o=r?r.previousSibling:i.lastChild;a.previousSibling=o,s.nextSibling=r,o?o.nextSibling=a:i.firstChild=a,r==null?i.lastChild=s:r.previousSibling=s;do a.parentNode=i;while(a!==s&&(a=a.nextSibling));return Od(i.ownerDocument||i,i),e.nodeType==Ki&&(e.firstChild=e.lastChild=null),e}function DE(i,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=i,e.previousSibling=i.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:i.firstChild=e,i.lastChild=e,Od(i.ownerDocument,i,e),e}Ga.prototype={nodeName:"#document",nodeType:Zm,doctype:null,documentElement:null,_inc:1,insertBefore:function(i,e){if(i.nodeType==Ki){for(var r=i.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return i}return co(this,i,e),i.ownerDocument=this,this.documentElement===null&&i.nodeType===gi&&(this.documentElement=i),i},removeChild:function(i){return this.documentElement==i&&(this.documentElement=null),sg(this,i)},replaceChild:function(i,e){co(this,i,e,og),i.ownerDocument=this,e&&this.removeChild(e),Li(i)&&(this.documentElement=i)},importNode:function(i,e){return fg(this,i,e)},getElementById:function(i){var e=null;return Ra(this.documentElement,function(r){if(r.nodeType==gi&&r.getAttribute("id")==i)return e=r,!0}),e},getElementsByClassName:function(i){var e=lh(i);return new Cn(this,function(r){var n=[];return e.length>0&&Ra(r.documentElement,function(t){if(t!==r&&t.nodeType===gi){var a=t.getAttribute("class");if(a){var s=i===a;if(!s){var o=lh(a);s=e.every(EE(o))}s&&n.push(t)}}}),n})},createElement:function(i){var e=new Hr;e.ownerDocument=this,e.nodeName=i,e.tagName=i,e.localName=i,e.childNodes=new Wi;var r=e.attributes=new uo;return r._ownerElement=e,e},createDocumentFragment:function(){var i=new Xo;return i.ownerDocument=this,i.childNodes=new Wi,i},createTextNode:function(i){var e=new Ld;return e.ownerDocument=this,e.appendData(i),e},createComment:function(i){var e=new Md;return e.ownerDocument=this,e.appendData(i),e},createCDATASection:function(i){var e=new Rd;return e.ownerDocument=this,e.appendData(i),e},createProcessingInstruction:function(i,e){var r=new Fd;return r.ownerDocument=this,r.tagName=r.target=i,r.nodeValue=r.data=e,r},createAttribute:function(i){var e=new fo;return e.ownerDocument=this,e.name=i,e.nodeName=i,e.localName=i,e.specified=!0,e},createEntityReference:function(i){var e=new Nd;return e.ownerDocument=this,e.nodeName=i,e},createElementNS:function(i,e){var r=new Hr,n=e.split(":"),t=r.attributes=new uo;return r.childNodes=new Wi,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=i,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,t._ownerElement=r,r},createAttributeNS:function(i,e){var r=new fo,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=i,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}};Ht(Ga,Ne);function Hr(){this._nsMap={}}Hr.prototype={nodeType:gi,hasAttribute:function(i){return this.getAttributeNode(i)!=null},getAttribute:function(i){var e=this.getAttributeNode(i);return e&&e.value||""},getAttributeNode:function(i){return this.attributes.getNamedItem(i)},setAttribute:function(i,e){var r=this.ownerDocument.createAttribute(i);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(i){var e=this.getAttributeNode(i);e&&this.removeAttributeNode(e)},appendChild:function(i){return i.nodeType===Ki?this.insertBefore(i,null):DE(this,i)},setAttributeNode:function(i){return this.attributes.setNamedItem(i)},setAttributeNodeNS:function(i){return this.attributes.setNamedItemNS(i)},removeAttributeNode:function(i){return this.attributes.removeNamedItem(i.nodeName)},removeAttributeNS:function(i,e){var r=this.getAttributeNodeNS(i,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(i,e){return this.getAttributeNodeNS(i,e)!=null},getAttributeNS:function(i,e){var r=this.getAttributeNodeNS(i,e);return r&&r.value||""},setAttributeNS:function(i,e,r){var n=this.ownerDocument.createAttributeNS(i,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(i,e){return this.attributes.getNamedItemNS(i,e)},getElementsByTagName:function(i){return new Cn(this,function(e){var r=[];return Ra(e,function(n){n!==e&&n.nodeType==gi&&(i==="*"||n.tagName==i)&&r.push(n)}),r})},getElementsByTagNameNS:function(i,e){return new Cn(this,function(r){var n=[];return Ra(r,function(t){t!==r&&t.nodeType===gi&&(i==="*"||t.namespaceURI===i)&&(e==="*"||t.localName==e)&&n.push(t)}),n})}};Ga.prototype.getElementsByTagName=Hr.prototype.getElementsByTagName;Ga.prototype.getElementsByTagNameNS=Hr.prototype.getElementsByTagNameNS;Ht(Hr,Ne);function fo(){}fo.prototype.nodeType=En;Ht(fo,Ne);function $a(){}$a.prototype={data:"",substringData:function(i,e){return this.data.substring(i,i+e)},appendData:function(i){i=this.data+i,this.nodeValue=this.data=i,this.length=i.length},insertData:function(i,e){this.replaceData(i,0,e)},appendChild:function(i){throw new Error(ot[Ut])},deleteData:function(i,e){this.replaceData(i,e,"")},replaceData:function(i,e,r){var n=this.data.substring(0,i),t=this.data.substring(i+e);r=n+r+t,this.nodeValue=this.data=r,this.length=r.length}};Ht($a,Ne);function Ld(){}Ld.prototype={nodeName:"#text",nodeType:lo,splitText:function(i){var e=this.data,r=e.substring(i);e=e.substring(0,i),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Ht(Ld,$a);function Md(){}Md.prototype={nodeName:"#comment",nodeType:Jm};Ht(Md,$a);function Rd(){}Rd.prototype={nodeName:"#cdata-section",nodeType:Km};Ht(Rd,$a);function qo(){}qo.prototype.nodeType=eg;Ht(qo,Ne);function lg(){}lg.prototype.nodeType=wE;Ht(lg,Ne);function ug(){}ug.prototype.nodeType=CE;Ht(ug,Ne);function Nd(){}Nd.prototype.nodeType=Ym;Ht(Nd,Ne);function Xo(){}Xo.prototype.nodeName="#document-fragment";Xo.prototype.nodeType=Ki;Ht(Xo,Ne);function Fd(){}Fd.prototype.nodeType=Qm;Ht(Fd,Ne);function dg(){}dg.prototype.serializeToString=function(i,e,r){return cg.call(i,e,r)};Ne.prototype.toString=cg;function cg(i,e){var r=[],n=this.nodeType==9&&this.documentElement||this,t=n.prefix,a=n.namespaceURI;if(a&&t==null){var t=n.lookupPrefix(a);if(t==null)var s=[{namespace:a,prefix:null}]}return nn(this,r,i,e,s),r.join("")}function ph(i,e,r){var n=i.prefix||"",t=i.namespaceURI;if(!t||n==="xml"&&t===Ma.XML||t===Ma.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===n)return s.namespace!==t}return!0}function Hl(i,e,r){i.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,ng),'"')}function nn(i,e,r,n,t){if(t||(t=[]),n)if(i=n(i),i){if(typeof i=="string"){e.push(i);return}}else return;switch(i.nodeType){case gi:var a=i.attributes,s=a.length,E=i.firstChild,o=i.tagName;r=Ma.isHTML(i.namespaceURI)||r;var l=o;if(!r&&!i.prefix&&i.namespaceURI){for(var u,d=0;d<a.length;d++)if(a.item(d).name==="xmlns"){u=a.item(d).value;break}if(!u)for(var c=t.length-1;c>=0;c--){var h=t[c];if(h.prefix===""&&h.namespace===i.namespaceURI){u=h.namespace;break}}if(u!==i.namespaceURI)for(var c=t.length-1;c>=0;c--){var h=t[c];if(h.namespace===i.namespaceURI){h.prefix&&(l=h.prefix+":"+o);break}}}e.push("<",l);for(var g=0;g<s;g++){var y=a.item(g);y.prefix=="xmlns"?t.push({prefix:y.localName,namespace:y.value}):y.nodeName=="xmlns"&&t.push({prefix:"",namespace:y.value})}for(var g=0;g<s;g++){var y=a.item(g);if(ph(y,r,t)){var _=y.prefix||"",b=y.namespaceURI;Hl(e,_?"xmlns:"+_:"xmlns",b),t.push({prefix:_,namespace:b})}nn(y,e,r,n,t)}if(o===l&&ph(i,r,t)){var _=i.prefix||"",b=i.namespaceURI;Hl(e,_?"xmlns:"+_:"xmlns",b),t.push({prefix:_,namespace:b})}if(E||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),r&&/^script$/i.test(o))for(;E;)E.data?e.push(E.data):nn(E,e,r,n,t.slice()),E=E.nextSibling;else for(;E;)nn(E,e,r,n,t.slice()),E=E.nextSibling;e.push("</",l,">")}else e.push("/>");return;case Zm:case Ki:for(var E=i.firstChild;E;)nn(E,e,r,n,t.slice()),E=E.nextSibling;return;case En:return Hl(e,i.name,i.value);case lo:return e.push(i.data.replace(/[<&>]/g,ng));case Km:return e.push("<![CDATA[",i.data,"]]>");case Jm:return e.push("<!--",i.data,"-->");case eg:var A=i.publicId,I=i.systemId;if(e.push("<!DOCTYPE ",i.name),A)e.push(" PUBLIC ",A),I&&I!="."&&e.push(" ",I),e.push(">");else if(I&&I!=".")e.push(" SYSTEM ",I,">");else{var k=i.internalSubset;k&&e.push(" [",k,"]"),e.push(">")}return;case Qm:return e.push("<?",i.target," ",i.data,"?>");case Ym:return e.push("&",i.nodeName,";");default:e.push("??",i.nodeName)}}function fg(i,e,r){var n;switch(e.nodeType){case gi:n=e.cloneNode(!1),n.ownerDocument=i;case Ki:break;case En:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=i,n.parentNode=null,r)for(var t=e.firstChild;t;)n.appendChild(fg(i,t,r)),t=t.nextSibling;return n}function Cu(i,e,r){var n=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=e[t];typeof a!="object"&&a!=n[t]&&(n[t]=a)}switch(e.childNodes&&(n.childNodes=new Wi),n.ownerDocument=i,n.nodeType){case gi:var s=e.attributes,o=n.attributes=new uo,l=s.length;o._ownerElement=n;for(var u=0;u<l;u++)n.setAttributeNode(Cu(i,s.item(u),!0));break;case En:r=!0}if(r)for(var d=e.firstChild;d;)n.appendChild(Cu(i,d,r)),d=d.nextSibling;return n}function hg(i,e,r){i[e]=r}try{if(Object.defineProperty){let i=function(e){switch(e.nodeType){case gi:case Ki:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(i(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};var getTextContent=i;Object.defineProperty(Cn.prototype,"length",{get:function(){return kd(this),this.$$length}}),Object.defineProperty(Ne.prototype,"textContent",{get:function(){return i(this)},set:function(e){switch(this.nodeType){case gi:case Ki:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),hg=function(e,r,n){e["$$"+r]=n}}}catch{}gr.DocumentType=qo;gr.DOMException=et;gr.DOMImplementation=rg;gr.Element=Hr;gr.Node=Ne;gr.NodeList=Wi;gr.XMLSerializer=dg;var Ko={},pg={};(function(i){var e=er.freeze;i.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),i.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),i.entityMap=i.HTML_ENTITIES})(pg);var Bd={},Na=er.NAMESPACE,wu=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,mh=new RegExp("[\\-\\.0-9"+wu.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),gh=new RegExp("^"+wu.source+mh.source+"*(?::"+wu.source+mh.source+"*)?$"),ta=0,ar=1,Kr=2,ia=3,Yr=4,Qr=5,ra=6,ks=7;function wn(i,e){this.message=i,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,wn)}wn.prototype=new Error;wn.prototype.name=wn.name;function mg(){}mg.prototype={parse:function(i,e,r){var n=this.domBuilder;n.startDocument(),gg(e,e={}),LE(i,e,r,n,this.errorHandler),n.endDocument()}};function LE(i,e,r,n,t){function a(W){if(W>65535){W-=65536;var $=55296+(W>>10),ne=56320+(W&1023);return String.fromCharCode($,ne)}else return String.fromCharCode(W)}function s(W){var $=W.slice(1,-1);return Object.hasOwnProperty.call(r,$)?r[$]:$.charAt(0)==="#"?a(parseInt($.substr(1).replace("x","0x"))):(t.error("entity not found:"+W),W)}function o(W){if(W>_){var $=i.substring(_,W).replace(/&#?\w+;/g,s);h&&l(_),n.characters($,0,W-_),_=W}}function l(W,$){for(;W>=d&&($=c.exec(i));)u=$.index,d=u+$[0].length,h.lineNumber++;h.columnNumber=W-u+1}for(var u=0,d=0,c=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,g=[{currentNSMap:e}],y={},_=0;;){try{var b=i.indexOf("<",_);if(b<0){if(!i.substr(_).match(/^\s*$/)){var E=n.doc,A=E.createTextNode(i.substr(_));E.appendChild(A),n.currentElement=A}return}switch(b>_&&o(b),i.charAt(b+1)){case"/":var z=i.indexOf(">",b+3),I=i.substring(b+2,z).replace(/[ \t\n\r]+$/g,""),k=g.pop();z<0?(I=i.substring(b+2).replace(/[\s<].*/,""),t.error("end tag name: "+I+" is not complete:"+k.tagName),z=b+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),t.error("end tag name: "+I+" maybe not complete"),z=b+1+I.length);var D=k.localNSMap,j=k.tagName==I,V=j||k.tagName&&k.tagName.toLowerCase()==I.toLowerCase();if(V){if(n.endElement(k.uri,k.localName,I),D)for(var R in D)Object.prototype.hasOwnProperty.call(D,R)&&n.endPrefixMapping(R);j||t.fatalError("end tag name: "+I+" is not match the current start tagName:"+k.tagName)}else g.push(k);z++;break;case"?":h&&l(b),z=BE(i,b,n);break;case"!":h&&l(b),z=FE(i,b,n,t);break;default:h&&l(b);var U=new vg,H=g[g.length-1].currentNSMap,z=ME(i,b,U,H,s,t),G=U.length;if(!U.closed&&NE(i,z,U.tagName,y)&&(U.closed=!0,r.nbsp||t.warning("unclosed xml attribute")),h&&G){for(var K=vh(h,{}),de=0;de<G;de++){var Y=U[de];l(Y.offset),Y.locator=vh(h,{})}n.locator=K,yh(U,n,H)&&g.push(U),n.locator=h}else yh(U,n,H)&&g.push(U);Na.isHTML(U.uri)&&!U.closed?z=RE(i,z,U.tagName,s,n):z++}}catch(W){if(W instanceof wn)throw W;t.error("element parse error: "+W),z=-1}z>_?_=z:o(Math.max(b,_)+1)}}function vh(i,e){return e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber,e}function ME(i,e,r,n,t,a){function s(h,g,y){r.attributeNames.hasOwnProperty(h)&&a.fatalError("Attribute "+h+" redefined"),r.addValue(h,g.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,t),y)}for(var o,l,u=++e,d=ta;;){var c=i.charAt(u);switch(c){case"=":if(d===ar)o=i.slice(e,u),d=ia;else if(d===Kr)d=ia;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===ia||d===ar)if(d===ar&&(a.warning('attribute value must after "="'),o=i.slice(e,u)),e=u+1,u=i.indexOf(c,e),u>0)l=i.slice(e,u),s(o,l,e-1),d=Qr;else throw new Error("attribute value no end '"+c+"' match");else if(d==Yr)l=i.slice(e,u),s(o,l,e),a.warning('attribute "'+o+'" missed start quot('+c+")!!"),e=u+1,d=Qr;else throw new Error('attribute value must after "="');break;case"/":switch(d){case ta:r.setTagName(i.slice(e,u));case Qr:case ra:case ks:d=ks,r.closed=!0;case Yr:case ar:case Kr:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),d==ta&&r.setTagName(i.slice(e,u)),u;case">":switch(d){case ta:r.setTagName(i.slice(e,u));case Qr:case ra:case ks:break;case Yr:case ar:l=i.slice(e,u),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case Kr:d===Kr&&(l=o),d==Yr?(a.warning('attribute "'+l+'" missed quot(")!'),s(o,l,e)):((!Na.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,e));break;case ia:throw new Error("attribute value missed!!")}return u;case"":c=" ";default:if(c<=" ")switch(d){case ta:r.setTagName(i.slice(e,u)),d=ra;break;case ar:o=i.slice(e,u),d=Kr;break;case Yr:var l=i.slice(e,u);a.warning('attribute "'+l+'" missed quot(")!!'),s(o,l,e);case Qr:d=ra;break}else switch(d){case Kr:r.tagName,(!Na.isHTML(n[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,e),e=u,d=ar;break;case Qr:a.warning('attribute space is required"'+o+'"!!');case ra:d=ar,e=u;break;case ia:d=Yr,e=u;break;case ks:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function yh(i,e,r){for(var n=i.tagName,t=null,c=i.length;c--;){var a=i[c],s=a.qName,o=a.value,h=s.indexOf(":");if(h>0)var l=a.prefix=s.slice(0,h),u=s.slice(h+1),d=l==="xmlns"&&u;else u=s,l=null,d=s==="xmlns"&&"";a.localName=u,d!==!1&&(t==null&&(t={},gg(r,r={})),r[d]=t[d]=o,a.uri=Na.XMLNS,e.startPrefixMapping(d,o))}for(var c=i.length;c--;){a=i[c];var l=a.prefix;l&&(l==="xml"&&(a.uri=Na.XML),l!=="xmlns"&&(a.uri=r[l||""]))}var h=n.indexOf(":");h>0?(l=i.prefix=n.slice(0,h),u=i.localName=n.slice(h+1)):(l=null,u=i.localName=n);var g=i.uri=r[l||""];if(e.startElement(g,u,n,i),i.closed){if(e.endElement(g,u,n),t)for(l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.endPrefixMapping(l)}else return i.currentNSMap=r,i.localNSMap=t,!0}function RE(i,e,r,n,t){if(/^(?:script|textarea)$/i.test(r)){var a=i.indexOf("</"+r+">",e),s=i.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(r)?(t.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,n),t.characters(s,0,s.length),a)}return e+1}function NE(i,e,r,n){var t=n[r];return t==null&&(t=i.lastIndexOf("</"+r+">"),t<e&&(t=i.lastIndexOf("</"+r)),n[r]=t),t<e}function gg(i,e){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}function FE(i,e,r,n){var t=i.charAt(e+2);switch(t){case"-":if(i.charAt(e+3)==="-"){var a=i.indexOf("-->",e+4);return a>e?(r.comment(i,e+4,a-e-4),a+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(i.substr(e+3,6)=="CDATA["){var a=i.indexOf("]]>",e+9);return r.startCDATA(),r.characters(i,e+9,a-e-9),r.endCDATA(),a+3}var s=UE(i,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],u=!1,d=!1;o>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],d=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(d=s[3][0]));var c=s[o-1];return r.startDTD(l,u,d),r.endDTD(),c.index+c[0].length}}return-1}function BE(i,e,r){var n=i.indexOf("?>",e);if(n){var t=i.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return t?(t[0].length,r.processingInstruction(t[1],t[2]),n+2):-1}return-1}function vg(){this.attributeNames={}}vg.prototype={setTagName:function(i){if(!gh.test(i))throw new Error("invalid tagName:"+i);this.tagName=i},addValue:function(i,e,r){if(!gh.test(i))throw new Error("invalid attribute:"+i);this.attributeNames[i]=this.length,this[this.length++]={qName:i,value:e,offset:r}},length:0,getLocalName:function(i){return this[i].localName},getLocator:function(i){return this[i].locator},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}};function UE(i,e){var r,n=[],t=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(t.lastIndex=e,t.exec(i);r=t.exec(i);)if(n.push(r),r[1])return n}Bd.XMLReader=mg;Bd.ParseError=wn;var jE=er,HE=gr,_h=pg,yg=Bd,VE=HE.DOMImplementation,Th=jE.NAMESPACE,zE=yg.ParseError,WE=yg.XMLReader;function _g(i){return i.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function Tg(i){this.options=i||{locator:{}}}Tg.prototype.parseFromString=function(i,e){var r=this.options,n=new WE,t=r.domBuilder||new qa,a=r.errorHandler,s=r.locator,o=r.xmlns||{},l=/\/x?html?$/.test(e),u=l?_h.HTML_ENTITIES:_h.XML_ENTITIES;s&&t.setDocumentLocator(s),n.errorHandler=GE(a,t,s),n.domBuilder=r.domBuilder||t,l&&(o[""]=Th.HTML),o.xml=o.xml||Th.XML;var d=r.normalizeLineEndings||_g;return i&&typeof i=="string"?n.parse(d(i),o,u):n.errorHandler.error("invalid doc source"),t.doc};function GE(i,e,r){if(!i){if(e instanceof qa)return e;i=e}var n={},t=i instanceof Function;r=r||{};function a(s){var o=i[s];!o&&t&&(o=i.length==2?function(l){i(s,l)}:i),n[s]=o&&function(l){o("[xmldom "+s+"]	"+l+Pu(r))}||function(){}}return a("warning"),a("error"),a("fatalError"),n}function qa(){this.cdata=!1}function Jr(i,e){e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber}qa.prototype={startDocument:function(){this.doc=new VE().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(i,e,r,n){var t=this.doc,a=t.createElementNS(i,r||e),s=n.length;Os(this,a),this.currentElement=a,this.locator&&Jr(this.locator,a);for(var o=0;o<s;o++){var i=n.getURI(o),l=n.getValue(o),r=n.getQName(o),u=t.createAttributeNS(i,r);this.locator&&Jr(n.getLocator(o),u),u.value=u.nodeValue=l,a.setAttributeNode(u)}},endElement:function(i,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(i,e){},endPrefixMapping:function(i){},processingInstruction:function(i,e){var r=this.doc.createProcessingInstruction(i,e);this.locator&&Jr(this.locator,r),Os(this,r)},ignorableWhitespace:function(i,e,r){},characters:function(i,e,r){if(i=bh.apply(this,arguments),i){if(this.cdata)var n=this.doc.createCDATASection(i);else var n=this.doc.createTextNode(i);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(i)&&this.doc.appendChild(n),this.locator&&Jr(this.locator,n)}},skippedEntity:function(i){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(i){(this.locator=i)&&(i.lineNumber=0)},comment:function(i,e,r){i=bh.apply(this,arguments);var n=this.doc.createComment(i);this.locator&&Jr(this.locator,n),Os(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(i,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var t=n.createDocumentType(i,e,r);this.locator&&Jr(this.locator,t),Os(this,t),this.doc.doctype=t}},warning:function(i){console.warn("[xmldom warning]	"+i,Pu(this.locator))},error:function(i){console.error("[xmldom error]	"+i,Pu(this.locator))},fatalError:function(i){throw new zE(i,this.locator)}};function Pu(i){if(i)return`
@`+(i.systemId||"")+"#[line:"+i.lineNumber+",col:"+i.columnNumber+"]"}function bh(i,e,r){return typeof i=="string"?i.substr(e,r):i.length>=e+r||e?new java.lang.String(i,e,r)+"":i}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(i){qa.prototype[i]=function(){return null}});function Os(i,e){i.currentElement?i.currentElement.appendChild(e):i.doc.appendChild(e)}Ko.__DOMHandler=qa;Ko.normalizeLineEndings=_g;Ko.DOMParser=Tg;var $E=Ko.DOMParser;/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var Sh=function(e){return!!e&&typeof e=="object"},At=function i(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce(function(t,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(t[s])&&Array.isArray(a[s])?t[s]=t[s].concat(a[s]):Sh(t[s])&&Sh(a[s])?t[s]=i(t[s],a[s]):t[s]=a[s]}),t},{})},bg=function(e){return Object.keys(e).map(function(r){return e[r]})},qE=function(e,r){for(var n=[],t=e;t<r;t++)n.push(t);return n},Yo=function(e){return e.reduce(function(r,n){return r.concat(n)},[])},Sg=function(e){if(!e.length)return[];for(var r=[],n=0;n<e.length;n++)r.push(e[n]);return r},XE=function(e,r){return e.reduce(function(n,t,a){return t[r]&&n.push(a),n},[])},Iu=function(e,r){for(var n=0;n<e.length;n++)if(r(e[n]))return n;return-1},KE=function(e,r){return bg(e.reduce(function(n,t){return t.forEach(function(a){n[r(a)]=a}),n},{}))},Pn={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Fa=function(e){var r=e.baseUrl,n=r===void 0?"":r,t=e.source,a=t===void 0?"":t,s=e.range,o=s===void 0?"":s,l=e.indexRange,u=l===void 0?"":l,d={uri:a,resolvedUri:$o(n||"",a)};if(o||u){var c=o||u,h=c.split("-"),g=P.BigInt?P.BigInt(h[0]):parseInt(h[0],10),y=P.BigInt?P.BigInt(h[1]):parseInt(h[1],10);g<Number.MAX_SAFE_INTEGER&&typeof g=="bigint"&&(g=Number(g)),y<Number.MAX_SAFE_INTEGER&&typeof y=="bigint"&&(y=Number(y));var _;typeof y=="bigint"||typeof g=="bigint"?_=P.BigInt(y)-P.BigInt(g)+P.BigInt(1):_=y-g+1,typeof _=="bigint"&&_<Number.MAX_SAFE_INTEGER&&(_=Number(_)),d.byterange={length:_,offset:g}}return d},YE=function(e){var r;return typeof e.offset=="bigint"||typeof e.length=="bigint"?r=P.BigInt(e.offset)+P.BigInt(e.length)-P.BigInt(1):r=e.offset+e.length-1,e.offset+"-"+r},xh=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},QE={static:function(e){var r=e.duration,n=e.timescale,t=n===void 0?1:n,a=e.sourceDuration,s=e.periodDuration,o=xh(e.endNumber),l=r/t;return typeof o=="number"?{start:0,end:o}:typeof s=="number"?{start:0,end:s/l}:{start:0,end:a/l}},dynamic:function(e){var r=e.NOW,n=e.clientOffset,t=e.availabilityStartTime,a=e.timescale,s=a===void 0?1:a,o=e.duration,l=e.periodStart,u=l===void 0?0:l,d=e.minimumUpdatePeriod,c=d===void 0?0:d,h=e.timeShiftBufferDepth,g=h===void 0?1/0:h,y=xh(e.endNumber),_=(r+n)/1e3,b=t+u,E=_+c,A=E-b,I=Math.ceil(A*s/o),k=Math.floor((_-b-g)*s/o),D=Math.floor((_-b)*s/o);return{start:Math.max(0,k),end:typeof y=="number"?y:Math.min(I,D)}}},JE=function(e){return function(r){var n=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodStart,o=e.startNumber,l=o===void 0?1:o;return{number:l+r,duration:n/a,timeline:s,time:r*n}}},Ud=function(e){var r=e.type,n=e.duration,t=e.timescale,a=t===void 0?1:t,s=e.periodDuration,o=e.sourceDuration,l=QE[r](e),u=l.start,d=l.end,c=qE(u,d).map(JE(e));if(r==="static"){var h=c.length-1,g=typeof s=="number"?s:o;c[h].duration=g-n/a*h}return c},xg=function(e){var r=e.baseUrl,n=e.initialization,t=n===void 0?{}:n,a=e.sourceDuration,s=e.indexRange,o=s===void 0?"":s,l=e.periodStart,u=e.presentationTime,d=e.number,c=d===void 0?0:d,h=e.duration;if(!r)throw new Error(Pn.NO_BASE_URL);var g=Fa({baseUrl:r,source:t.sourceURL,range:t.range}),y=Fa({baseUrl:r,source:r,indexRange:o});if(y.map=g,h){var _=Ud(e);_.length&&(y.duration=_[0].duration,y.timeline=_[0].timeline)}else a&&(y.duration=a,y.timeline=l);return y.presentationTime=u||l,y.number=c,[y]},jd=function(e,r,n){var t=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,o=e.sidx.byterange,l=o.offset+o.length,u=r.timescale,d=r.references.filter(function(U){return U.referenceType!==1}),c=[],h=e.endList?"static":"dynamic",g=e.sidx.timeline,y=g,_=e.mediaSequence||0,b;typeof r.firstOffset=="bigint"?b=P.BigInt(l)+r.firstOffset:b=l+r.firstOffset;for(var E=0;E<d.length;E++){var A=r.references[E],I=A.referencedSize,k=A.subsegmentDuration,D=void 0;typeof b=="bigint"?D=b+P.BigInt(I)-P.BigInt(1):D=b+I-1;var j=b+"-"+D,V={baseUrl:n,timescale:u,timeline:s,periodStart:g,presentationTime:y,number:_,duration:k,sourceDuration:a,indexRange:j,type:h},R=xg(V)[0];t&&(R.map=t),c.push(R),typeof b=="bigint"?b+=P.BigInt(I):b+=I,y+=k/u,_++}return e.segments=c,e},ZE=["AUDIO","SUBTITLES"],eC=1/60,Eg=function(e){return KE(e,function(r){var n=r.timeline;return n}).sort(function(r,n){return r.timeline>n.timeline?1:-1})},tC=function(e,r){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===r)return e[n];return null},Eh=function(e){var r=[];return yE(e,ZE,function(n,t,a,s){r=r.concat(n.playlists||[])}),r},Ch=function(e){var r=e.playlist,n=e.mediaSequence;r.mediaSequence=n,r.segments.forEach(function(t,a){t.number=r.mediaSequence+a})},iC=function(e){var r=e.oldPlaylists,n=e.newPlaylists,t=e.timelineStarts;n.forEach(function(a){a.discontinuitySequence=Iu(t,function(d){var c=d.timeline;return c===a.timeline});var s=tC(r,a.attributes.NAME);if(s&&!a.sidx){var o=a.segments[0],l=Iu(s.segments,function(d){return Math.abs(d.presentationTime-o.presentationTime)<eC});if(l===-1){Ch({playlist:a,mediaSequence:s.mediaSequence+s.segments.length}),a.segments[0].discontinuity=!0,a.discontinuityStarts.unshift(0),(!s.segments.length&&a.timeline>s.timeline||s.segments.length&&a.timeline>s.segments[s.segments.length-1].timeline)&&a.discontinuitySequence--;return}var u=s.segments[l];u.discontinuity&&!o.discontinuity&&(o.discontinuity=!0,a.discontinuityStarts.unshift(0),a.discontinuitySequence--),Ch({playlist:a,mediaSequence:s.segments[l].number})}})},rC=function(e){var r=e.oldManifest,n=e.newManifest,t=r.playlists.concat(Eh(r)),a=n.playlists.concat(Eh(n));return n.timelineStarts=Eg([r.timelineStarts,n.timelineStarts]),iC({oldPlaylists:t,newPlaylists:a,timelineStarts:n.timelineStarts}),n},Qo=function(e){return e&&e.uri+"-"+YE(e.byterange)},Vl=function(e){var r=bg(e.reduce(function(n,t){var a=t.attributes.id+(t.attributes.lang||"");if(!n[a])n[a]=t,n[a].attributes.timelineStarts=[];else{if(t.segments){var s;t.segments[0]&&(t.segments[0].discontinuity=!0),(s=n[a].segments).push.apply(s,t.segments)}t.attributes.contentProtection&&(n[a].attributes.contentProtection=t.attributes.contentProtection)}return n[a].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),n},{}));return r.map(function(n){return n.discontinuityStarts=XE(n.segments||[],"discontinuity"),n})},Hd=function(e,r){var n=Qo(e.sidx),t=n&&r[n]&&r[n].sidx;return t&&jd(e,t,e.sidx.resolvedUri),e},nC=function(e,r){if(r===void 0&&(r={}),!Object.keys(r).length)return e;for(var n in e)e[n]=Hd(e[n],r);return e},aC=function(e,r){var n,t=e.attributes,a=e.segments,s=e.sidx,o=e.mediaSequence,l=e.discontinuitySequence,u=e.discontinuityStarts,d={attributes:(n={NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuitySequence:l,discontinuityStarts:u,timelineStarts:t.timelineStarts,mediaSequence:o,segments:a};return t.contentProtection&&(d.contentProtection=t.contentProtection),s&&(d.sidx=s),r&&(d.attributes.AUDIO="audio",d.attributes.SUBTITLES="subs"),d},sC=function(e){var r,n=e.attributes,t=e.segments,a=e.mediaSequence,s=e.discontinuityStarts,o=e.discontinuitySequence;typeof t>"u"&&(t=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var l=(r={NAME:n.id,BANDWIDTH:n.bandwidth},r["PROGRAM-ID"]=1,r);return n.codecs&&(l.CODECS=n.codecs),{attributes:l,uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:s,discontinuitySequence:o,mediaSequence:a,segments:t}},oC=function(e,r,n){r===void 0&&(r={}),n===void 0&&(n=!1);var t,a=e.reduce(function(o,l){var u=l.attributes.role&&l.attributes.role.value||"",d=l.attributes.lang||"",c=l.attributes.label||"main";if(d&&!l.attributes.label){var h=u?" ("+u+")":"";c=""+l.attributes.lang+h}o[c]||(o[c]={language:d,autoselect:!0,default:u==="main",playlists:[],uri:""});var g=Hd(aC(l,n),r);return o[c].playlists.push(g),typeof t>"u"&&u==="main"&&(t=l,t.default=!0),o},{});if(!t){var s=Object.keys(a)[0];a[s].default=!0}return a},lC=function(e,r){return r===void 0&&(r={}),e.reduce(function(n,t){var a=t.attributes.lang||"text";return n[a]||(n[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),n[a].playlists.push(Hd(sC(t),r)),n},{})},uC=function(e){return e.reduce(function(r,n){return n&&n.forEach(function(t){var a=t.channel,s=t.language;r[s]={autoselect:!1,default:!1,instreamId:a,language:s},t.hasOwnProperty("aspectRatio")&&(r[s].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(r[s].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(r[s]["3D"]=t["3D"])}),r},{})},dC=function(e){var r,n=e.attributes,t=e.segments,a=e.sidx,s=e.discontinuityStarts,o={attributes:(r={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuityStarts:s,timelineStarts:n.timelineStarts,segments:t};return n.frameRate&&(o.attributes["FRAME-RATE"]=n.frameRate),n.contentProtection&&(o.contentProtection=n.contentProtection),a&&(o.sidx=a),o},cC=function(e){var r=e.attributes;return r.mimeType==="video/mp4"||r.mimeType==="video/webm"||r.contentType==="video"},fC=function(e){var r=e.attributes;return r.mimeType==="audio/mp4"||r.mimeType==="audio/webm"||r.contentType==="audio"},hC=function(e){var r=e.attributes;return r.mimeType==="text/vtt"||r.contentType==="text"},pC=function(e,r){e.forEach(function(n){n.mediaSequence=0,n.discontinuitySequence=Iu(r,function(t){var a=t.timeline;return a===n.timeline}),n.segments&&n.segments.forEach(function(t,a){t.number=a})})},wh=function(e){return e?Object.keys(e).reduce(function(r,n){var t=e[n];return r.concat(t.playlists)},[]):[]},mC=function(e){var r,n=e.dashPlaylists,t=e.locations,a=e.sidxMapping,s=a===void 0?{}:a,o=e.previousManifest;if(!n.length)return{};var l=n[0].attributes,u=l.sourceDuration,d=l.type,c=l.suggestedPresentationDelay,h=l.minimumUpdatePeriod,g=Vl(n.filter(cC)).map(dC),y=Vl(n.filter(fC)),_=Vl(n.filter(hC)),b=n.map(function(V){return V.attributes.captionServices}).filter(Boolean),E={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:u,playlists:nC(g,s)};h>=0&&(E.minimumUpdatePeriod=h*1e3),t&&(E.locations=t),d==="dynamic"&&(E.suggestedPresentationDelay=c);var A=E.playlists.length===0,I=y.length?oC(y,s,A):null,k=_.length?lC(_,s):null,D=g.concat(wh(I),wh(k)),j=D.map(function(V){var R=V.timelineStarts;return R});return E.timelineStarts=Eg(j),pC(D,E.timelineStarts),I&&(E.mediaGroups.AUDIO.audio=I),k&&(E.mediaGroups.SUBTITLES.subs=k),b.length&&(E.mediaGroups["CLOSED-CAPTIONS"].cc=uC(b)),o?rC({oldManifest:o,newManifest:E}):E},gC=function(e,r,n){var t=e.NOW,a=e.clientOffset,s=e.availabilityStartTime,o=e.timescale,l=o===void 0?1:o,u=e.periodStart,d=u===void 0?0:u,c=e.minimumUpdatePeriod,h=c===void 0?0:c,g=(t+a)/1e3,y=s+d,_=g+h,b=_-y;return Math.ceil((b*l-r)/n)},Cg=function(e,r){for(var n=e.type,t=e.minimumUpdatePeriod,a=t===void 0?0:t,s=e.media,o=s===void 0?"":s,l=e.sourceDuration,u=e.timescale,d=u===void 0?1:u,c=e.startNumber,h=c===void 0?1:c,g=e.periodStart,y=[],_=-1,b=0;b<r.length;b++){var E=r[b],A=E.d,I=E.r||0,k=E.t||0;_<0&&(_=k),k&&k>_&&(_=k);var D=void 0;if(I<0){var j=b+1;j===r.length?n==="dynamic"&&a>0&&o.indexOf("$Number$")>0?D=gC(e,_,A):D=(l*d-_)/A:D=(r[j].t-_)/A}else D=I+1;for(var V=h+y.length+D,R=h+y.length;R<V;)y.push({number:R,duration:A/d,time:_,timeline:g}),_+=A,R++}return y},vC=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,yC=function(e){return function(r,n,t,a){if(r==="$$")return"$";if(typeof e[n]>"u")return r;var s=""+e[n];return n==="RepresentationID"||(t?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},Ph=function(e,r){return e.replace(vC,yC(r))},_C=function(e,r){return!e.duration&&!r?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?Ud(e):Cg(e,r)},TC=function(e,r){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},t=e.initialization,a=t===void 0?{sourceURL:"",range:""}:t,s=Fa({baseUrl:e.baseUrl,source:Ph(a.sourceURL,n),range:a.range}),o=_C(e,r);return o.map(function(l){n.Number=l.number,n.Time=l.time;var u=Ph(e.media||"",n),d=e.timescale||1,c=e.presentationTimeOffset||0,h=e.periodStart+(l.time-c)/d,g={uri:u,timeline:l.timeline,duration:l.duration,resolvedUri:$o(e.baseUrl||"",u),map:s,number:l.number,presentationTime:h};return g})},bC=function(e,r){var n=e.baseUrl,t=e.initialization,a=t===void 0?{}:t,s=Fa({baseUrl:n,source:a.sourceURL,range:a.range}),o=Fa({baseUrl:n,source:r.media,range:r.mediaRange});return o.map=s,o},SC=function(e,r){var n=e.duration,t=e.segmentUrls,a=t===void 0?[]:t,s=e.periodStart;if(!n&&!r||n&&r)throw new Error(Pn.SEGMENT_TIME_UNSPECIFIED);var o=a.map(function(d){return bC(e,d)}),l;n&&(l=Ud(e)),r&&(l=Cg(e,r));var u=l.map(function(d,c){if(o[c]){var h=o[c],g=e.timescale||1,y=e.presentationTimeOffset||0;return h.timeline=d.timeline,h.duration=d.duration,h.number=d.number,h.presentationTime=s+(d.time-y)/g,h}}).filter(function(d){return d});return u},xC=function(e){var r=e.attributes,n=e.segmentInfo,t,a;n.template?(a=TC,t=At(r,n.template)):n.base?(a=xg,t=At(r,n.base)):n.list&&(a=SC,t=At(r,n.list));var s={attributes:r};if(!a)return s;var o=a(t,n.segmentTimeline);if(t.duration){var l=t,u=l.duration,d=l.timescale,c=d===void 0?1:d;t.duration=u/c}else o.length?t.duration=o.reduce(function(h,g){return Math.max(h,Math.ceil(g.duration))},0):t.duration=0;return s.attributes=t,s.segments=o,n.base&&t.indexRange&&(s.sidx=o[0],s.segments=[]),s},EC=function(e){return e.map(xC)},Je=function(e,r){return Sg(e.childNodes).filter(function(n){var t=n.tagName;return t===r})},Vd=function(e){return e.textContent.trim()},CC=function(e){return parseFloat(e.split("/").reduce(function(r,n){return r/n}))},Zr=function(e){var r=31536e3,n=30*24*60*60,t=24*60*60,a=60*60,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=o.exec(e);if(!l)return 0;var u=l.slice(1),d=u[0],c=u[1],h=u[2],g=u[3],y=u[4],_=u[5];return parseFloat(d||0)*r+parseFloat(c||0)*n+parseFloat(h||0)*t+parseFloat(g||0)*a+parseFloat(y||0)*s+parseFloat(_||0)},wC=function(e){var r=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return r.test(e)&&(e+="Z"),Date.parse(e)},Ih={mediaPresentationDuration:function(e){return Zr(e)},availabilityStartTime:function(e){return wC(e)/1e3},minimumUpdatePeriod:function(e){return Zr(e)},suggestedPresentationDelay:function(e){return Zr(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Zr(e)},start:function(e){return Zr(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return CC(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var r=parseInt(e,10);return isNaN(r)?Zr(e):r},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},gt=function(e){return e&&e.attributes?Sg(e.attributes).reduce(function(r,n){var t=Ih[n.name]||Ih.DEFAULT;return r[n.name]=t(n.value),r},{}):{}},PC={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Jo=function(e,r){return r.length?Yo(e.map(function(n){return r.map(function(t){return $o(n,Vd(t))})})):e},zd=function(e){var r=Je(e,"SegmentTemplate")[0],n=Je(e,"SegmentList")[0],t=n&&Je(n,"SegmentURL").map(function(h){return At({tag:"SegmentURL"},gt(h))}),a=Je(e,"SegmentBase")[0],s=n||r,o=s&&Je(s,"SegmentTimeline")[0],l=n||a||r,u=l&&Je(l,"Initialization")[0],d=r&&gt(r);d&&u?d.initialization=u&&gt(u):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});var c={template:d,segmentTimeline:o&&Je(o,"S").map(function(h){return gt(h)}),list:n&&At(gt(n),{segmentUrls:t,initialization:gt(u)}),base:a&&At(gt(a),{initialization:gt(u)})};return Object.keys(c).forEach(function(h){c[h]||delete c[h]}),c},IC=function(e,r,n){return function(t){var a=Je(t,"BaseURL"),s=Jo(r,a),o=At(e,gt(t)),l=zd(t);return s.map(function(u){return{segmentInfo:At(n,l),attributes:At(o,{baseUrl:u})}})}},AC=function(e){return e.reduce(function(r,n){var t=gt(n);t.schemeIdUri&&(t.schemeIdUri=t.schemeIdUri.toLowerCase());var a=PC[t.schemeIdUri];if(a){r[a]={attributes:t};var s=Je(n,"cenc:pssh")[0];if(s){var o=Vd(s);r[a].pssh=o&&jm(o)}}return r},{})},kC=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var r=typeof e.value!="string"?[]:e.value.split(";");return r.map(function(t){var a,s;if(s=t,/^CC\d=/.test(t)){var o=t.split("=");a=o[0],s=o[1]}else/^CC\d$/.test(t)&&(a=t);return{channel:a,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(t){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){var s=t.split("="),o=s[0],l=s[1],u=l===void 0?"":l;a.channel=o,a.language=t,u.split(",").forEach(function(d){var c=d.split(":"),h=c[0],g=c[1];h==="lang"?a.language=g:h==="er"?a.easyReader=Number(g):h==="war"?a.aspectRatio=Number(g):h==="3D"&&(a["3D"]=Number(g))})}else a.language=t;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},OC=function(e,r,n){return function(t){var a=gt(t),s=Jo(r,Je(t,"BaseURL")),o=Je(t,"Role")[0],l={role:gt(o)},u=At(e,a,l),d=Je(t,"Accessibility")[0],c=kC(gt(d));c&&(u=At(u,{captionServices:c}));var h=Je(t,"Label")[0];if(h&&h.childNodes.length){var g=h.childNodes[0].nodeValue.trim();u=At(u,{label:g})}var y=AC(Je(t,"ContentProtection"));Object.keys(y).length&&(u=At(u,{contentProtection:y}));var _=zd(t),b=Je(t,"Representation"),E=At(n,_);return Yo(b.map(IC(u,s,E)))}},DC=function(e,r){return function(n,t){var a=Jo(r,Je(n.node,"BaseURL")),s=At(e,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);var o=Je(n.node,"AdaptationSet"),l=zd(n.node);return Yo(o.map(OC(s,a,l)))}},LC=function(e){var r=e.attributes,n=e.priorPeriodAttributes,t=e.mpdType;return typeof r.start=="number"?r.start:n&&typeof n.start=="number"&&typeof n.duration=="number"?n.start+n.duration:!n&&t==="static"?0:null},MC=function(e,r){r===void 0&&(r={});var n=r,t=n.manifestUri,a=t===void 0?"":t,s=n.NOW,o=s===void 0?Date.now():s,l=n.clientOffset,u=l===void 0?0:l,d=Je(e,"Period");if(!d.length)throw new Error(Pn.INVALID_NUMBER_OF_PERIOD);var c=Je(e,"Location"),h=gt(e),g=Jo([a],Je(e,"BaseURL"));h.type=h.type||"static",h.sourceDuration=h.mediaPresentationDuration||0,h.NOW=o,h.clientOffset=u,c.length&&(h.locations=c.map(Vd));var y=[];return d.forEach(function(_,b){var E=gt(_),A=y[b-1];E.start=LC({attributes:E,priorPeriodAttributes:A?A.attributes:null,mpdType:h.type}),y.push({node:_,attributes:E})}),{locations:h.locations,representationInfo:Yo(y.map(DC(h,g)))}},wg=function(e){if(e==="")throw new Error(Pn.DASH_EMPTY_MANIFEST);var r=new $E,n,t;try{n=r.parseFromString(e,"application/xml"),t=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!t||t&&t.getElementsByTagName("parsererror").length>0)throw new Error(Pn.DASH_INVALID_XML);return t},RC=function(e){var r=Je(e,"UTCTiming")[0];if(!r)return null;var n=gt(r);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Pn.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},NC=function(e,r){r===void 0&&(r={});var n=MC(wg(e),r),t=EC(n.representationInfo);return mC({dashPlaylists:t,locations:n.locations,sidxMapping:r.sidxMapping,previousManifest:r.previousManifest})},FC=function(e){return RC(wg(e))},Pg=Math.pow(2,32),BC=function(i){var e=new DataView(i.buffer,i.byteOffset,i.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*Pg+e.getUint32(4)},UC={getUint64:BC,MAX_UINT32:Pg},Ah=UC.getUint64,jC=function(i){var e=new DataView(i.buffer,i.byteOffset,i.byteLength),r={version:i[0],flags:new Uint8Array(i.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;r.version===0?(r.earliestPresentationTime=e.getUint32(n),r.firstOffset=e.getUint32(n+4),n+=8):(r.earliestPresentationTime=Ah(i.subarray(n)),r.firstOffset=Ah(i.subarray(n+8)),n+=16),n+=2;var t=e.getUint16(n);for(n+=2;t>0;n+=12,t--)r.references.push({referenceType:(i[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(i[n+8]&128),sapType:(i[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return r},HC=jC,VC=ve([73,68,51]),zC=function(e,r){r===void 0&&(r=0),e=ve(e);var n=e[r+5],t=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],a=(n&16)>>4;return a?t+20:t+10},fa=function i(e,r){return r===void 0&&(r=0),e=ve(e),e.length-r<10||!ze(e,VC,{offset:r})?r:(r+=zC(e,r),i(e,r))},kh=function(e){return typeof e=="string"?Gm(e):e},WC=function(e){return Array.isArray(e)?e.map(function(r){return kh(r)}):[kh(e)]},GC=function i(e,r,n){n===void 0&&(n=!1),r=WC(r),e=ve(e);var t=[];if(!r.length)return t;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,o=e.subarray(a+4,a+8);if(s===0)break;var l=a+s;if(l>e.length){if(n)break;l=e.length}var u=e.subarray(a+8,l);ze(o,r[0])&&(r.length===1?t.push(u):t.push.apply(t,i(u,r.slice(1),n))),a=l}return t},Ds={EBML:ve([26,69,223,163]),DocType:ve([66,130]),Segment:ve([24,83,128,103]),SegmentInfo:ve([21,73,169,102]),Tracks:ve([22,84,174,107]),Track:ve([174]),TrackNumber:ve([215]),DefaultDuration:ve([35,227,131]),TrackEntry:ve([174]),TrackType:ve([131]),FlagDefault:ve([136]),CodecID:ve([134]),CodecPrivate:ve([99,162]),VideoTrack:ve([224]),AudioTrack:ve([225]),Cluster:ve([31,67,182,117]),Timestamp:ve([231]),TimestampScale:ve([42,215,177]),BlockGroup:ve([160]),BlockDuration:ve([155]),Block:ve([161]),SimpleBlock:ve([163])},Au=[128,64,32,16,8,4,2,1],$C=function(e){for(var r=1,n=0;n<Au.length&&!(e&Au[n]);n++)r++;return r},ho=function(e,r,n,t){n===void 0&&(n=!0),t===void 0&&(t=!1);var a=$C(e[r]),s=e.subarray(r,r+a);return n&&(s=Array.prototype.slice.call(e,r,r+a),s[0]^=Au[a-1]),{length:a,value:mE(s,{signed:t}),bytes:s}},Oh=function i(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return i(r)}):typeof e=="number"?gE(e):e},qC=function(e){return Array.isArray(e)?e.map(function(r){return Oh(r)}):[Oh(e)]},XC=function i(e,r,n){if(n>=r.length)return r.length;var t=ho(r,n,!1);if(ze(e.bytes,t.bytes))return n;var a=ho(r,n+t.length);return i(e,r,n+a.length+a.value+t.length)},Dh=function i(e,r){r=qC(r),e=ve(e);var n=[];if(!r.length)return n;for(var t=0;t<e.length;){var a=ho(e,t,!1),s=ho(e,t+a.length),o=t+a.length+s.length;s.value===127&&(s.value=XC(a,e,o),s.value!==e.length&&(s.value-=o));var l=o+s.value>e.length?e.length:o+s.value,u=e.subarray(o,l);ze(r[0],a.bytes)&&(r.length===1?n.push(u):n=n.concat(i(u,r.slice(1))));var d=a.length+s.length+u.length;t+=d}return n},KC=ve([0,0,0,1]),YC=ve([0,0,1]),QC=ve([0,0,3]),JC=function(e){for(var r=[],n=1;n<e.length-2;)ze(e.subarray(n,n+3),QC)&&(r.push(n+2),n++),n++;if(r.length===0)return e;var t=e.length-r.length,a=new Uint8Array(t),s=0;for(n=0;n<t;s++,n++)s===r[0]&&(s++,r.shift()),a[n]=e[s];return a},Ig=function(e,r,n,t){t===void 0&&(t=1/0),e=ve(e),n=[].concat(n);for(var a=0,s,o=0;a<e.length&&(o<t||s);){var l=void 0;if(ze(e.subarray(a),KC)?l=4:ze(e.subarray(a),YC)&&(l=3),!l){a++;continue}if(o++,s)return JC(e.subarray(s,a));var u=void 0;r==="h264"?u=e[a+l]&31:r==="h265"&&(u=e[a+l]>>1&63),n.indexOf(u)!==-1&&(s=a+l),a+=l+(r==="h264"?1:2)}return e.subarray(0,0)},ZC=function(e,r,n){return Ig(e,"h264",r,n)},ew=function(e,r,n){return Ig(e,"h265",r,n)},Ct={webm:ve([119,101,98,109]),matroska:ve([109,97,116,114,111,115,107,97]),flac:ve([102,76,97,67]),ogg:ve([79,103,103,83]),ac3:ve([11,119]),riff:ve([82,73,70,70]),avi:ve([65,86,73]),wav:ve([87,65,86,69]),"3gp":ve([102,116,121,112,51,103]),mp4:ve([102,116,121,112]),fmp4:ve([115,116,121,112]),mov:ve([102,116,121,112,113,116]),moov:ve([109,111,111,118]),moof:ve([109,111,111,102])},In={aac:function(e){var r=fa(e);return ze(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=fa(e);return ze(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=Dh(e,[Ds.EBML,Ds.DocType])[0];return ze(r,Ct.webm)},mkv:function(e){var r=Dh(e,[Ds.EBML,Ds.DocType])[0];return ze(r,Ct.matroska)},mp4:function(e){if(In["3gp"](e)||In.mov(e))return!1;if(ze(e,Ct.mp4,{offset:4})||ze(e,Ct.fmp4,{offset:4})||ze(e,Ct.moof,{offset:4})||ze(e,Ct.moov,{offset:4}))return!0},mov:function(e){return ze(e,Ct.mov,{offset:4})},"3gp":function(e){return ze(e,Ct["3gp"],{offset:4})},ac3:function(e){var r=fa(e);return ze(e,Ct.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=fa(e);return ze(e,Ct.flac,{offset:r})},ogg:function(e){return ze(e,Ct.ogg)},avi:function(e){return ze(e,Ct.riff)&&ze(e,Ct.avi,{offset:8})},wav:function(e){return ze(e,Ct.riff)&&ze(e,Ct.wav,{offset:8})},h264:function(e){return ZC(e,7,3).length},h265:function(e){return ew(e,[32,33],3).length}},ku=Object.keys(In).filter(function(i){return i!=="ts"&&i!=="h264"&&i!=="h265"}).concat(["ts","h264","h265"]);ku.forEach(function(i){var e=In[i];In[i]=function(r){return e(ve(r))}});var tw=In,Wd=function(e){e=ve(e);for(var r=0;r<ku.length;r++){var n=ku[r];if(tw[n](e))return n}return""},iw=function(e){return GC(e,["moof"]).length>0},Gd=9e4,$d,qd,Zo,Xd,Ag,kg,Og;$d=function(i){return i*Gd};qd=function(i,e){return i*e};Zo=function(i){return i/Gd};Xd=function(i,e){return i/e};Ag=function(i,e){return $d(Xd(i,e))};kg=function(i,e){return qd(Zo(i),e)};Og=function(i,e,r){return Zo(r?i:i-e)};var po={ONE_SECOND_IN_TS:Gd,secondsToVideoTs:$d,secondsToAudioTs:qd,videoTsToSeconds:Zo,audioTsToSeconds:Xd,audioTsToVideoTs:Ag,videoTsToAudioTs:kg,metadataTsToSeconds:Og};function Ou(i){return Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ou(i)}function rw(i){return Function.toString.call(i).indexOf("[native code]")!==-1}function Du(i){var e=typeof Map=="function"?new Map:void 0;return Du=function(n){if(n===null||!rw(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,t)}function t(){return Ta(n,arguments,Ou(this).constructor)}return t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),xn(t,n)},Du(i)}/**
 * @license
 * Video.js 7.21.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Dg="7.21.2",Vi={},hr=function(e,r){return Vi[e]=Vi[e]||[],r&&(Vi[e]=Vi[e].concat(r)),Vi[e]},nw=function(e,r){hr(e,r)},Lg=function(e,r){var n=hr(e).indexOf(r);return n<=-1?!1:(Vi[e]=Vi[e].slice(),Vi[e].splice(n,1),!0)},aw=function(e,r){hr(e,[].concat(r).map(function(n){var t=function a(){return Lg(e,a),n.apply(void 0,arguments)};return t}))},mo={prefixed:!0},$s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Lh=$s[0],ha;for(var Ls=0;Ls<$s.length;Ls++)if($s[Ls][1]in ie){ha=$s[Ls];break}if(ha){for(var Ms=0;Ms<ha.length;Ms++)mo[Lh[Ms]]=ha[Ms];mo.prefixed=ha[0]!==Lh[0]}var Bt=[],sw=function(e,r){return function(n,t,a){var s=r.levels[t],o=new RegExp("^("+s+")$");if(n!=="log"&&a.unshift(n.toUpperCase()+":"),a.unshift(e+":"),Bt){Bt.push([].concat(a));var l=Bt.length-1e3;Bt.splice(0,l>0?l:0)}if(P.console){var u=P.console[n];!u&&n==="debug"&&(u=P.console.info||P.console.log),!(!u||!s||!o.test(n))&&u[Array.isArray(a)?"apply":"call"](P.console,a)}}};function Mg(i){var e="info",r,n=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];r("log",e,s)};return r=sw(i,n),n.createLogger=function(t){return Mg(i+": "+t)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},n.level=function(t){if(typeof t=="string"){if(!n.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');e=t}return e},n.history=function(){return Bt?[].concat(Bt):[]},n.history.filter=function(t){return(Bt||[]).filter(function(a){return new RegExp(".*"+t+".*").test(a[0])})},n.history.clear=function(){Bt&&(Bt.length=0)},n.history.disable=function(){Bt!==null&&(Bt.length=0,Bt=null)},n.history.enable=function(){Bt===null&&(Bt=[])},n.error=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r("error",e,a)},n.warn=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r("warn",e,a)},n.debug=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r("debug",e,a)},n}var Pe=Mg("VIDEOJS"),Rg=Pe.createLogger,ow=Object.prototype.toString,Ng=function(e){return Qi(e)?Object.keys(e):[]};function pn(i,e){Ng(i).forEach(function(r){return e(i[r],r)})}function lw(i,e,r){return r===void 0&&(r=0),Ng(i).reduce(function(n,t){return e(n,i[t],t)},r)}function Ye(i){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Object.assign?ai.apply(void 0,[i].concat(r)):(r.forEach(function(t){t&&pn(t,function(a,s){i[s]=a})}),i)}function Qi(i){return!!i&&typeof i=="object"}function Ba(i){return Qi(i)&&ow.call(i)==="[object Object]"&&i.constructor===Object}function Ua(i,e){if(!i||!e)return"";if(typeof P.getComputedStyle=="function"){var r;try{r=P.getComputedStyle(i)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}var st=P.navigator&&P.navigator.userAgent||"",Mh=/AppleWebKit\/([\d.]+)/i.exec(st),uw=Mh?parseFloat(Mh.pop()):null,Fg=/iPod/i.test(st),dw=function(){var i=st.match(/OS (\d+)_/i);return i&&i[1]?i[1]:null}(),tr=/Android/i.test(st),Kd=function(){var i=st.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!i)return null;var e=i[1]&&parseFloat(i[1]),r=i[2]&&parseFloat(i[2]);return e&&r?parseFloat(i[1]+"."+i[2]):e||null}(),Bg=tr&&Kd<5&&uw<537,Ug=/Firefox/i.test(st),Xa=/Edg/i.test(st),ir=!Xa&&(/Chrome/i.test(st)||/CriOS/i.test(st)),jg=function(){var i=st.match(/(Chrome|CriOS)\/(\d+)/);return i&&i[2]?parseFloat(i[2]):null}(),Ka=function(){var i=/MSIE\s(\d+)\.\d/.exec(st),e=i&&parseFloat(i[1]);return!e&&/Trident\/7.0/i.test(st)&&/rv:11.0/.test(st)&&(e=11),e}(),Yd=/Safari/i.test(st)&&!ir&&!tr&&!Xa,Hg=/Windows/i.test(st),An=Boolean(Un()&&("ontouchstart"in P||P.navigator.maxTouchPoints||P.DocumentTouch&&P.document instanceof P.DocumentTouch)),Qd=/iPad/i.test(st)||Yd&&An&&!/iPhone/i.test(st),Jd=/iPhone/i.test(st)&&!Qd,Lt=Jd||Qd||Fg,el=(Yd||Lt)&&!ir,cw=Object.freeze({__proto__:null,IS_IPOD:Fg,IOS_VERSION:dw,IS_ANDROID:tr,ANDROID_VERSION:Kd,IS_NATIVE_ANDROID:Bg,IS_FIREFOX:Ug,IS_EDGE:Xa,IS_CHROME:ir,CHROME_VERSION:jg,IE_VERSION:Ka,IS_SAFARI:Yd,IS_WINDOWS:Hg,TOUCH_ENABLED:An,IS_IPAD:Qd,IS_IPHONE:Jd,IS_IOS:Lt,IS_ANY_SAFARI:el});function Rh(i){return typeof i=="string"&&Boolean(i.trim())}function Vg(i){if(i.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function fw(i){return new RegExp("(^|\\s)"+i+"($|\\s)")}function Un(){return ie===P.document}function jn(i){return Qi(i)&&i.nodeType===1}function zg(){try{return P.parent!==P.self}catch{return!0}}function Wg(i){return function(e,r){if(!Rh(e))return ie[i](null);Rh(r)&&(r=ie.querySelector(r));var n=jn(r)?r:ie;return n[i]&&n[i](e)}}function ke(i,e,r,n){i===void 0&&(i="div"),e===void 0&&(e={}),r===void 0&&(r={});var t=ie.createElement(i);return Object.getOwnPropertyNames(e).forEach(function(a){var s=e[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(Pe.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),t.setAttribute(a,s)):a==="textContent"?Wr(t,s):(t[a]!==s||a==="tabIndex")&&(t[a]=s)}),Object.getOwnPropertyNames(r).forEach(function(a){t.setAttribute(a,r[a])}),n&&ec(t,n),t}function Wr(i,e){return typeof i.textContent>"u"?i.innerText=e:i.textContent=e,i}function Lu(i,e){e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}function Fr(i,e){return Vg(e),i.classList?i.classList.contains(e):fw(e).test(i.className)}function Gi(i,e){return i.classList?i.classList.add(e):Fr(i,e)||(i.className=(i.className+" "+e).trim()),i}function Ya(i,e){return i?(i.classList?i.classList.remove(e):(Vg(e),i.className=i.className.split(/\s+/).filter(function(r){return r!==e}).join(" ")),i):(Pe.warn("removeClass was called with an element that doesn't exist"),null)}function Gg(i,e,r){var n=Fr(i,e);if(typeof r=="function"&&(r=r(i,e)),typeof r!="boolean"&&(r=!n),r!==n)return r?Gi(i,e):Ya(i,e),i}function $g(i,e){Object.getOwnPropertyNames(e).forEach(function(r){var n=e[r];n===null||typeof n>"u"||n===!1?i.removeAttribute(r):i.setAttribute(r,n===!0?"":n)})}function Hi(i){var e={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(i&&i.attributes&&i.attributes.length>0)for(var n=i.attributes,t=n.length-1;t>=0;t--){var a=n[t].name,s=n[t].value;(typeof i[a]=="boolean"||r.indexOf(","+a+",")!==-1)&&(s=s!==null),e[a]=s}return e}function qg(i,e){return i.getAttribute(e)}function kn(i,e,r){i.setAttribute(e,r)}function tl(i,e){i.removeAttribute(e)}function Xg(){ie.body.focus(),ie.onselectstart=function(){return!1}}function Kg(){ie.onselectstart=function(){return!0}}function On(i){if(i&&i.getBoundingClientRect&&i.parentNode){var e=i.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(n){e[n]!==void 0&&(r[n]=e[n])}),r.height||(r.height=parseFloat(Ua(i,"height"))),r.width||(r.width=parseFloat(Ua(i,"width"))),r}}function ja(i){if(!i||i&&!i.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=i.offsetWidth,r=i.offsetHeight,n=0,t=0;i.offsetParent&&i!==ie[mo.fullscreenElement];)n+=i.offsetLeft,t+=i.offsetTop,i=i.offsetParent;return{left:n,top:t,width:e,height:r}}function il(i,e){var r={x:0,y:0};if(Lt)for(var n=i;n&&n.nodeName.toLowerCase()!=="html";){var t=Ua(n,"transform");if(/^matrix/.test(t)){var a=t.slice(7,-1).split(/,\s/).map(Number);r.x+=a[4],r.y+=a[5]}else if(/^matrix3d/.test(t)){var s=t.slice(9,-1).split(/,\s/).map(Number);r.x+=s[12],r.y+=s[13]}n=n.parentNode}var o={},l=ja(e.target),u=ja(i),d=u.width,c=u.height,h=e.offsetY-(u.top-l.top),g=e.offsetX-(u.left-l.left);return e.changedTouches&&(g=e.changedTouches[0].pageX-u.left,h=e.changedTouches[0].pageY+u.top,Lt&&(g-=r.x,h-=r.y)),o.y=1-Math.max(0,Math.min(1,h/c)),o.x=Math.max(0,Math.min(1,g/d)),o}function Yg(i){return Qi(i)&&i.nodeType===3}function Zd(i){for(;i.firstChild;)i.removeChild(i.firstChild);return i}function Qg(i){return typeof i=="function"&&(i=i()),(Array.isArray(i)?i:[i]).map(function(e){if(typeof e=="function"&&(e=e()),jn(e)||Yg(e))return e;if(typeof e=="string"&&/\S/.test(e))return ie.createTextNode(e)}).filter(function(e){return e})}function ec(i,e){return Qg(e).forEach(function(r){return i.appendChild(r)}),i}function Jg(i,e){return ec(Zd(i),e)}function Ha(i){return i.button===void 0&&i.buttons===void 0||i.button===0&&i.buttons===void 0||i.type==="mouseup"&&i.button===0&&i.buttons===0?!0:!(i.button!==0||i.buttons!==1)}var pr=Wg("querySelector"),Zg=Wg("querySelectorAll"),ev=Object.freeze({__proto__:null,isReal:Un,isEl:jn,isInFrame:zg,createEl:ke,textContent:Wr,prependTo:Lu,hasClass:Fr,addClass:Gi,removeClass:Ya,toggleClass:Gg,setAttributes:$g,getAttributes:Hi,getAttribute:qg,setAttribute:kn,removeAttribute:tl,blockTextSelection:Xg,unblockTextSelection:Kg,getBoundingClientRect:On,findPosition:ja,getPointerPosition:il,isTextNode:Yg,emptyEl:Zd,normalizeContent:Qg,appendContent:ec,insertContent:Jg,isSingleLeftClick:Ha,$:pr,$$:Zg}),tv=!1,Mu,hw=function(){if(Mu.options.autoSetup!==!1){var e=Array.prototype.slice.call(ie.getElementsByTagName("video")),r=Array.prototype.slice.call(ie.getElementsByTagName("audio")),n=Array.prototype.slice.call(ie.getElementsByTagName("video-js")),t=e.concat(r,n);if(t&&t.length>0)for(var a=0,s=t.length;a<s;a++){var o=t[a];if(o&&o.getAttribute){if(o.player===void 0){var l=o.getAttribute("data-setup");l!==null&&Mu(o)}}else{Ru(1);break}}else tv||Ru(1)}};function Ru(i,e){Un()&&(e&&(Mu=e),P.setTimeout(hw,i))}function Nu(){tv=!0,P.removeEventListener("load",Nu)}Un()&&(ie.readyState==="complete"?Nu():P.addEventListener("load",Nu));var iv=function(e){var r=ie.createElement("style");return r.className=e,r},rv=function(e,r){e.styleSheet?e.styleSheet.cssText=r:e.textContent=r},pw=3,mw=pw;function rr(){return mw++}var nv;P.WeakMap||(nv=function(){function i(){this.vdata="vdata"+Math.floor(P.performance&&P.performance.now()||Date.now()),this.data={}}var e=i.prototype;return e.set=function(n,t){var a=n[this.vdata]||rr();return n[this.vdata]||(n[this.vdata]=a),this.data[a]=t,this},e.get=function(n){var t=n[this.vdata];if(t)return this.data[t];Pe("We have no data for this element",n)},e.has=function(n){var t=n[this.vdata];return t in this.data},e.delete=function(n){var t=n[this.vdata];t&&(delete this.data[t],delete n[this.vdata])},i}());var kt=P.WeakMap?new WeakMap:new nv;function Nh(i,e){if(kt.has(i)){var r=kt.get(i);r.handlers[e].length===0&&(delete r.handlers[e],i.removeEventListener?i.removeEventListener(e,r.dispatcher,!1):i.detachEvent&&i.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&kt.delete(i)}}function tc(i,e,r,n){r.forEach(function(t){i(e,t,n)})}function rl(i){if(i.fixed_)return i;function e(){return!0}function r(){return!1}if(!i||!i.isPropagationStopped||!i.isImmediatePropagationStopped){var n=i||P.event;i={};for(var t in n)t!=="layerX"&&t!=="layerY"&&t!=="keyLocation"&&t!=="webkitMovementX"&&t!=="webkitMovementY"&&t!=="path"&&(t==="returnValue"&&n.preventDefault||(i[t]=n[t]));if(i.target||(i.target=i.srcElement||ie),i.relatedTarget||(i.relatedTarget=i.fromElement===i.target?i.toElement:i.fromElement),i.preventDefault=function(){n.preventDefault&&n.preventDefault(),i.returnValue=!1,n.returnValue=!1,i.defaultPrevented=!0},i.defaultPrevented=!1,i.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),i.cancelBubble=!0,n.cancelBubble=!0,i.isPropagationStopped=e},i.isPropagationStopped=r,i.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),i.isImmediatePropagationStopped=e,i.stopPropagation()},i.isImmediatePropagationStopped=r,i.clientX!==null&&i.clientX!==void 0){var a=ie.documentElement,s=ie.body;i.pageX=i.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),i.pageY=i.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}i.which=i.charCode||i.keyCode,i.button!==null&&i.button!==void 0&&(i.button=i.button&1?0:i.button&4?1:i.button&2?2:0)}return i.fixed_=!0,i}var Rs,gw=function(){if(typeof Rs!="boolean"){Rs=!1;try{var e=Object.defineProperty({},"passive",{get:function(){Rs=!0}});P.addEventListener("test",null,e),P.removeEventListener("test",null,e)}catch{}}return Rs},vw=["touchstart","touchmove"];function Zt(i,e,r){if(Array.isArray(e))return tc(Zt,i,e,r);kt.has(i)||kt.set(i,{});var n=kt.get(i);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),r.guid||(r.guid=rr()),n.handlers[e].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(a,s){if(!n.disabled){a=rl(a);var o=n.handlers[a.type];if(o)for(var l=o.slice(0),u=0,d=l.length;u<d&&!a.isImmediatePropagationStopped();u++)try{l[u].call(i,a,s)}catch(c){Pe.error(c)}}}),n.handlers[e].length===1)if(i.addEventListener){var t=!1;gw()&&vw.indexOf(e)>-1&&(t={passive:!0}),i.addEventListener(e,n.dispatcher,t)}else i.attachEvent&&i.attachEvent("on"+e,n.dispatcher)}function _t(i,e,r){if(kt.has(i)){var n=kt.get(i);if(n.handlers){if(Array.isArray(e))return tc(_t,i,e,r);var t=function(u,d){n.handlers[d]=[],Nh(u,d)};if(e===void 0){for(var a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&t(i,a);return}var s=n.handlers[e];if(s){if(!r){t(i,e);return}if(r.guid)for(var o=0;o<s.length;o++)s[o].guid===r.guid&&s.splice(o--,1);Nh(i,e)}}}}function Hn(i,e,r){var n=kt.has(i)?kt.get(i):{},t=i.parentNode||i.ownerDocument;if(typeof e=="string"?e={type:e,target:i}:e.target||(e.target=i),e=rl(e),n.dispatcher&&n.dispatcher.call(i,e,r),t&&!e.isPropagationStopped()&&e.bubbles===!0)Hn.call(null,t,e,r);else if(!t&&!e.defaultPrevented&&e.target&&e.target[e.type]){kt.has(e.target)||kt.set(e.target,{});var a=kt.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function nl(i,e,r){if(Array.isArray(e))return tc(nl,i,e,r);var n=function t(){_t(i,e,t),r.apply(this,arguments)};n.guid=r.guid=r.guid||rr(),Zt(i,e,n)}function av(i,e,r){var n=function t(){_t(i,e,t),r.apply(this,arguments)};n.guid=r.guid=r.guid||rr(),Zt(i,e,n)}var yw=Object.freeze({__proto__:null,fixEvent:rl,on:Zt,off:_t,trigger:Hn,one:nl,any:av}),yi=30,Ve=function(e,r,n){r.guid||(r.guid=rr());var t=r.bind(e);return t.guid=n?n+"_"+r.guid:r.guid,t},Ji=function(e,r){var n=P.performance.now(),t=function(){var s=P.performance.now();s-n>=r&&(e.apply(void 0,arguments),n=s)};return t},_w=function(e,r,n,t){t===void 0&&(t=P);var a,s=function(){t.clearTimeout(a),a=null},o=function(){var u=this,d=arguments,c=function(){a=null,c=null,n||e.apply(u,d)};!a&&n&&e.apply(u,d),t.clearTimeout(a),a=t.setTimeout(c,r)};return o.cancel=s,o},lt=function(){};lt.prototype.allowedEvents_={};lt.prototype.on=function(i,e){var r=this.addEventListener;this.addEventListener=function(){},Zt(this,i,e),this.addEventListener=r};lt.prototype.addEventListener=lt.prototype.on;lt.prototype.off=function(i,e){_t(this,i,e)};lt.prototype.removeEventListener=lt.prototype.off;lt.prototype.one=function(i,e){var r=this.addEventListener;this.addEventListener=function(){},nl(this,i,e),this.addEventListener=r};lt.prototype.any=function(i,e){var r=this.addEventListener;this.addEventListener=function(){},av(this,i,e),this.addEventListener=r};lt.prototype.trigger=function(i){var e=i.type||i;typeof i=="string"&&(i={type:e}),i=rl(i),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](i),Hn(this,i)};lt.prototype.dispatchEvent=lt.prototype.trigger;var na;lt.prototype.queueTrigger=function(i){var e=this;na||(na=new Map);var r=i.type||i,n=na.get(this);n||(n=new Map,na.set(this,n));var t=n.get(r);n.delete(r),P.clearTimeout(t);var a=P.setTimeout(function(){n.delete(r),n.size===0&&(n=null,na.delete(e)),e.trigger(i)},0);n.set(r,a)};var al=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},$i=function(e){return e instanceof lt||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(r){return typeof e[r]=="function"})},Tw=function(e,r){$i(e)?r():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(r))},Fu=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},go=function(e,r,n){if(!e||!e.nodeName&&!$i(e))throw new Error("Invalid target for "+al(r)+"#"+n+"; must be a DOM node or evented object.")},sv=function(e,r,n){if(!Fu(e))throw new Error("Invalid event type for "+al(r)+"#"+n+"; must be a non-empty string or array.")},ov=function(e,r,n){if(typeof e!="function")throw new Error("Invalid listener for "+al(r)+"#"+n+"; must be a function.")},zl=function(e,r,n){var t=r.length<3||r[0]===e||r[0]===e.eventBusEl_,a,s,o;return t?(a=e.eventBusEl_,r.length>=3&&r.shift(),s=r[0],o=r[1]):(a=r[0],s=r[1],o=r[2]),go(a,e,n),sv(s,e,n),ov(o,e,n),o=Ve(e,o),{isTargetingSelf:t,target:a,type:s,listener:o}},Pr=function(e,r,n,t){go(e,e,r),e.nodeName?yw[r](e,n,t):e[r](n,t)},bw={on:function(){for(var e=this,r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var a=zl(this,n,"on"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(Pr(o,"on",l,u),!s){var d=function(){return e.off(o,l,u)};d.guid=u.guid;var c=function(){return e.off("dispose",d)};c.guid=u.guid,Pr(this,"on","dispose",d),Pr(o,"on","dispose",c)}},one:function(){for(var e=this,r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var a=zl(this,n,"one"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(s)Pr(o,"one",l,u);else{var d=function c(){e.off(o,l,c);for(var h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];u.apply(null,g)};d.guid=u.guid,Pr(o,"one",l,d)}},any:function(){for(var e=this,r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var a=zl(this,n,"any"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(s)Pr(o,"any",l,u);else{var d=function c(){e.off(o,l,c);for(var h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];u.apply(null,g)};d.guid=u.guid,Pr(o,"any",l,d)}},off:function(e,r,n){if(!e||Fu(e))_t(this.eventBusEl_,e,r);else{var t=e,a=r;go(t,this,"off"),sv(a,this,"off"),ov(n,this,"off"),n=Ve(this,n),this.off("dispose",n),t.nodeName?(_t(t,a,n),_t(t,"dispose",n)):$i(t)&&(t.off(a,n),t.off("dispose",n))}},trigger:function(e,r){go(this.eventBusEl_,this,"trigger");var n=e&&typeof e!="string"?e.type:e;if(!Fu(n)){var t="Invalid event type for "+al(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||Pe).error(t);else throw new Error(t)}return Hn(this.eventBusEl_,e,r)}};function ic(i,e){e===void 0&&(e={});var r=e,n=r.eventBusKey;if(n){if(!i[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');i.eventBusEl_=i[n]}else i.eventBusEl_=ke("span",{className:"vjs-event-bus"});return Ye(i,bw),i.eventedCallbacks&&i.eventedCallbacks.forEach(function(t){t()}),i.on("dispose",function(){i.off(),[i,i.el_,i.eventBusEl_].forEach(function(t){t&&kt.has(t)&&kt.delete(t)}),P.setTimeout(function(){i.eventBusEl_=null},0)}),i}var Sw={state:{},setState:function(e){var r=this;typeof e=="function"&&(e=e());var n;return pn(e,function(t,a){r.state[a]!==t&&(n=n||{},n[a]={from:r.state[a],to:t}),r.state[a]=t}),n&&$i(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function lv(i,e){return Ye(i,Sw),i.state=Ye({},i.state,e),typeof i.handleStateChanged=="function"&&$i(i)&&i.on("statechanged",i.handleStateChanged),i}var qs=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toLowerCase()})},Ze=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},xw=function(e,r){return Ze(e)===Ze(r)};function He(){for(var i={},e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.forEach(function(t){t&&pn(t,function(a,s){if(!Ba(a)){i[s]=a;return}Ba(i[s])||(i[s]={}),i[s]=He(i[s],a)})}),i}var Ew=function(){function i(){this.map_={}}var e=i.prototype;return e.has=function(n){return n in this.map_},e.delete=function(n){var t=this.has(n);return delete this.map_[n],t},e.set=function(n,t){return this.map_[n]=t,this},e.forEach=function(n,t){for(var a in this.map_)n.call(t,this.map_[a],a,this)},i}(),Cw=P.Map?P.Map:Ew,ww=function(){function i(){this.set_={}}var e=i.prototype;return e.has=function(n){return n in this.set_},e.delete=function(n){var t=this.has(n);return delete this.set_[n],t},e.add=function(n){return this.set_[n]=1,this},e.forEach=function(n,t){for(var a in this.set_)n.call(t,a,a,this)},i}(),Wl=P.Set?P.Set:ww,ee=function(){function i(r,n,t){var a=this;if(!r&&this.play?this.player_=r=this:this.player_=r,this.isDisposed_=!1,this.parentComponent_=null,this.options_=He({},this.options_),n=this.options_=He(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var s=r&&r.id&&r.id()||"no_player";this.id_=s+"_component_"+rr()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(function(o){return a.addClass(o)}),n.evented!==!1&&(ic(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),lv(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Wl,this.setIntervalIds_=new Wl,this.rafIds_=new Wl,this.namedRafs_=new Cw,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(t),n.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=i.prototype;return e.dispose=function(n){if(n===void 0&&(n={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(n.restoreEl?this.el_.parentNode.replaceChild(n.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(n){return n?(this.options_=He(this.options_,n),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(n,t,a){return ke(n,t,a)},e.localize=function(n,t,a){a===void 0&&(a=n);var s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[s],u=s&&s.split("-")[0],d=o&&o[u],c=a;return l&&l[n]?c=l[n]:d&&d[n]&&(c=d[n]),t&&(c=c.replace(/\{(\d+)\}/g,function(h,g){var y=t[g-1],_=y;return typeof y>"u"&&(_=h),_})),c},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(n){return this.childIndex_[n]},e.getChild=function(n){if(n)return this.childNameIndex_[n]},e.getDescendant=function(){for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];t=t.reduce(function(l,u){return l.concat(u)},[]);for(var s=this,o=0;o<t.length;o++)if(s=s.getChild(t[o]),!s||!s.getChild)return;return s},e.addChild=function(n,t,a){t===void 0&&(t={}),a===void 0&&(a=this.children_.length);var s,o;if(typeof n=="string"){o=Ze(n);var l=t.componentClass||o;t.name=o;var u=i.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if(typeof u!="function")return null;s=new u(this.player_||this,t)}else s=n;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&Ze(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[qs(o)]=s),typeof s.el=="function"&&s.el()){var d=null;this.children_[a+1]&&(this.children_[a+1].el_?d=this.children_[a+1].el_:jn(this.children_[a+1])&&(d=this.children_[a+1])),this.contentEl().insertBefore(s.el(),d)}return s},e.removeChild=function(n){if(typeof n=="string"&&(n=this.getChild(n)),!(!n||!this.children_)){for(var t=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===n){t=!0,this.children_.splice(a,1);break}if(t){n.parentComponent_=null,this.childIndex_[n.id()]=null,this.childNameIndex_[Ze(n.name())]=null,this.childNameIndex_[qs(n.name())]=null;var s=n.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el())}}},e.initChildren=function(){var n=this,t=this.options_.children;if(t){var a=this.options_,s=function(d){var c=d.name,h=d.opts;if(a[c]!==void 0&&(h=a[c]),h!==!1){h===!0&&(h={}),h.playerOptions=n.options_.playerOptions;var g=n.addChild(c,h);g&&(n[c]=g)}},o,l=i.getComponent("Tech");Array.isArray(t)?o=t:o=Object.keys(t),o.concat(Object.keys(this.options_).filter(function(u){return!o.some(function(d){return typeof d=="string"?u===d:u===d.name})})).map(function(u){var d,c;return typeof u=="string"?(d=u,c=t[d]||n.options_[d]||{}):(d=u.name,c=u),{name:d,opts:c}}).filter(function(u){var d=i.getComponent(u.opts.componentClass||Ze(u.name));return d&&!l.isTech(d)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(n,t){if(t===void 0&&(t=!1),!!n){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(n);return}t?n.call(this):this.setTimeout(n,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[],n&&n.length>0&&n.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},e.$=function(n,t){return pr(n,t||this.contentEl())},e.$$=function(n,t){return Zg(n,t||this.contentEl())},e.hasClass=function(n){return Fr(this.el_,n)},e.addClass=function(n){Gi(this.el_,n)},e.removeClass=function(n){Ya(this.el_,n)},e.toggleClass=function(n,t){Gg(this.el_,n,t)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(n){return qg(this.el_,n)},e.setAttribute=function(n,t){kn(this.el_,n,t)},e.removeAttribute=function(n){tl(this.el_,n)},e.width=function(n,t){return this.dimension("width",n,t)},e.height=function(n,t){return this.dimension("height",n,t)},e.dimensions=function(n,t){this.width(n,!0),this.height(t)},e.dimension=function(n,t,a){if(t!==void 0){(t===null||t!==t)&&(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[n]=t:t==="auto"?this.el_.style[n]="":this.el_.style[n]=t+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[n],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+Ze(n)],10)},e.currentDimension=function(n){var t=0;if(n!=="width"&&n!=="height")throw new Error("currentDimension only accepts width or height value");if(t=Ua(this.el_,n),t=parseFloat(t),t===0||isNaN(t)){var a="offset"+Ze(n);t=this.el_[a]}return t},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(n){this.player_&&(xe.isEventKey(n,"Tab")||n.stopPropagation(),this.player_.handleKeyDown(n))},e.handleKeyPress=function(n){this.handleKeyDown(n)},e.emitTapEvents=function(){var n=0,t=null,a=10,s=200,o;this.on("touchstart",function(u){u.touches.length===1&&(t={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},n=P.performance.now(),o=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)o=!1;else if(t){var d=u.touches[0].pageX-t.pageX,c=u.touches[0].pageY-t.pageY,h=Math.sqrt(d*d+c*c);h>a&&(o=!1)}});var l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(u){if(t=null,o===!0){var d=P.performance.now()-n;d<s&&(u.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var n=Ve(this.player(),this.player().reportUserActivity),t;this.on("touchstart",function(){n(),this.clearInterval(t),t=this.setInterval(n,250)});var a=function(o){n(),this.clearInterval(t)};this.on("touchmove",n),this.on("touchend",a),this.on("touchcancel",a)}},e.setTimeout=function(n,t){var a=this,s;return n=Ve(this,n),this.clearTimersOnDispose_(),s=P.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),n()},t),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(n){return this.setTimeoutIds_.has(n)&&(this.setTimeoutIds_.delete(n),P.clearTimeout(n)),n},e.setInterval=function(n,t){n=Ve(this,n),this.clearTimersOnDispose_();var a=P.setInterval(n,t);return this.setIntervalIds_.add(a),a},e.clearInterval=function(n){return this.setIntervalIds_.has(n)&&(this.setIntervalIds_.delete(n),P.clearInterval(n)),n},e.requestAnimationFrame=function(n){var t=this;if(!this.supportsRaf_)return this.setTimeout(n,1e3/60);this.clearTimersOnDispose_();var a;return n=Ve(this,n),a=P.requestAnimationFrame(function(){t.rafIds_.has(a)&&t.rafIds_.delete(a),n()}),this.rafIds_.add(a),a},e.requestNamedAnimationFrame=function(n,t){var a=this;if(!this.namedRafs_.has(n)){this.clearTimersOnDispose_(),t=Ve(this,t);var s=this.requestAnimationFrame(function(){t(),a.namedRafs_.has(n)&&a.namedRafs_.delete(n)});return this.namedRafs_.set(n,s),n}},e.cancelNamedAnimationFrame=function(n){this.namedRafs_.has(n)&&(this.cancelAnimationFrame(this.namedRafs_.get(n)),this.namedRafs_.delete(n))},e.cancelAnimationFrame=function(n){return this.supportsRaf_?(this.rafIds_.has(n)&&(this.rafIds_.delete(n),P.cancelAnimationFrame(n)),n):this.clearTimeout(n)},e.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var a=t[0],s=t[1];n[a].forEach(function(o,l){return n[s](l)})}),n.clearingTimersOnDispose_=!1}))},i.registerComponent=function(n,t){if(typeof n!="string"||!n)throw new Error('Illegal component name, "'+n+'"; must be a non-empty string.');var a=i.getComponent("Tech"),s=a&&a.isTech(t),o=i===t||i.prototype.isPrototypeOf(t.prototype);if(s||!o){var l;throw s?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+n+'"; '+l+".")}n=Ze(n),i.components_||(i.components_={});var u=i.getComponent("Player");if(n==="Player"&&u&&u.players){var d=u.players,c=Object.keys(d);if(d&&c.length>0&&c.map(function(h){return d[h]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return i.components_[n]=t,i.components_[qs(n)]=t,t},i.getComponent=function(n){if(!(!n||!i.components_))return i.components_[n]},i}();ee.prototype.supportsRaf_=typeof P.requestAnimationFrame=="function"&&typeof P.cancelAnimationFrame=="function";ee.registerComponent("Component",ee);function Pw(i,e,r){if(typeof e!="number"||e<0||e>r)throw new Error("Failed to execute '"+i+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+r+").")}function Fh(i,e,r,n){return Pw(i,n,r.length-1),r[n][e]}function Gl(i){var e;return i===void 0||i.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:i.length,start:Fh.bind(null,"start",0,i),end:Fh.bind(null,"end",1,i)},P.Symbol&&P.Symbol.iterator&&(e[P.Symbol.iterator]=function(){return(i||[]).values()}),e}function Br(i,e){return Array.isArray(i)?Gl(i):i===void 0||e===void 0?Gl():Gl([[i,e]])}function uv(i,e){var r=0,n,t;if(!e)return 0;(!i||!i.length)&&(i=Br(0,0));for(var a=0;a<i.length;a++)n=i.start(a),t=i.end(a),t>e&&(t=e),r+=t-n;return r/e}function Ot(i){if(i instanceof Ot)return i;typeof i=="number"?this.code=i:typeof i=="string"?this.message=i:Qi(i)&&(typeof i.code=="number"&&(this.code=i.code),Ye(this,i)),this.message||(this.message=Ot.defaultMessages[this.code]||"")}Ot.prototype.code=0;Ot.prototype.message="";Ot.prototype.status=null;Ot.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Ot.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var en=0;en<Ot.errorTypes.length;en++)Ot[Ot.errorTypes[en]]=en,Ot.prototype[Ot.errorTypes[en]]=en;function ba(i){return i!=null&&typeof i.then=="function"}function Ii(i){ba(i)&&i.then(null,function(e){})}var Bu=function(e){var r=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,t,a){return e[t]&&(n[t]=e[t]),n},{cues:e.cues&&Array.prototype.map.call(e.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})});return r},Iw=function(e){var r=e.$$("track"),n=Array.prototype.map.call(r,function(a){return a.track}),t=Array.prototype.map.call(r,function(a){var s=Bu(a.track);return a.src&&(s.src=a.src),s});return t.concat(Array.prototype.filter.call(e.textTracks(),function(a){return n.indexOf(a)===-1}).map(Bu))},Aw=function(e,r){return e.forEach(function(n){var t=r.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(a){return t.addCue(a)})}),r.textTracks()},Bh={textTracksToJson:Iw,jsonToTextTracks:Aw,trackToJson_:Bu},$l="vjs-modal-dialog",Vn=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=ke("div",{className:$l+"-content"},{role:"document"}),a.descEl_=ke("p",{className:$l+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),Wr(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var r=e.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,i.prototype.dispose.call(this)},r.buildCSSClass=function(){return $l+" vjs-hidden "+i.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},r.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(t){return typeof t=="boolean"&&this[t?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(t){if(typeof t=="boolean"){var a=this.closeable_=!!t,s=this.getChild("closeButton");if(a&&!s){var o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(t){var a=this.contentEl(),s=a.parentNode,o=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),Jg(a,t),this.trigger("modalfill"),o?s.insertBefore(a,o):s.appendChild(a);var l=this.getChild("closeButton");l&&s.appendChild(l.el_)},r.empty=function(){this.trigger("beforemodalempty"),Zd(this.contentEl()),this.trigger("modalempty")},r.content=function(t){return typeof t<"u"&&(this.content_=t),this.content_},r.conditionalFocus_=function(){var t=ie.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(t)||a===t)&&(this.previouslyActiveEl_=t,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(t){if(t.stopPropagation(),xe.isEventKey(t,"Escape")&&this.closeable()){t.preventDefault(),this.close();return}if(xe.isEventKey(t,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),o,l=0;l<a.length;l++)if(s===a[l]){o=l;break}ie.activeElement===this.el_&&(o=0),t.shiftKey&&o===0?(a[a.length-1].focus(),t.preventDefault()):!t.shiftKey&&o===a.length-1&&(a[0].focus(),t.preventDefault())}},r.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(a){return(a instanceof P.HTMLAnchorElement||a instanceof P.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof P.HTMLInputElement||a instanceof P.HTMLSelectElement||a instanceof P.HTMLTextAreaElement||a instanceof P.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof P.HTMLIFrameElement||a instanceof P.HTMLObjectElement||a instanceof P.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},e}(ee);Vn.prototype.options_={pauseOnOpen:!0,temporary:!0};ee.registerComponent("ModalDialog",Vn);var Dn=function(i){se(e,i);function e(n){var t;n===void 0&&(n=[]),t=i.call(this)||this,t.tracks_=[],Object.defineProperty(Se(t),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<n.length;a++)t.addTrack(n[a]);return t}var r=e.prototype;return r.addTrack=function(t){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=function(){a.trigger({track:t,type:"labelchange",target:a})},$i(t)&&t.addEventListener("labelchange",t.labelchange_)},r.removeTrack=function(t){for(var a,s=0,o=this.length;s<o;s++)if(this[s]===t){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}a&&this.trigger({track:a,type:"removetrack",target:this})},r.getTrackById=function(t){for(var a=null,s=0,o=this.length;s<o;s++){var l=this[s];if(l.id===t){a=l;break}}return a},e}(lt);Dn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var kw in Dn.prototype.allowedEvents_)Dn.prototype["on"+kw]=null;var ql=function(e,r){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||r.id===e[n].id||(e[n].enabled=!1)},Ow=function(i){se(e,i);function e(n){var t;n===void 0&&(n=[]);for(var a=n.length-1;a>=0;a--)if(n[a].enabled){ql(n,n[a]);break}return t=i.call(this,n)||this,t.changing_=!1,t}var r=e.prototype;return r.addTrack=function(t){var a=this;t.enabled&&ql(this,t),i.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){a.changing_||(a.changing_=!0,ql(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},r.removeTrack=function(t){i.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},e}(Dn),Xl=function(e,r){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||r.id===e[n].id||(e[n].selected=!1)},Dw=function(i){se(e,i);function e(n){var t;n===void 0&&(n=[]);for(var a=n.length-1;a>=0;a--)if(n[a].selected){Xl(n,n[a]);break}return t=i.call(this,n)||this,t.changing_=!1,Object.defineProperty(Se(t),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),t}var r=e.prototype;return r.addTrack=function(t){var a=this;t.selected&&Xl(this,t),i.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){a.changing_||(a.changing_=!0,Xl(a,t),a.changing_=!1,a.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},r.removeTrack=function(t){i.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},e}(Dn),dv=function(i){se(e,i);function e(){return i.apply(this,arguments)||this}var r=e.prototype;return r.addTrack=function(t){var a=this;i.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(t){i.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Dn),Lw=function(){function i(r){r===void 0&&(r=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var n=0,t=r.length;n<t;n++)this.addTrackElement_(r[n])}var e=i.prototype;return e.addTrackElement_=function(n){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(n)===-1&&this.trackElements_.push(n)},e.getTrackElementByTrack_=function(n){for(var t,a=0,s=this.trackElements_.length;a<s;a++)if(n===this.trackElements_[a].track){t=this.trackElements_[a];break}return t},e.removeTrackElement_=function(n){for(var t=0,a=this.trackElements_.length;t<a;t++)if(n===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},i}(),Uh=function(){function i(r){i.prototype.setCues_.call(this,r),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=i.prototype;return e.setCues_=function(n){var t=this.length||0,a=0,s=n.length;this.cues_=n,this.length_=n.length;var o=function(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})};if(t<s)for(a=t;a<s;a++)o.call(this,a)},e.getCueById=function(n){for(var t=null,a=0,s=this.length;a<s;a++){var o=this[a];if(o.id===n){t=o;break}}return t},i}(),Mw={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Rw={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Nw={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},jh={disabled:"disabled",hidden:"hidden",showing:"showing"},rc=function(i){se(e,i);function e(r){var n;r===void 0&&(r={}),n=i.call(this)||this;var t={id:r.id||"vjs_track_"+rr(),kind:r.kind||"",language:r.language||""},a=r.label||"",s=function(u){Object.defineProperty(Se(n),u,{get:function(){return t[u]},set:function(){}})};for(var o in t)s(o);return Object.defineProperty(Se(n),"label",{get:function(){return a},set:function(u){u!==a&&(a=u,this.trigger("labelchange"))}}),n}return e}(lt),nc=function(e){var r=["protocol","hostname","port","pathname","search","hash","host"],n=ie.createElement("a");n.href=e;for(var t={},a=0;a<r.length;a++)t[r[a]]=n[r[a]];return t.protocol==="http:"&&(t.host=t.host.replace(/:80$/,"")),t.protocol==="https:"&&(t.host=t.host.replace(/:443$/,"")),t.protocol||(t.protocol=P.location.protocol),t.host||(t.host=P.location.host),t},cv=function(e){if(!e.match(/^https?:\/\//)){var r=ie.createElement("a");r.href=e,e=r.href}return e},ac=function(e){if(typeof e=="string"){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,n=r.exec(e);if(n)return n.pop().toLowerCase()}return""},sl=function(e,r){r===void 0&&(r=P.location);var n=nc(e),t=n.protocol===":"?r.protocol:n.protocol,a=t+n.host!==r.protocol+r.host;return a},Fw=Object.freeze({__proto__:null,parseUrl:nc,getAbsoluteURL:cv,getFileExtension:ac,isCrossOrigin:sl}),Hh=function(e,r){var n=new P.WebVTT.Parser(P,P.vttjs,P.WebVTT.StringDecoder()),t=[];n.oncue=function(a){r.addCue(a)},n.onparsingerror=function(a){t.push(a)},n.onflush=function(){r.trigger({type:"loadeddata",target:r})},n.parse(e),t.length>0&&(P.console&&P.console.groupCollapsed&&P.console.groupCollapsed("Text Track parsing errors for "+r.src),t.forEach(function(a){return Pe.error(a)}),P.console&&P.console.groupEnd&&P.console.groupEnd()),n.flush()},Vh=function(e,r){var n={uri:e},t=sl(e);t&&(n.cors=t);var a=r.tech_.crossOrigin()==="use-credentials";a&&(n.withCredentials=a),Da(n,Ve(this,function(s,o,l){if(s)return Pe.error(s,o);r.loaded_=!0,typeof P.WebVTT!="function"?r.tech_&&r.tech_.any(["vttjsloaded","vttjserror"],function(u){if(u.type==="vttjserror"){Pe.error("vttjs failed to load, stopping trying to process "+r.src);return}return Hh(l,r)}):Hh(l,r)}))},Qa=function(i){se(e,i);function e(n){var t;if(n===void 0&&(n={}),!n.tech)throw new Error("A tech was not provided.");var a=He(n,{kind:Nw[n.kind]||"subtitles",language:n.language||n.srclang||""}),s=jh[a.mode]||"disabled",o=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),t=i.call(this,a)||this,t.tech_=a.tech,t.cues_=[],t.activeCues_=[],t.preload_=t.tech_.preloadTextTracks!==!1;var l=new Uh(t.cues_),u=new Uh(t.activeCues_),d=!1;t.timeupdateHandler=Ve(Se(t),function(h){if(h===void 0&&(h={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){h.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,d&&(this.trigger("cuechange"),d=!1),h.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var c=function(){t.stopTracking()};return t.tech_.one("dispose",c),s!=="disabled"&&t.startTracking(),Object.defineProperties(Se(t),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(g){jh[g]&&s!==g&&(s=g,!this.preload_&&s!=="disabled"&&this.cues.length===0&&Vh(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return u;for(var g=this.tech_.currentTime(),y=[],_=0,b=this.cues.length;_<b;_++){var E=this.cues[_];(E.startTime<=g&&E.endTime>=g||E.startTime===E.endTime&&E.startTime<=g&&E.startTime+.5>=g)&&y.push(E)}if(d=!1,y.length!==this.activeCues_.length)d=!0;else for(var A=0;A<y.length;A++)this.activeCues_.indexOf(y[A])===-1&&(d=!0);return this.activeCues_=y,u.setCues_(this.activeCues_),u},set:function(){}}}),a.src?(t.src=a.src,t.preload_||(t.loaded_=!0),(t.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&Vh(t.src,Se(t))):t.loaded_=!0,t}var r=e.prototype;return r.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},r.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},r.addCue=function(t){var a=t;if(P.vttjs&&!(t instanceof P.vttjs.VTTCue)){a=new P.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var s in t)s in a||(a[s]=t[s]);a.id=t.id,a.originalCue_=t}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},r.removeCue=function(t){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===t||s.originalCue_&&s.originalCue_===t){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},e}(rc);Qa.prototype.allowedEvents_={cuechange:"cuechange"};var fv=function(i){se(e,i);function e(r){var n;r===void 0&&(r={});var t=He(r,{kind:Rw[r.kind]||""});n=i.call(this,t)||this;var a=!1;return Object.defineProperty(Se(n),"enabled",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("enabledchange"))}}),t.enabled&&(n.enabled=t.enabled),n.loaded_=!0,n}return e}(rc),hv=function(i){se(e,i);function e(r){var n;r===void 0&&(r={});var t=He(r,{kind:Mw[r.kind]||""});n=i.call(this,t)||this;var a=!1;return Object.defineProperty(Se(n),"selected",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("selectedchange"))}}),t.selected&&(n.selected=t.selected),n}return e}(rc),pv=0,Bw=1,mv=2,Uw=3,zn=function(i){se(e,i);function e(r){var n;r===void 0&&(r={}),n=i.call(this)||this;var t,a=new Qa(r);return n.kind=a.kind,n.src=a.src,n.srclang=a.language,n.label=a.label,n.default=a.default,Object.defineProperties(Se(n),{readyState:{get:function(){return t}},track:{get:function(){return a}}}),t=pv,a.addEventListener("loadeddata",function(){t=mv,n.trigger({type:"load",target:Se(n)})}),n}return e}(lt);zn.prototype.allowedEvents_={load:"load"};zn.NONE=pv;zn.LOADING=Bw;zn.LOADED=mv;zn.ERROR=Uw;var ni={audio:{ListClass:Ow,TrackClass:fv,capitalName:"Audio"},video:{ListClass:Dw,TrackClass:hv,capitalName:"Video"},text:{ListClass:dv,TrackClass:Qa,capitalName:"Text"}};Object.keys(ni).forEach(function(i){ni[i].getterName=i+"Tracks",ni[i].privateName=i+"Tracks_"});var Ln={remoteText:{ListClass:dv,TrackClass:Qa,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Lw,TrackClass:zn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Pt=ai({},ni,Ln);Ln.names=Object.keys(Ln);ni.names=Object.keys(ni);Pt.names=[].concat(Ln.names).concat(ni.names);function jw(i,e,r,n,t){t===void 0&&(t={});var a=i.textTracks();t.kind=e,r&&(t.label=r),n&&(t.language=n),t.tech=i;var s=new Pt.text.TrackClass(t);return a.addTrack(s),s}var Fe=function(i){se(e,i);function e(n,t){var a;return n===void 0&&(n={}),t===void 0&&(t=function(){}),n.reportTouchActivity=!1,a=i.call(this,null,n,t)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.queuedHanders_=new Set,a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),Pt.names.forEach(function(s){var o=Pt[s];n&&n[o.getterName]&&(a[o.privateName]=n[o.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){n["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),n.nativeCaptions===!1||n.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(n.nativeCaptions===!0||n.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=n.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new Pt.text.ListClass,a.initTrackListeners(),n.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var r=e.prototype;return r.triggerSourceset=function(t){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},r.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ve(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(t){this.duration_=this.duration()},r.buffered=function(){return Br(0,0)},r.bufferedPercent=function(){return uv(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(ni.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),i.prototype.dispose.call(this)},r.clearTracks=function(t){var a=this;t=[].concat(t),t.forEach(function(s){for(var o=a[s+"Tracks"]()||[],l=o.length;l--;){var u=o[l];s==="text"&&a.removeRemoteTextTrack(u),o.removeTrack(u)}})},r.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],a=t.length;a--;){var s=t[a];this.removeRemoteTextTrack(s)}},r.reset=function(){},r.crossOrigin=function(){},r.setCrossOrigin=function(){},r.error=function(t){return t!==void 0&&(this.error_=new Ot(t),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?Br(0,0):Br()},r.play=function(){},r.setScrubbing=function(){},r.scrubbing=function(){},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var t=this;ni.names.forEach(function(a){var s=ni[a],o=function(){t.trigger(a+"trackchange")},l=t[s.getterName]();l.addEventListener("removetrack",o),l.addEventListener("addtrack",o),t.on("dispose",function(){l.removeEventListener("removetrack",o),l.removeEventListener("addtrack",o)})})},r.addWebVttScript_=function(){var t=this;if(!P.WebVTT)if(ie.body.contains(this.el())){if(!this.options_["vtt.js"]&&Ba(so)&&Object.keys(so).length>0){this.trigger("vttjsloaded");return}var a=ie.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){t.trigger("vttjsloaded")},a.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),P.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var t=this,a=this.textTracks(),s=this.remoteTextTracks(),o=function(h){return a.addTrack(h.track)},l=function(h){return a.removeTrack(h.track)};s.on("addtrack",o),s.on("removetrack",l),this.addWebVttScript_();var u=function(){return t.trigger("texttrackchange")},d=function(){u();for(var h=0;h<a.length;h++){var g=a[h];g.removeEventListener("cuechange",u),g.mode==="showing"&&g.addEventListener("cuechange",u)}};d(),a.addEventListener("change",d),a.addEventListener("addtrack",d),a.addEventListener("removetrack",d),this.on("dispose",function(){s.off("addtrack",o),s.off("removetrack",l),a.removeEventListener("change",d),a.removeEventListener("addtrack",d),a.removeEventListener("removetrack",d);for(var c=0;c<a.length;c++){var h=a[c];h.removeEventListener("cuechange",u)}})},r.addTextTrack=function(t,a,s){if(!t)throw new Error("TextTrack kind is required but was not provided");return jw(this,t,a,s)},r.createRemoteTextTrack=function(t){var a=He(t,{tech:this});return new Ln.remoteTextEl.TrackClass(a)},r.addRemoteTextTrack=function(t,a){var s=this;t===void 0&&(t={});var o=this.createRemoteTextTrack(t);return a!==!0&&a!==!1&&(Pe.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(o.track)}),o},r.removeRemoteTextTrack=function(t){var a=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var t=this.options_.Promise||P.Promise;if(t)return t.reject()},r.disablePictureInPicture=function(){return!0},r.setDisablePictureInPicture=function(){},r.requestVideoFrameCallback=function(t){var a=this,s=rr();return!this.isReady_||this.paused()?(this.queuedHanders_.add(s),this.one("playing",function(){a.queuedHanders_.has(s)&&(a.queuedHanders_.delete(s),t())})):this.requestNamedAnimationFrame(s,t),s},r.cancelVideoFrameCallback=function(t){this.queuedHanders_.has(t)?this.queuedHanders_.delete(t):this.cancelNamedAnimationFrame(t)},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,a){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,a){if(e.techs_||(e.techs_={}),!e.isTech(a))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Ze(t),e.techs_[t]=a,e.techs_[qs(t)]=a,t!=="Tech"&&e.defaultTechOrder_.push(t),a},e.getTech=function(t){if(t){if(e.techs_&&e.techs_[t])return e.techs_[t];if(t=Ze(t),P&&P.videojs&&P.videojs[t])return Pe.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),P.videojs[t]}},e}(ee);Pt.names.forEach(function(i){var e=Pt[i];Fe.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Fe.prototype.featuresVolumeControl=!0;Fe.prototype.featuresMuteControl=!0;Fe.prototype.featuresFullscreenResize=!1;Fe.prototype.featuresPlaybackRate=!1;Fe.prototype.featuresProgressEvents=!1;Fe.prototype.featuresSourceset=!1;Fe.prototype.featuresTimeupdateEvents=!1;Fe.prototype.featuresNativeTextTracks=!1;Fe.prototype.featuresVideoFrameCallback=!1;Fe.withSourceHandlers=function(i){i.registerSourceHandler=function(r,n){var t=i.sourceHandlers;t||(t=i.sourceHandlers=[]),n===void 0&&(n=t.length),t.splice(n,0,r)},i.canPlayType=function(r){for(var n=i.sourceHandlers||[],t,a=0;a<n.length;a++)if(t=n[a].canPlayType(r),t)return t;return""},i.selectSourceHandler=function(r,n){for(var t=i.sourceHandlers||[],a,s=0;s<t.length;s++)if(a=t[s].canHandleSource(r,n),a)return t[s];return null},i.canPlaySource=function(r,n){var t=i.selectSourceHandler(r,n);return t?t.canHandleSource(r,n):""};var e=["seekable","seeking","duration"];e.forEach(function(r){var n=this[r];typeof n=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},i.prototype),i.prototype.setSource=function(r){var n=i.selectSourceHandler(r,this.options_);n||(i.nativeSourceHandler?n=i.nativeSourceHandler:Pe.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==i.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=n.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},i.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};ee.registerComponent("Tech",Fe);Fe.registerTech("Tech",Fe);Fe.defaultTechOrder_=[];var Ur={},Uu={},vo={};function Hw(i,e){Ur[i]=Ur[i]||[],Ur[i].push(e)}function Vw(i,e,r){i.setTimeout(function(){return Ar(e,Ur[e.type],r,i)},1)}function zw(i,e){i.forEach(function(r){return r.setTech&&r.setTech(e)})}function Ww(i,e,r){return i.reduceRight(sc(r),e[r]())}function Gw(i,e,r,n){return e[r](i.reduce(sc(r),n))}function zh(i,e,r,n){n===void 0&&(n=null);var t="call"+Ze(r),a=i.reduce(sc(t),n),s=a===vo,o=s?null:e[r](a);return Xw(i,r,o,s),o}var $w={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},qw={setCurrentTime:1,setMuted:1,setVolume:1},Wh={play:1,pause:1};function sc(i){return function(e,r){return e===vo?vo:r[i]?r[i](e):e}}function Xw(i,e,r,n){for(var t=i.length-1;t>=0;t--){var a=i[t];a[e]&&a[e](n,r)}}function Kw(i){Uu[i.id()]=null}function Yw(i,e){var r=Uu[i.id()],n=null;if(r==null)return n=e(i),Uu[i.id()]=[[e,n]],n;for(var t=0;t<r.length;t++){var a=r[t],s=a[0],o=a[1];s===e&&(n=o)}return n===null&&(n=e(i),r.push([e,n])),n}function Ar(i,e,r,n,t,a){i===void 0&&(i={}),e===void 0&&(e=[]),t===void 0&&(t=[]),a===void 0&&(a=!1);var s=e,o=s[0],l=s.slice(1);if(typeof o=="string")Ar(i,Ur[o],r,n,t,a);else if(o){var u=Yw(n,o);if(!u.setSource)return t.push(u),Ar(i,l,r,n,t,a);u.setSource(Ye({},i),function(d,c){if(d)return Ar(i,l,r,n,t,a);t.push(u),Ar(c,i.type===c.type?l:Ur[c.type],r,n,t,a)})}else l.length?Ar(i,l,r,n,t,a):a?r(i,t):Ar(i,Ur["*"],r,n,t,!0)}var Qw={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},yo=function(e){e===void 0&&(e="");var r=ac(e),n=Qw[r.toLowerCase()];return n||""},Jw=function(e,r){if(!r)return"";if(e.cache_.source.src===r&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(o){return o.src===r});if(n.length)return n[0].type;for(var t=e.$$("source"),a=0;a<t.length;a++){var s=t[a];if(s.type&&s.src&&s.src===r)return s.type}return yo(r)},Zw=function i(e){if(Array.isArray(e)){var r=[];e.forEach(function(n){n=i(n),Array.isArray(n)?r=r.concat(n):Qi(n)&&r.push(n)}),e=r}else typeof e=="string"&&e.trim()?e=[Gh({src:e})]:Qi(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[Gh(e)]:e=[];return e};function Gh(i){if(!i.type){var e=yo(i.src);e&&(i.type=e)}return i}var eP=function(i){se(e,i);function e(r,n,t){var a,s=He({createEl:!1},n);if(a=i.call(this,r,s,t)||this,!n.playerOptions.sources||n.playerOptions.sources.length===0)for(var o=0,l=n.playerOptions.techOrder;o<l.length;o++){var u=Ze(l[o]),d=Fe.getTech(u);if(u||(d=ee.getComponent(u)),d&&d.isSupported()){r.loadTech_(u);break}}else r.src(n.playerOptions.sources);return a}return e}(ee);ee.registerComponent("MediaLoader",eP);var ol=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.options_.controlText&&a.controlText(a.options_.controlText),a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var r=e.prototype;return r.createEl=function(t,a,s){t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=Ye({className:this.buildCSSClass(),tabIndex:0},a),t==="button"&&Pe.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),s=Ye({role:"button"},s),this.tabIndex_=a.tabIndex;var o=ke(t,a,s);return o.appendChild(ke("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.dispose=function(){this.controlTextEl_=null,i.prototype.dispose.call(this)},r.createControlTextEl=function(t){return this.controlTextEl_=ke("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},r.controlText=function(t,a){if(a===void 0&&(a=this.el()),t===void 0)return this.controlText_||"Need Text";var s=this.localize(t);this.controlText_=t,Wr(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},r.buildCSSClass=function(){return"vjs-control vjs-button "+i.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},r.handleLanguagechange=function(){this.controlText(this.controlText_)},r.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(t){xe.isEventKey(t,"Space")||xe.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):i.prototype.handleKeyDown.call(this,t)},e}(ee);ee.registerComponent("ClickableComponent",ol);var tP=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.update(),a.update_=function(s){return a.update(s)},n.on("posterchange",a.update_),a}var r=e.prototype;return r.dispose=function(){this.player().off("posterchange",this.update_),i.prototype.dispose.call(this)},r.createEl=function(){var t=ke("div",{className:"vjs-poster",tabIndex:-1});return t},r.update=function(t){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},r.setSrc=function(t){var a="";t&&(a='url("'+t+'")'),this.el_.style.backgroundImage=a},r.handleClick=function(t){if(this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((Ka||Xa)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?Ii(this.player_.play()):this.player_.pause()}},e}(ol);ee.registerComponent("PosterImage",tP);var ii="#222",$h="#ccc",iP={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Kl(i,e){var r;if(i.length===4)r=i[1]+i[1]+i[2]+i[2]+i[3]+i[3];else if(i.length===7)r=i.slice(1);else throw new Error("Invalid color code provided, "+i+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function Yl(i,e,r){try{i.style[e]=r}catch{return}}var rP=function(i){se(e,i);function e(n,t,a){var s;s=i.call(this,n,t,a)||this;var o=function(u){return s.updateDisplay(u)};return n.on("loadstart",function(l){return s.toggleDisplay(l)}),n.on("texttrackchange",o),n.on("loadedmetadata",function(l){return s.preselectTrack(l)}),n.ready(Ve(Se(s),function(){if(n.tech_&&n.tech_.featuresNativeTextTracks){this.hide();return}n.on("fullscreenchange",o),n.on("playerresize",o),P.addEventListener("orientationchange",o),n.on("dispose",function(){return P.removeEventListener("orientationchange",o)});for(var l=this.options_.playerOptions.tracks||[],u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()})),s}var r=e.prototype;return r.preselectTrack=function(){for(var t={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o,l,u,d=0;d<a.length;d++){var c=a[d];s&&s.enabled&&s.language&&s.language===c.language&&c.kind in t?c.kind===s.kind?u=c:u||(u=c):s&&!s.enabled?(u=null,o=null,l=null):c.default&&(c.kind==="descriptions"&&!o?o=c:c.kind in t&&!l&&(l=c))}u?u.mode="showing":l?l.mode="showing":o&&(o.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){typeof P.WebVTT=="function"&&P.WebVTT.processCues(P,[],this.el_)},r.updateDisplay=function(){var t=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],o=0;o<t.length;++o){var l=t[o];l.mode==="showing"&&s.push(l)}this.updateForTrack(s);return}for(var u=null,d=null,c=t.length;c--;){var h=t[c];h.mode==="showing"&&(h.kind==="descriptions"?u=h:d=h)}d?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(d)):u&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))},r.updateDisplayState=function(t){for(var a=this.player_.textTrackSettings.getValues(),s=t.activeCues,o=s.length;o--;){var l=s[o];if(l){var u=l.displayState;if(a.color&&(u.firstChild.style.color=a.color),a.textOpacity&&Yl(u.firstChild,"color",Kl(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(u.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&Yl(u.firstChild,"backgroundColor",Kl(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?Yl(u,"backgroundColor",Kl(a.windowColor,a.windowOpacity)):u.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+ii+", 2px 2px 4px "+ii+", 2px 2px 5px "+ii:a.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+ii+", 2px 2px "+ii+", 3px 3px "+ii:a.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+$h+", 0 1px "+$h+", -1px -1px "+ii+", 0 -1px "+ii:a.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+ii+", 0 0 4px "+ii+", 0 0 4px "+ii+", 0 0 4px "+ii)),a.fontPercent&&a.fontPercent!==1){var d=P.parseFloat(u.style.fontSize);u.style.fontSize=d*a.fontPercent+"px",u.style.height="auto",u.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=iP[a.fontFamily])}}},r.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),!(typeof P.WebVTT!="function"||t.every(function(g){return!g.activeCues}))){for(var a=[],s=0;s<t.length;++s)for(var o=t[s],l=0;l<o.activeCues.length;++l)a.push(o.activeCues[l]);P.WebVTT.processCues(P,a,this.el_);for(var u=0;u<t.length;++u){for(var d=t[u],c=0;c<d.activeCues.length;++c){var h=d.activeCues[c].displayState;Gi(h,"vjs-text-track-cue"),Gi(h,"vjs-text-track-cue-"+(d.language?d.language:u)),d.language&&kn(h,"lang",d.language)}this.player_.textTrackSettings&&this.updateDisplayState(d)}}},e}(ee);ee.registerComponent("TextTrackDisplay",rP);var nP=function(i){se(e,i);function e(){return i.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var t=this.player_.isAudio(),a=this.localize(t?"Audio Player":"Video Player"),s=ke("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),o=i.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o},e}(ee);ee.registerComponent("LoadingSpinner",nP);var vi=function(i){se(e,i);function e(){return i.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(t,a,s){a===void 0&&(a={}),s===void 0&&(s={}),t="button",a=Ye({className:this.buildCSSClass()},a),s=Ye({type:"button"},s);var o=ke(t,a,s);return o.appendChild(ke("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.addChild=function(t,a){a===void 0&&(a={});var s=this.constructor.name;return Pe.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),ee.prototype.addChild.call(this,t,a)},r.enable=function(){i.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){i.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(t){if(xe.isEventKey(t,"Space")||xe.isEventKey(t,"Enter")){t.stopPropagation();return}i.prototype.handleKeyDown.call(this,t)},e}(ol);ee.registerComponent("Button",vi);var gv=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(t){var a=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;Ii(a),this.player_.tech(!0)&&!((Ka||Xa)&&s)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),l=o&&o.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var u=function(){return l.focus()};ba(a)?a.then(u,function(){}):this.setTimeout(u,1)},r.handleKeyDown=function(t){this.mouseused_=!1,i.prototype.handleKeyDown.call(this,t)},r.handleMouseDown=function(t){this.mouseused_=!0},e}(vi);gv.prototype.controlText_="Play Video";ee.registerComponent("BigPlayButton",gv);var aP=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.controlText(t&&t.controlText||a.localize("Close")),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+i.prototype.buildCSSClass.call(this)},r.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(t){xe.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):i.prototype.handleKeyDown.call(this,t)},e}(vi);ee.registerComponent("CloseButton",aP);var vv=function(i){se(e,i);function e(n,t){var a;return t===void 0&&(t={}),a=i.call(this,n,t)||this,t.replay=t.replay===void 0||t.replay,a.on(n,"play",function(s){return a.handlePlay(s)}),a.on(n,"pause",function(s){return a.handlePause(s)}),t.replay&&a.on(n,"ended",function(s){return a.handleEnded(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+i.prototype.buildCSSClass.call(this)},r.handleClick=function(t){this.player_.paused()?Ii(this.player_.play()):this.player_.pause()},r.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},r.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(t){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},e}(vi);vv.prototype.controlText_="Play";ee.registerComponent("PlayToggle",vv);var yv=function(e,r){e=e<0?0:e;var n=Math.floor(e%60),t=Math.floor(e/60%60),a=Math.floor(e/3600),s=Math.floor(r/60%60),o=Math.floor(r/3600);return(isNaN(e)||e===1/0)&&(a=t=n="-"),a=a>0||o>0?a+":":"",t=((a||s>=10)&&t<10?"0"+t:t)+":",n=n<10?"0"+n:n,a+t+n},oc=yv;function sP(i){oc=i}function oP(){oc=yv}function Mn(i,e){return e===void 0&&(e=i),oc(i,e)}var Wn=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.on(n,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var r=e.prototype;return r.createEl=function(){var t=this.buildCSSClass(),a=i.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),s=ke("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return a.appendChild(s),this.contentEl_=ke("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},r.dispose=function(){this.contentEl_=null,this.textNode_=null,i.prototype.dispose.call(this)},r.updateTextNode_=function(t){var a=this;t===void 0&&(t=0),t=Mn(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,Pe.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=ie.createTextNode(a.formattedTime_),a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},r.updateContent=function(t){},e}(ee);Wn.prototype.labelText_="Time";Wn.prototype.controlText_="Time";ee.registerComponent("TimeDisplay",Wn);var lc=function(i){se(e,i);function e(){return i.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(t){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},e}(Wn);lc.prototype.labelText_="Current Time";lc.prototype.controlText_="Current Time";ee.registerComponent("CurrentTimeDisplay",lc);var uc=function(i){se(e,i);function e(n,t){var a;a=i.call(this,n,t)||this;var s=function(l){return a.updateContent(l)};return a.on(n,"durationchange",s),a.on(n,"loadstart",s),a.on(n,"loadedmetadata",s),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(t){var a=this.player_.duration();this.updateTextNode_(a)},e}(Wn);uc.prototype.labelText_="Duration";uc.prototype.controlText_="Duration";ee.registerComponent("DurationDisplay",uc);var lP=function(i){se(e,i);function e(){return i.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var t=i.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=i.prototype.createEl.call(this,"div"),s=i.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),t.appendChild(a),t},e}(ee);ee.registerComponent("TimeDivider",lP);var dc=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.on(n,"durationchange",function(s){return a.updateContent(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var t=i.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&t.insertBefore(ke("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},r.updateContent=function(t){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},e}(Wn);dc.prototype.labelText_="Remaining Time";dc.prototype.controlText_="Remaining Time";ee.registerComponent("RemainingTimeDisplay",dc);var uP=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var r=e.prototype;return r.createEl=function(){var t=i.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ke("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(ke("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(ie.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},r.dispose=function(){this.contentEl_=null,i.prototype.dispose.call(this)},r.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(ee);ee.registerComponent("LiveDisplay",uP);var _v=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var r=e.prototype;return r.createEl=function(){var t=i.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=ke("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},r.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,i.prototype.dispose.call(this)},e}(vi);_v.prototype.controlText_="Seek to live, currently playing live";ee.registerComponent("SeekToLive",_v);var ll=function(e,r,n){return e=Number(e),Math.min(n,Math.max(r,isNaN(e)?r:e))},cc=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var r=e.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(t,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=Ye({tabIndex:0},a),s=Ye({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),i.prototype.createEl.call(this,t,a,s)},r.handleMouseDown=function(t){var a=this.bar.el_.ownerDocument;t.type==="mousedown"&&t.preventDefault(),t.type==="touchstart"&&!ir&&t.preventDefault(),Xg(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)},r.handleMouseMove=function(t){},r.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;Kg(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()},r.update=function(){var t=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=t.vertical()?"height":"width";t.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},r.getProgress=function(){return Number(ll(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(t){var a=il(this.el_,t);return this.vertical()?a.y:a.x},r.handleKeyDown=function(t){xe.isEventKey(t,"Left")||xe.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):xe.isEventKey(t,"Right")||xe.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):i.prototype.handleKeyDown.call(this,t)},r.handleClick=function(t){t.stopPropagation(),t.preventDefault()},r.vertical=function(t){if(t===void 0)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(ee);ee.registerComponent("Slider",cc);var Ql=function(e,r){return ll(e/r*100,0,100).toFixed(2)+"%"},dP=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.partEls_=[],a.on(n,"progress",function(s){return a.update(s)}),a}var r=e.prototype;return r.createEl=function(){var t=i.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=ke("span",{className:"vjs-control-text"}),s=ke("span",{textContent:this.localize("Loaded")}),o=ie.createTextNode(": ");return this.percentageEl_=ke("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(a),a.appendChild(s),a.appendChild(o),a.appendChild(this.percentageEl_),t},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,i.prototype.dispose.call(this)},r.update=function(t){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,o=a.player_.buffered(),l=s&&s.isLive()?s.seekableEnd():a.player_.duration(),u=a.player_.bufferedEnd(),d=a.partEls_,c=Ql(u,l);a.percent_!==c&&(a.el_.style.width=c,Wr(a.percentageEl_,c),a.percent_=c);for(var h=0;h<o.length;h++){var g=o.start(h),y=o.end(h),_=d[h];_||(_=a.el_.appendChild(ke()),d[h]=_),!(_.dataset.start===g&&_.dataset.end===y)&&(_.dataset.start=g,_.dataset.end=y,_.style.left=Ql(g,u),_.style.width=Ql(y-g,u))}for(var b=d.length;b>o.length;b--)a.el_.removeChild(d[b-1]);d.length=o.length})},e}(ee);ee.registerComponent("LoadProgressBar",dP);var cP=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.update=Ji(Ve(Se(a),a.update),yi),a}var r=e.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(t,a,s){var o=ja(this.el_),l=On(this.player_.el()),u=t.width*a;if(!(!l||!o)){var d=t.left-l.left+u,c=t.width-u+(l.right-t.right),h=o.width/2;d<h?h+=h-d:c<h&&(h=c),h<0?h=0:h>o.width&&(h=o.width),h=Math.round(h),this.el_.style.right="-"+h+"px",this.write(s)}},r.write=function(t){Wr(this.el_,t)},r.updateTime=function(t,a,s,o){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var u,d=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var c=l.player_.liveTracker.liveWindow(),h=c-a*c;u=(h<1?"":"-")+Mn(h,c)}else u=Mn(s,d);l.update(t,a,u),o&&o()})},e}(ee);ee.registerComponent("TimeTooltip",cP);var fc=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.update=Ji(Ve(Se(a),a.update),yi),a}var r=e.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(t,a){var s=this.getChild("timeTooltip");if(s){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(t,a,o)}},e}(ee);fc.prototype.options_={children:[]};!Lt&&!tr&&fc.prototype.options_.children.push("timeTooltip");ee.registerComponent("PlayProgressBar",fc);var Tv=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.update=Ji(Ve(Se(a),a.update),yi),a}var r=e.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(t,a){var s=this,o=a*this.player_.duration();this.getChild("timeTooltip").updateTime(t,a,o,function(){s.el_.style.left=t.width*a+"px"})},e}(ee);Tv.prototype.options_={children:["timeTooltip"]};ee.registerComponent("MouseTimeDisplay",Tv);var Ns=5,qh=12,hc=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.setEventHandlers_(),a}var r=e.prototype;return r.setEventHandlers_=function(){var t=this;this.update_=Ve(this,this.update),this.update=Ji(this.update_,yi),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return t.enableInterval_(a)},this.disableIntervalHandler_=function(a){return t.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ie&&"visibilityState"in ie&&this.on(ie,"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(t){ie.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,yi))},r.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&t.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(t){var a=this;if(ie.visibilityState!=="hidden"){var s=i.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),l=a.player_.liveTracker,u=a.player_.duration();l&&l.isLive()&&(u=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==o||a.duration_!==u)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[Mn(o,u),Mn(u,u)],"{1} of {2}")),a.currentTime_=o,a.duration_=u),a.bar&&a.bar.update(On(a.el()),a.getProgress())}),s}},r.userSeek_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var t=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(t-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=t/this.player_.duration(),a},r.handleMouseDown=function(t){Ha(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),i.prototype.handleMouseDown.call(this,t))},r.handleMouseMove=function(t,a){if(a===void 0&&(a=!1),!!Ha(t)){!a&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var s,o=this.calculateDistance(t),l=this.player_.liveTracker;if(!l||!l.isLive())s=o*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(o>=.99){l.seekToLiveEdge();return}var u=l.seekableStart(),d=l.liveCurrentTime();if(s=u+o*l.liveWindow(),s>=d&&(s=d),s<=u&&(s=u+.1),s===1/0)return}this.userSeek_(s)}},r.enable=function(){i.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},r.disable=function(){i.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},r.handleMouseUp=function(t){i.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ii(this.player_.play()):this.update_()},r.stepForward=function(){this.userSeek_(this.player_.currentTime()+Ns)},r.stepBack=function(){this.userSeek_(this.player_.currentTime()-Ns)},r.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(t){var a=this.player_.liveTracker;if(xe.isEventKey(t,"Space")||xe.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(xe.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(xe.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(xe(t))){t.preventDefault(),t.stopPropagation();var s=(xe.codes[xe(t)]-xe.codes[0])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else xe.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-Ns*qh)):xe.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+Ns*qh)):i.prototype.handleKeyDown.call(this,t)},r.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ie&&"visibilityState"in ie&&this.off(ie,"visibilitychange",this.toggleVisibility_),i.prototype.dispose.call(this)},e}(cc);hc.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Lt&&!tr&&hc.prototype.options_.children.splice(1,0,"mouseTimeDisplay");ee.registerComponent("SeekBar",hc);var bv=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.handleMouseMove=Ji(Ve(Se(a),a.handleMouseMove),yi),a.throttledHandleMouseSeek=Ji(Ve(Se(a),a.handleMouseSeek),yi),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var r=e.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(t){var a=this.getChild("seekBar");if(a){var s=a.getChild("playProgressBar"),o=a.getChild("mouseTimeDisplay");if(!(!s&&!o)){var l=a.el(),u=ja(l),d=il(l,t).x;d=ll(d,0,1),o&&o.update(u,d),s&&s.update(u,a.getProgress())}}},r.handleMouseSeek=function(t){var a=this.getChild("seekBar");a&&a.handleMouseMove(t)},r.enabled=function(){return this.enabled_},r.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&Ii(this.player_.play())}},r.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.removeListenersAddedOnMousedownAndTouchstart=function(){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},r.handleMouseDown=function(t){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(t),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(t){var a=this.getChild("seekBar");a&&a.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()},e}(ee);bv.prototype.options_={children:["seekBar"]};ee.registerComponent("ProgressControl",bv);var Sv=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.on(n,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(n,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.on(n,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var s=n.currentType().substring(0,5)==="audio";s||n.audioPosterMode()||n.audioOnlyMode()?(n.isInPictureInPicture()&&n.exitPictureInPicture(),a.hide()):a.show()}),a.disable(),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+i.prototype.buildCSSClass.call(this)},r.handlePictureInPictureEnabledChange=function(){ie.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},r.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},r.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(vi);Sv.prototype.controlText_="Picture-in-Picture";ee.registerComponent("PictureInPictureToggle",Sv);var xv=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.on(n,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),ie[n.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+i.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(vi);xv.prototype.controlText_="Fullscreen";ee.registerComponent("FullscreenToggle",xv);var fP=function(e,r){r.tech_&&!r.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},hP=function(i){se(e,i);function e(){return i.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var t=i.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(i.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},e}(ee);ee.registerComponent("VolumeLevel",hP);var pP=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.update=Ji(Ve(Se(a),a.update),yi),a}var r=e.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},r.update=function(t,a,s,o){if(!s){var l=On(this.el_),u=On(this.player_.el()),d=t.width*a;if(!u||!l)return;var c=t.left-u.left+d,h=t.width-d+(u.right-t.right),g=l.width/2;c<g?g+=g-c:h<g&&(g=h),g<0?g=0:g>l.width&&(g=l.width),this.el_.style.right="-"+g+"px"}this.write(o+"%")},r.write=function(t){Wr(this.el_,t)},r.updateVolume=function(t,a,s,o,l){var u=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){u.update(t,a,s,o.toFixed(0)),l&&l()})},e}(ee);ee.registerComponent("VolumeLevelTooltip",pP);var Ev=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.update=Ji(Ve(Se(a),a.update),yi),a}var r=e.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(t,a,s){var o=this,l=100*a;this.getChild("volumeLevelTooltip").updateVolume(t,a,s,l,function(){s?o.el_.style.bottom=t.height*a+"px":o.el_.style.left=t.width*a+"px"})},e}(ee);Ev.prototype.options_={children:["volumeLevelTooltip"]};ee.registerComponent("MouseVolumeLevelDisplay",Ev);var ul=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(n,"volumechange",function(s){return a.updateARIAAttributes(s)}),n.ready(function(){return a.updateARIAAttributes()}),a}var r=e.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(t){Ha(t)&&i.prototype.handleMouseDown.call(this,t)},r.handleMouseMove=function(t){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),o=On(s),l=this.vertical(),u=il(s,t);u=l?u.y:u.x,u=ll(u,0,1),a.update(o,u,l)}Ha(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(t){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},r.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},r.updateLastVolume_=function(){var t=this,a=this.player_.volume();this.one("sliderinactive",function(){t.player_.volume()===0&&t.player_.lastVolume_(a)})},e}(cc);ul.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Lt&&!tr&&ul.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");ul.prototype.playerEvent="volumechange";ee.registerComponent("VolumeBar",ul);var Cv=function(i){se(e,i);function e(n,t){var a;return t===void 0&&(t={}),t.vertical=t.vertical||!1,(typeof t.volumeBar>"u"||Ba(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),a=i.call(this,n,t)||this,fP(Se(a),n),a.throttledHandleMouseMove=Ji(Ve(Se(a),a.handleMouseMove),yi),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var r=e.prototype;return r.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},r.handleMouseDown=function(t){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(t){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(ee);Cv.prototype.options_={children:["volumeBar"]};ee.registerComponent("VolumeControl",Cv);var mP=function(e,r){r.tech_&&!r.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},wv=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,mP(Se(a),n),a.on(n,["loadstart","volumechange"],function(s){return a.update(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+i.prototype.buildCSSClass.call(this)},r.handleClick=function(t){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(t){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var t=this.player_.volume(),a=3;Lt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),t===0||this.player_.muted()?a=0:t<.33?a=1:t<.67&&(a=2);for(var s=0;s<4;s++)Ya(this.el_,"vjs-vol-"+s);Gi(this.el_,"vjs-vol-"+a)},r.updateControlText_=function(){var t=this.player_.muted()||this.player_.volume()===0,a=t?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},e}(vi);wv.prototype.controlText_="Mute";ee.registerComponent("MuteToggle",wv);var Pv=function(i){se(e,i);function e(n,t){var a;return t===void 0&&(t={}),typeof t.inline<"u"?t.inline=t.inline:t.inline=!0,(typeof t.volumeControl>"u"||Ba(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),a=i.call(this,n,t)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(n,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var r=e.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},r.dispose=function(){this.handleMouseOut(),i.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(t){xe.isEventKey(t,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(t){this.addClass("vjs-hover"),Zt(ie,"keyup",this.handleKeyPressHandler_)},r.handleMouseOut=function(t){this.removeClass("vjs-hover"),_t(ie,"keyup",this.handleKeyPressHandler_)},r.handleKeyPress=function(t){xe.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(ee);Pv.prototype.options_={children:["muteToggle","volumeControl"]};ee.registerComponent("VolumePanel",Pv);var Iv=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,t&&(a.menuButton_=t.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var r=e.prototype;return r.addEventListenerForItem=function(t){t instanceof ee&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(t){t instanceof ee&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(t){typeof t=="string"&&(t=this.getChild(t)),this.removeEventListenerForItem(t),i.prototype.removeChild.call(this,t)},r.addItem=function(t){var a=this.addChild(t);a&&this.addEventListenerForItem(a)},r.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=ke(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=i.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),Zt(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,i.prototype.dispose.call(this)},r.handleBlur=function(t){var a=t.relatedTarget||ie.activeElement;if(!this.children().some(function(o){return o.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},r.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(o){return o.el()===t.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},r.handleKeyDown=function(t){xe.isEventKey(t,"Left")||xe.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(xe.isEventKey(t,"Right")||xe.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},r.stepForward=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_+1),this.focus(t)},r.stepBack=function(){var t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_-1),this.focus(t)},r.focus=function(t){t===void 0&&(t=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(t<0?t=0:t>=a.length&&(t=a.length-1),this.focusedChild_=t,a[t].el_.focus())},e}(ee);ee.registerComponent("Menu",Iv);var pc=function(i){se(e,i);function e(n,t){var a;t===void 0&&(t={}),a=i.call(this,n,t)||this,a.menuButton_=new vi(n,t),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=vi.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var o=function(u){return a.handleClick(u)};return a.handleMenuKeyUp_=function(l){return a.handleMenuKeyUp(l)},a.on(a.menuButton_,"tap",o),a.on(a.menuButton_,"click",o),a.on(a.menuButton_,"keydown",function(l){return a.handleKeyDown(l)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),Zt(ie,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(l){return a.handleMouseLeave(l)}),a.on("keydown",function(l){return a.handleSubmenuKeyDown(l)}),a}var r=e.prototype;return r.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},r.createMenu=function(){var t=new Iv(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=ke("li",{className:"vjs-menu-title",textContent:Ze(this.options_.title),tabIndex:-1}),s=new ee(this.player_,{el:a});t.addItem(s)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)t.addItem(this.items[o]);return t},r.createItems=function(){},r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var t="vjs-menu-button";this.options_.inline===!0?t+="-inline":t+="-popup";var a=vi.prototype.buildCSSClass();return"vjs-menu-button "+t+" "+a+" "+i.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+i.prototype.buildCSSClass.call(this)},r.controlText=function(t,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(t,a)},r.dispose=function(){this.handleMouseLeave(),i.prototype.dispose.call(this)},r.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(t){this.removeClass("vjs-hover"),_t(ie,"keyup",this.handleMenuKeyUp_)},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(t){xe.isEventKey(t,"Esc")||xe.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),xe.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(xe.isEventKey(t,"Up")||xe.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(t){(xe.isEventKey(t,"Esc")||xe.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},r.handleSubmenuKeyDown=function(t){(xe.isEventKey(t,"Esc")||xe.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),xe.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Lt&&zg())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(ee);ee.registerComponent("MenuButton",pc);var mc=function(i){se(e,i);function e(r,n){var t,a=n.tracks;if(t=i.call(this,r,n)||this,t.items.length<=1&&t.hide(),!a)return Se(t);var s=Ve(Se(t),t.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),t.player_.on("ready",s),t.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),t}return e}(pc);ee.registerComponent("TrackButton",mc);var gP=["Tab","Esc","Up","Down","Right","Left"],Ja=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.selectable=t.selectable,a.isSelected_=t.selected||!1,a.multiSelectable=t.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var r=e.prototype;return r.createEl=function(t,a,s){this.nonIconControl=!0;var o=i.prototype.createEl.call(this,"li",Ye({className:"vjs-menu-item",tabIndex:-1},a),s);return o.replaceChild(ke("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},r.handleKeyDown=function(t){gP.some(function(a){return xe.isEventKey(t,a)})||i.prototype.handleKeyDown.call(this,t)},r.handleClick=function(t){this.selected(!0)},r.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ol);ee.registerComponent("MenuItem",Ja);var Za=function(i){se(e,i);function e(n,t){var a,s=t.track,o=n.textTracks();t.label=s.label||s.language||"Unknown",t.selected=s.mode==="showing",a=i.call(this,n,t)||this,a.track=s,a.kinds=(t.kinds||[t.kind||a.track.kind]).filter(Boolean);var l=function(){for(var h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];a.handleTracksChange.apply(Se(a),g)},u=function(){for(var h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];a.handleSelectedLanguageChange.apply(Se(a),g)};if(n.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",u),a.on("dispose",function(){n.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===void 0){var d;a.on(["tap","click"],function(){if(typeof P.Event!="object")try{d=new P.Event("change")}catch{}d||(d=ie.createEvent("Event"),d.initEvent("change",!0,!0)),o.dispatchEvent(d)})}return a.handleTracksChange(),a}var r=e.prototype;return r.handleClick=function(t){var a=this.track,s=this.player_.textTracks();if(i.prototype.handleClick.call(this,t),!!s)for(var o=0;o<s.length;o++){var l=s[o];this.kinds.indexOf(l.kind)!==-1&&(l===a?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},r.handleTracksChange=function(t){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},r.handleSelectedLanguageChange=function(t){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,i.prototype.dispose.call(this)},e}(Ja);ee.registerComponent("TextTrackMenuItem",Za);var Av=function(i){se(e,i);function e(n,t){return t.track={player:n,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,i.call(this,n,t)||this}var r=e.prototype;return r.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!0,o=0,l=a.length;o<l;o++){var u=a[o];if(this.options_.kinds.indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},r.handleSelectedLanguageChange=function(t){for(var a=this.player().textTracks(),s=!0,o=0,l=a.length;o<l;o++){var u=a[o];if(["captions","descriptions","subtitles"].indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Za);ee.registerComponent("OffTextTrackMenuItem",Av);var Gn=function(i){se(e,i);function e(n,t){return t===void 0&&(t={}),t.tracks=n.textTracks(),i.call(this,n,t)||this}var r=e.prototype;return r.createItems=function(t,a){t===void 0&&(t=[]),a===void 0&&(a=Za);var s;this.label_&&(s=this.label_+" off"),t.push(new Av(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<o.length;l++){var u=o[l];if(this.kinds_.indexOf(u.kind)>-1){var d=new a(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});d.addClass("vjs-"+u.kind+"-menu-item"),t.push(d)}}return t},e}(mc);ee.registerComponent("TextTrackButton",Gn);var kv=function(i){se(e,i);function e(n,t){var a,s=t.track,o=t.cue,l=n.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=o.text,t.selected=o.startTime<=l&&l<o.endTime,a=i.call(this,n,t)||this,a.track=s,a.cue=o,a}var r=e.prototype;return r.handleClick=function(t){i.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(Ja);ee.registerComponent("ChaptersTrackMenuItem",kv);var gc=function(i){se(e,i);function e(n,t,a){var s;return s=i.call(this,n,t,a)||this,s.selectCurrentItem_=function(){s.items.forEach(function(o){o.selected(s.track_.activeCues[0]===o.cue)})},s}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+i.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+i.prototype.buildWrapperCSSClass.call(this)},r.update=function(t){if(!(t&&t.track&&t.track.kind!=="chapters")){var a=this.findChaptersTrack();a!==this.track_?(this.setTrack(a),i.prototype.update.call(this)):(!this.items||a&&a.cues&&a.cues.length!==this.items.length)&&i.prototype.update.call(this)}},r.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},r.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],a=t.length-1;a>=0;a--){var s=t[a];if(s.kind===this.kind_)return s}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ze(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),i.prototype.createMenu.call(this)},r.createItems=function(){var t=[];if(!this.track_)return t;var a=this.track_.cues;if(!a)return t;for(var s=0,o=a.length;s<o;s++){var l=a[s],u=new kv(this.player_,{track:this.track_,cue:l});t.push(u)}return t},e}(Gn);gc.prototype.kind_="chapters";gc.prototype.controlText_="Chapters";ee.registerComponent("ChaptersButton",gc);var vc=function(i){se(e,i);function e(n,t,a){var s;s=i.call(this,n,t,a)||this;var o=n.textTracks(),l=Ve(Se(s),s.handleTracksChange);return o.addEventListener("change",l),s.on("dispose",function(){o.removeEventListener("change",l)}),s}var r=e.prototype;return r.handleTracksChange=function(t){for(var a=this.player().textTracks(),s=!1,o=0,l=a.length;o<l;o++){var u=a[o];if(u.kind!==this.kind_&&u.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+i.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+i.prototype.buildWrapperCSSClass.call(this)},e}(Gn);vc.prototype.kind_="descriptions";vc.prototype.controlText_="Descriptions";ee.registerComponent("DescriptionsButton",vc);var yc=function(i){se(e,i);function e(n,t,a){return i.call(this,n,t,a)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+i.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+i.prototype.buildWrapperCSSClass.call(this)},e}(Gn);yc.prototype.kind_="subtitles";yc.prototype.controlText_="Subtitles";ee.registerComponent("SubtitlesButton",yc);var _c=function(i){se(e,i);function e(n,t){var a;return t.track={player:n,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",a=i.call(this,n,t)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+t.kind+" settings dialog"),a}var r=e.prototype;return r.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Za);ee.registerComponent("CaptionSettingsMenuItem",_c);var Tc=function(i){se(e,i);function e(n,t,a){return i.call(this,n,t,a)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+i.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+i.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new _c(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),i.prototype.createItems.call(this,t)},e}(Gn);Tc.prototype.kind_="captions";Tc.prototype.controlText_="Captions";ee.registerComponent("CaptionsButton",Tc);var Ov=function(i){se(e,i);function e(){return i.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(t,a,s){var o=i.prototype.createEl.call(this,t,a,s),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(ke("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(ke("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e}(Za);ee.registerComponent("SubsCapsMenuItem",Ov);var bc=function(i){se(e,i);function e(n,t){var a;return t===void 0&&(t={}),a=i.call(this,n,t)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(Ze(a.label_)),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new _c(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=i.prototype.createItems.call(this,t,Ov),t},e}(Gn);bc.prototype.kinds_=["captions","subtitles"];bc.prototype.controlText_="Subtitles";ee.registerComponent("SubsCapsButton",bc);var Dv=function(i){se(e,i);function e(n,t){var a,s=t.track,o=n.audioTracks();t.label=s.label||s.language||"Unknown",t.selected=s.enabled,a=i.call(this,n,t)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var l=function(){for(var d=arguments.length,c=new Array(d),h=0;h<d;h++)c[h]=arguments[h];a.handleTracksChange.apply(Se(a),c)};return o.addEventListener("change",l),a.on("dispose",function(){o.removeEventListener("change",l)}),a}var r=e.prototype;return r.createEl=function(t,a,s){var o=i.prototype.createEl.call(this,t,a,s),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(ke("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(ke("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o},r.handleClick=function(t){if(i.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];o!==this.track&&(o.enabled=o===this.track)}},r.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Ja);ee.registerComponent("AudioTrackMenuItem",Dv);var Lv=function(i){se(e,i);function e(n,t){return t===void 0&&(t={}),t.tracks=n.audioTracks(),i.call(this,n,t)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+i.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+i.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(t){t===void 0&&(t=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];t.push(new Dv(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return t},e}(mc);Lv.prototype.controlText_="Audio Track";ee.registerComponent("AudioTrackButton",Lv);var Sc=function(i){se(e,i);function e(n,t){var a,s=t.rate,o=parseFloat(s,10);return t.label=s,t.selected=o===n.playbackRate(),t.selectable=!0,t.multiSelectable=!1,a=i.call(this,n,t)||this,a.label=s,a.rate=o,a.on(n,"ratechange",function(l){return a.update(l)}),a}var r=e.prototype;return r.handleClick=function(t){i.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Ja);Sc.prototype.contentElType="button";ee.registerComponent("PlaybackRateMenuItem",Sc);var Mv=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(n,"loadstart",function(s){return a.updateVisibility(s)}),a.on(n,"ratechange",function(s){return a.updateLabel(s)}),a.on(n,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var r=e.prototype;return r.createEl=function(){var t=i.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=ke("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},r.dispose=function(){this.labelEl_=null,i.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+i.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+i.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){for(var t=this.playbackRates(),a=[],s=t.length-1;s>=0;s--)a.push(new Sc(this.player(),{rate:t[s]+"x"}));return a},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(t){var a=this.player().playbackRate(),s=this.playbackRates(),o=s.indexOf(a),l=(o+1)%s.length;this.player().playbackRate(s[l])},r.handlePlaybackRateschange=function(t){this.update()},r.playbackRates=function(){var t=this.player();return t.playbackRates&&t.playbackRates()||[]},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(pc);Mv.prototype.controlText_="Playback Rate";ee.registerComponent("PlaybackRateMenuButton",Mv);var Rv=function(i){se(e,i);function e(){return i.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+i.prototype.buildCSSClass.call(this)},r.createEl=function(t,a,s){return t===void 0&&(t="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),i.prototype.createEl.call(this,t,a,s)},e}(ee);ee.registerComponent("Spacer",Rv);var vP=function(i){se(e,i);function e(){return i.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+i.prototype.buildCSSClass.call(this)},r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},e}(Rv);ee.registerComponent("CustomControlSpacer",vP);var _o=function(i){se(e,i);function e(){return i.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(ee);_o.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in ie&&_o.prototype.options_.children.splice(_o.prototype.options_.children.length-1,0,"pictureInPictureToggle");ee.registerComponent("ControlBar",_o);var Nv=function(i){se(e,i);function e(n,t){var a;return a=i.call(this,n,t)||this,a.on(n,"error",function(s){return a.open(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+i.prototype.buildCSSClass.call(this)},r.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Vn);Nv.prototype.options_=ai({},Vn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});ee.registerComponent("ErrorDisplay",Nv);var Jl="vjs-text-track-settings",Xh=["#000","Black"],Kh=["#00F","Blue"],Yh=["#0FF","Cyan"],Qh=["#0F0","Green"],Jh=["#F0F","Magenta"],Zh=["#F00","Red"],ep=["#FFF","White"],tp=["#FF0","Yellow"],Zl=["1","Opaque"],eu=["0.5","Semi-Transparent"],ip=["0","Transparent"],Dr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Xh,ep,Zh,Qh,Kh,tp,Jh,Yh]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Zl,eu,ip]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ep,Xh,Zh,Qh,Kh,tp,Jh,Yh]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Zl,eu]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ip,eu,Zl]}};Dr.windowColor.options=Dr.backgroundColor.options;function Fv(i,e){if(e&&(i=e(i)),i&&i!=="none")return i}function yP(i,e){var r=i.options[i.options.selectedIndex].value;return Fv(r,e)}function _P(i,e,r){if(e){for(var n=0;n<i.options.length;n++)if(Fv(i.options[n].value,r)===e){i.selectedIndex=n;break}}}var TP=function(i){se(e,i);function e(n,t){var a;return t.temporary=!1,a=i.call(this,n,t)||this,a.updateDisplay=a.updateDisplay.bind(Se(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=ke("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),t.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),pn(Dr,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var r=e.prototype;return r.dispose=function(){this.endDialog=null,i.prototype.dispose.call(this)},r.createElSelect_=function(t,a,s){var o=this;a===void 0&&(a=""),s===void 0&&(s="label");var l=Dr[t],u=l.id.replace("%s",this.id_),d=[a,u].join(" ").trim();return["<"+s+' id="'+u+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+s+">",'<select aria-labelledby="'+d+'">'].concat(l.options.map(function(c){var h=u+"-"+c[1].replace(/\W+/g,"");return['<option id="'+h+'" value="'+c[0]+'" ','aria-labelledby="'+d+" "+h+'">',o.localize(c[1]),"</option>"].join("")})).concat("</select>").join("")},r.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return ke("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return ke("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var t=this.localize("restore all settings to the default values");return ke("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return i.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var t=this;return lw(Dr,function(a,s,o){var l=yP(t.$(s.selector),s.parser);return l!==void 0&&(a[o]=l),a},{})},r.setValues=function(t){var a=this;pn(Dr,function(s,o){_P(a.$(s.selector),t[o],s.parser)})},r.setDefaults=function(){var t=this;pn(Dr,function(a){var s=a.hasOwnProperty("default")?a.default:0;t.$(a.selector).selectedIndex=s})},r.restoreSettings=function(){var t;try{t=JSON.parse(P.localStorage.getItem(Jl))}catch(a){Pe.warn(a)}t&&this.setValues(t)},r.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?P.localStorage.setItem(Jl,JSON.stringify(t)):P.localStorage.removeItem(Jl)}catch(a){Pe.warn(a)}}},r.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,a=t&&t.subsCapsButton,s=t&&t.captionsButton;a?a.focus():s&&s.focus()},e}(Vn);ee.registerComponent("TextTrackSettings",TP);var bP=function(i){se(e,i);function e(n,t){var a,s=t.ResizeObserver||P.ResizeObserver;t.ResizeObserver===null&&(s=!1);var o=He({createEl:!s,reportTouchActivity:!1},t);return a=i.call(this,n,o)||this,a.ResizeObserver=t.ResizeObserver||P.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=_w(function(){a.resizeHandler()},100,!1,Se(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(n.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var l=a.debouncedHandler_,u=a.unloadListener_=function(){_t(this,"resize",l),_t(this,"unload",u),u=null};Zt(a.el_.contentWindow,"unload",u),Zt(a.el_.contentWindow,"resize",l)}},a.one("load",a.loadListener_)),a}var r=e.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},r.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,i.prototype.dispose.call(this)},e}(ee);ee.registerComponent("ResizeManager",bP);var SP={trackingThreshold:20,liveTolerance:15},xP=function(i){se(e,i);function e(n,t){var a,s=He(SP,t,{createEl:!1});return a=i.call(this,n,s)||this,a.handleVisibilityChange_=function(o){return a.handleVisibilityChange(o)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(o){return a.handlePlay(o)},a.handleFirstTimeupdate_=function(o){return a.handleFirstTimeupdate(o)},a.handleSeeked_=function(o){return a.handleSeeked(o)},a.seekToLiveEdge_=function(o){return a.seekToLiveEdge(o)},a.reset_(),a.on(a.player_,"durationchange",function(o){return a.handleDurationchange(o)}),a.on(a.player_,"canplay",function(){return a.toggleTracking()}),Ka&&"hidden"in ie&&"visibilityState"in ie&&a.on(ie,"visibilitychange",a.handleVisibilityChange_),a}var r=e.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(ie.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var t=this.player_.seekable();if(!(!t||!t.length)){var a=Number(P.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var o=this.liveCurrentTime(),l=this.player_.currentTime(),u=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(u=!1),u!==this.behindLiveEdge_&&(this.behindLiveEdge_=u,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.toggleTracking()},r.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,yi),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},r.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},r.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},r.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.end(s));return a.length?a.sort()[a.length-1]:1/0},r.seekableStart=function(){for(var t=this.player_.seekable(),a=[],s=t?t.length:0;s--;)a.push(t.start(s));return a.length?a.sort()[0]:0},r.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var t=this.seekableEnd();return this.lastSeekEnd_!==-1&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return typeof this.trackingInterval_=="number"},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(ie,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),i.prototype.dispose.call(this)},e}(ee);ee.registerComponent("LiveTracker",xP);var ju=function(e){var r=e.el();if(r.hasAttribute("src"))return e.triggerSourceset(r.src),!0;var n=e.$$("source"),t=[],a="";if(!n.length)return!1;for(var s=0;s<n.length;s++){var o=n[s].src;o&&t.indexOf(o)===-1&&t.push(o)}return t.length?(t.length===1&&(a=t[0]),e.triggerSourceset(a),!0):!1},EP=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var r=ie.createElement(this.nodeName.toLowerCase());r.innerHTML=e;for(var n=ie.createDocumentFragment();r.childNodes.length;)n.appendChild(r.childNodes[0]);return this.innerText="",P.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Bv=function(e,r){for(var n={},t=0;t<e.length&&(n=Object.getOwnPropertyDescriptor(e[t],r),!(n&&n.set&&n.get));t++);return n.enumerable=!0,n.configurable=!0,n},CP=function(e){return Bv([e.el(),P.HTMLMediaElement.prototype,P.Element.prototype,EP],"innerHTML")},rp=function(e){var r=e.el();if(!r.resetSourceWatch_){var n={},t=CP(e),a=function(o){return function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var c=o.apply(r,u);return ju(e),c}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){r[s]&&(n[s]=r[s],r[s]=a(n[s]))}),Object.defineProperty(r,"innerHTML",He(t,{set:a(t.set)})),r.resetSourceWatch_=function(){r.resetSourceWatch_=null,Object.keys(n).forEach(function(s){r[s]=n[s]}),Object.defineProperty(r,"innerHTML",t)},e.one("sourceset",r.resetSourceWatch_)}},wP=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?cv(P.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return P.Element.prototype.setAttribute.call(this,"src",e),e}}),PP=function(e){return Bv([e.el(),P.HTMLMediaElement.prototype,wP],"src")},IP=function(e){if(e.featuresSourceset){var r=e.el();if(!r.resetSourceset_){var n=PP(e),t=r.setAttribute,a=r.load;Object.defineProperty(r,"src",He(n,{set:function(o){var l=n.set.call(r,o);return e.triggerSourceset(r.src),l}})),r.setAttribute=function(s,o){var l=t.call(r,s,o);return/src/i.test(s)&&e.triggerSourceset(r.src),l},r.load=function(){var s=a.call(r);return ju(e)||(e.triggerSourceset(""),rp(e)),s},r.currentSrc?e.triggerSourceset(r.currentSrc):ju(e)||rp(e),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=a,r.setAttribute=t,Object.defineProperty(r,"src",n),r.resetSourceWatch_&&r.resetSourceWatch_()}}}},xc=function(e,r,n,t){t===void 0&&(t=!0);var a=function(l){return Object.defineProperty(e,r,{value:l,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var l=n();return a(l),l}};return t&&(s.set=a),Object.defineProperty(e,r,s)},ue=function(i){se(e,i);function e(n,t){var a;a=i.call(this,n,t)||this;var s=n.source,o=!1;if(a.featuresVideoFrameCallback=a.featuresVideoFrameCallback&&a.el_.tagName==="VIDEO",s&&(a.el_.currentSrc!==s.src||n.tag&&n.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),n.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var l=a.el_.childNodes,u=l.length,d=[];u--;){var c=l[u],h=c.nodeName.toLowerCase();h==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(c),a.remoteTextTracks().addTrack(c.track),a.textTracks().addTrack(c.track),!o&&!a.el_.hasAttribute("crossorigin")&&sl(c.src)&&(o=!0)):d.push(c))}for(var g=0;g<d.length;g++)a.el_.removeChild(d[g])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&o&&Pe.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(An||Jd||Bg)&&n.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var r=e.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,i.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){IP(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),a,s=function(){a=[];for(var u=0;u<t.length;u++){var d=t[u];d.kind==="metadata"&&a.push({track:d,storedMode:d.mode})}};s(),t.addEventListener("change",s),this.on("dispose",function(){return t.removeEventListener("change",s)});var o=function l(){for(var u=0;u<a.length;u++){var d=a[u];d.track.mode==="disabled"&&d.track.mode!==d.storedMode&&(d.track.mode=d.storedMode)}t.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",s),t.removeEventListener("change",o),t.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",s),t.addEventListener("change",s),t.removeEventListener("change",o)})},r.overrideNative_=function(t,a){var s=this;if(a===this["featuresNative"+t+"Tracks"]){var o=t.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(l){var u=s.el()[o+"Tracks"];u.removeEventListener(l,s[o+"TracksListeners_"][l])}),this["featuresNative"+t+"Tracks"]=!a,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},r.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},r.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},r.proxyNativeTracksForType_=function(t){var a=this,s=ni[t],o=this.el()[s.getterName],l=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!o||!o.addEventListener)){var u={change:function(h){var g={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(g),t==="text"&&a[Ln.remoteText.getterName]().trigger(g)},addtrack:function(h){l.addTrack(h.track)},removetrack:function(h){l.removeTrack(h.track)}},d=function(){for(var h=[],g=0;g<l.length;g++){for(var y=!1,_=0;_<o.length;_++)if(o[_]===l[g]){y=!0;break}y||h.push(l[g])}for(;h.length;)l.removeTrack(h.shift())};this[s.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(c){var h=u[c];o.addEventListener(c,h),a.on("dispose",function(g){return o.removeEventListener(c,h)})}),this.on("loadstart",d),this.on("dispose",function(c){return a.off("loadstart",d)})}},r.proxyNativeTracks_=function(){var t=this;ni.names.forEach(function(a){t.proxyNativeTracksForType_(a)})},r.createEl=function(){var t=this.options_.tag;if(!t||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(t){var a=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(a,t),e.disposeMediaElement(t),t=a}else{t=ie.createElement("video");var s=this.options_.tag&&Hi(this.options_.tag),o=He({},s);(!An||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,$g(t,Ye(o,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&kn(t,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],u=0;u<l.length;u++){var d=l[u],c=this.options_[d];typeof c<"u"&&(c?kn(t,d,d):tl(t,d),t[d]=c)}return t},r.handleLateInit_=function(t){if(!(t.networkState===0||t.networkState===3)){if(t.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var o=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),a||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),t.readyState>=2&&l.push("loadeddata"),t.readyState>=3&&l.push("canplay"),t.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(u){this.trigger(u)},this)})}},r.setScrubbing=function(t){this.isScrubbing_=t},r.scrubbing=function(){return this.isScrubbing_},r.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&el?this.el_.fastSeek(t):this.el_.currentTime=t}catch(a){Pe(a,"Video is not ready. (Video.js)")}},r.duration=function(){var t=this;if(this.el_.duration===1/0&&tr&&ir&&this.el_.currentTime===0){var a=function s(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){t.off("webkitbeginfullscreen",s),t.off("webkitendfullscreen",a)})}},r.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var t=P.navigator&&P.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},r.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Ii(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{t.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},r.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):i.prototype.requestVideoFrameCallback.call(this,t)},r.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):i.prototype.cancelVideoFrameCallback.call(this,t)},r.src=function(t){if(t===void 0)return this.el_.src;this.setSrc(t)},r.reset=function(){e.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(t){this.el_.controls=!!t},r.addTextTrack=function(t,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,a,s):i.prototype.addTextTrack.call(this,t,a,s)},r.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return i.prototype.createRemoteTextTrack.call(this,t);var a=ie.createElement("track");return t.kind&&(a.kind=t.kind),t.label&&(a.label=t.label),(t.language||t.srclang)&&(a.srclang=t.language||t.srclang),t.default&&(a.default=t.default),t.id&&(a.id=t.id),t.src&&(a.src=t.src),a},r.addRemoteTextTrack=function(t,a){var s=i.prototype.addRemoteTextTrack.call(this,t,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},r.removeRemoteTextTrack=function(t){if(i.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(t===a[s]||t===a[s].track)&&this.el().removeChild(a[s])},r.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var t={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),P.performance&&typeof P.performance.now=="function"?t.creationTime=P.performance.now():P.performance&&P.performance.timing&&typeof P.performance.timing.navigationStart=="number"&&(t.creationTime=P.Date.now()-P.performance.timing.navigationStart),t},e}(Fe);xc(ue,"TEST_VID",function(){if(Un()){var i=ie.createElement("video"),e=ie.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",i.appendChild(e),i}});ue.isSupported=function(){try{ue.TEST_VID.volume=.5}catch{return!1}return!!(ue.TEST_VID&&ue.TEST_VID.canPlayType)};ue.canPlayType=function(i){return ue.TEST_VID.canPlayType(i)};ue.canPlaySource=function(i,e){return ue.canPlayType(i.type)};ue.canControlVolume=function(){try{var i=ue.TEST_VID.volume;ue.TEST_VID.volume=i/2+.1;var e=i!==ue.TEST_VID.volume;return e&&Lt?(P.setTimeout(function(){ue&&ue.prototype&&(ue.prototype.featuresVolumeControl=i!==ue.TEST_VID.volume)}),!1):e}catch{return!1}};ue.canMuteVolume=function(){try{var i=ue.TEST_VID.muted;return ue.TEST_VID.muted=!i,ue.TEST_VID.muted?kn(ue.TEST_VID,"muted","muted"):tl(ue.TEST_VID,"muted","muted"),i!==ue.TEST_VID.muted}catch{return!1}};ue.canControlPlaybackRate=function(){if(tr&&ir&&jg<58)return!1;try{var i=ue.TEST_VID.playbackRate;return ue.TEST_VID.playbackRate=i/2+.1,i!==ue.TEST_VID.playbackRate}catch{return!1}};ue.canOverrideAttributes=function(){try{var i=function(){};Object.defineProperty(ie.createElement("video"),"src",{get:i,set:i}),Object.defineProperty(ie.createElement("audio"),"src",{get:i,set:i}),Object.defineProperty(ie.createElement("video"),"innerHTML",{get:i,set:i}),Object.defineProperty(ie.createElement("audio"),"innerHTML",{get:i,set:i})}catch{return!1}return!0};ue.supportsNativeTextTracks=function(){return el||Lt&&ir};ue.supportsNativeVideoTracks=function(){return!!(ue.TEST_VID&&ue.TEST_VID.videoTracks)};ue.supportsNativeAudioTracks=function(){return!!(ue.TEST_VID&&ue.TEST_VID.audioTracks)};ue.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(i){var e=i[0],r=i[1];xc(ue.prototype,e,function(){return ue[r]()},!0)});ue.prototype.featuresVolumeControl=ue.canControlVolume();ue.prototype.movingMediaElementInDOM=!Lt;ue.prototype.featuresFullscreenResize=!0;ue.prototype.featuresProgressEvents=!0;ue.prototype.featuresTimeupdateEvents=!0;ue.prototype.featuresVideoFrameCallback=!!(ue.TEST_VID&&ue.TEST_VID.requestVideoFrameCallback);var To;ue.patchCanPlayType=function(){Kd>=4&&!Ug&&!ir&&(To=ue.TEST_VID&&ue.TEST_VID.constructor.prototype.canPlayType,ue.TEST_VID.constructor.prototype.canPlayType=function(i){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return i&&e.test(i)?"maybe":To.call(this,i)})};ue.unpatchCanPlayType=function(){var i=ue.TEST_VID.constructor.prototype.canPlayType;return To&&(ue.TEST_VID.constructor.prototype.canPlayType=To),i};ue.patchCanPlayType();ue.disposeMediaElement=function(i){if(i){for(i.parentNode&&i.parentNode.removeChild(i);i.hasChildNodes();)i.removeChild(i.firstChild);i.removeAttribute("src"),typeof i.load=="function"&&function(){try{i.load()}catch{}}()}};ue.resetMediaElement=function(i){if(i){for(var e=i.querySelectorAll("source"),r=e.length;r--;)i.removeChild(e[r]);i.removeAttribute("src"),typeof i.load=="function"&&function(){try{i.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(i){ue.prototype[i]=function(){return this.el_[i]||this.el_.hasAttribute(i)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(i){ue.prototype["set"+Ze(i)]=function(e){this.el_[i]=e,e?this.el_.setAttribute(i,i):this.el_.removeAttribute(i)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(i){ue.prototype[i]=function(){return this.el_[i]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(i){ue.prototype["set"+Ze(i)]=function(e){this.el_[i]=e}});["pause","load","play"].forEach(function(i){ue.prototype[i]=function(){return this.el_[i]()}});Fe.withSourceHandlers(ue);ue.nativeSourceHandler={};ue.nativeSourceHandler.canPlayType=function(i){try{return ue.TEST_VID.canPlayType(i)}catch{return""}};ue.nativeSourceHandler.canHandleSource=function(i,e){if(i.type)return ue.nativeSourceHandler.canPlayType(i.type);if(i.src){var r=ac(i.src);return ue.nativeSourceHandler.canPlayType("video/"+r)}return""};ue.nativeSourceHandler.handleSource=function(i,e,r){e.setSrc(i.src)};ue.nativeSourceHandler.dispose=function(){};ue.registerSourceHandler(ue.nativeSourceHandler);Fe.registerTech("Html5",ue);var Uv=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],tu={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Hu=["tiny","xsmall","small","medium","large","xlarge","huge"],Xs={};Hu.forEach(function(i){var e=i.charAt(0)==="x"?"x-"+i.substring(1):i;Xs[i]="vjs-layout-"+e});var AP={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},it=function(i){se(e,i);function e(n,t,a){var s;if(n.id=n.id||t.id||"vjs_video_"+rr(),t=Ye(e.getTagSettings(n),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if(typeof n.closest=="function"){var o=n.closest("[lang]");o&&o.getAttribute&&(t.language=o.getAttribute("lang"))}else for(var l=n;l&&l.nodeType===1;){if(Hi(l).hasOwnProperty("lang")){t.language=l.getAttribute("lang");break}l=l.parentNode}if(s=i.call(this,null,t,a)||this,s.boundDocumentFullscreenChange_=function(h){return s.documentFullscreenChange_(h)},s.boundFullWindowOnEscKey_=function(h){return s.fullWindowOnEscKey(h)},s.boundUpdateStyleEl_=function(h){return s.updateStyleEl_(h)},s.boundApplyInitTime_=function(h){return s.applyInitTime_(h)},s.boundUpdateCurrentBreakpoint_=function(h){return s.updateCurrentBreakpoint_(h)},s.boundHandleTechClick_=function(h){return s.handleTechClick_(h)},s.boundHandleTechDoubleClick_=function(h){return s.handleTechDoubleClick_(h)},s.boundHandleTechTouchStart_=function(h){return s.handleTechTouchStart_(h)},s.boundHandleTechTouchMove_=function(h){return s.handleTechTouchMove_(h)},s.boundHandleTechTouchEnd_=function(h){return s.handleTechTouchEnd_(h)},s.boundHandleTechTap_=function(h){return s.handleTechTap_(h)},s.isFullscreen_=!1,s.log=Rg(s.id_),s.fsApi_=mo,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,s.audioOnlyMode_=!1,s.audioPosterMode_=!1,s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=n,s.tagAttributes=n&&Hi(n),s.language(s.options_.language),t.languages){var u={};Object.getOwnPropertyNames(t.languages).forEach(function(h){u[h.toLowerCase()]=t.languages[h]}),s.languages_=u}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=t.poster||"",s.controls_=!!t.controls,n.controls=!1,n.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],n.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(h){if(typeof s[h]!="function")throw new Error('plugin "'+h+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),ic(Se(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(Zt(ie,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var d=He(s.options_);t.plugins&&Object.keys(t.plugins).forEach(function(h){s[h](t.plugins[h])}),t.debug&&s.debug(!0),s.options_.playerOptions=d,s.middleware_=[],s.playbackRates(t.playbackRates),s.initChildren(),s.isAudio(n.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),An&&s.addClass("vjs-touch-enabled"),Lt||s.addClass("vjs-workinghover"),e.players[s.id_]=Se(s);var c=Dg.split(".")[0];return s.addClass("vjs-v"+c),s.userActive(!0),s.reportUserActivity(),s.one("play",function(h){return s.listenForUserActivity_(h)}),s.on("stageclick",function(h){return s.handleStageClick_(h)}),s.on("keydown",function(h){return s.handleKeyDown(h)}),s.on("languagechange",function(h){return s.handleLanguagechange(h)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s.on("ready",function(){s.audioPosterMode(s.options_.audioPosterMode),s.audioOnlyMode(s.options_.audioOnlyMode)}),s}var r=e.prototype;return r.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),_t(ie,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),_t(ie,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Kw(this),Pt.names.forEach(function(a){var s=Pt[a],o=t[s.getterName]();o&&o.off&&o.off()}),i.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},r.createEl=function(){var t=this.tag,a,s=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=t.parentNode:o||(a=this.el_=i.prototype.createEl.call(this,"div"));var l=Hi(t);if(o){for(a=this.el_=t,t=this.tag=ie.createElement("video");a.children.length;)t.appendChild(a.firstChild);Fr(a,"video-js")||Gi(a,"video-js"),a.appendChild(t),s=this.playerElIngest_=a,Object.keys(a).forEach(function(y){try{t[y]=a[y]}catch{}})}if(t.setAttribute("tabindex","-1"),l.tabindex="-1",(Ka||ir&&Hg)&&(t.setAttribute("role","application"),l.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(y){o&&y==="class"||a.setAttribute(y,l[y]),o&&t.setAttribute(y,l[y])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=a.player=this,this.addClass("vjs-paused"),P.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=iv("vjs-styles-dimensions");var u=pr(".vjs-styles-defaults"),d=pr("head");d.insertBefore(this.styleEl_,u?u.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=t.getElementsByTagName("a"),h=0;h<c.length;h++){var g=c.item(h);Gi(g,"vjs-hidden"),g.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!s&&t.parentNode.insertBefore(a,t),Lu(t,a),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},r.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");if(t!=="anonymous"&&t!=="use-credentials"){Pe.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"');return}this.techCall_("setCrossOrigin",t)},r.width=function(t){return this.dimension("width",t)},r.height=function(t){return this.dimension("height",t)},r.dimension=function(t,a){var s=t+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var o=parseFloat(a);if(isNaN(o)){Pe.error('Improper value "'+a+'" supplied for for '+t);return}this[s]=o,this.updateStyleEl_()},r.fluid=function(t){var a=this;if(t===void 0)return!!this.fluid_;this.fluid_=!!t,$i(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),Tw(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(t){if(t===void 0)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(t){if(t===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(P.VIDEOJS_NO_DYNAMIC_STYLE===!0){var t=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(t>=0&&(s.width=t),a>=0&&(s.height=a));return}var o,l,u,d;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?u=this.aspectRatio_:this.videoWidth()>0?u=this.videoWidth()+":"+this.videoHeight():u="16:9";var c=u.split(":"),h=c[1]/c[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/h:o=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=o*h,/^[^a-zA-Z]/.test(this.id())?d="dimensions-"+this.id():d=this.id()+"-dimensions",this.addClass(d),rv(this.styleEl_,`
      .`+d+` {
        width: `+o+`px;
        height: `+l+`px;
      }

      .`+d+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+h*100+`%;
      }
    `)},r.loadTech_=function(t,a){var s=this;this.tech_&&this.unloadTech_();var o=Ze(t),l=t.charAt(0).toLowerCase()+t.slice(1);o!=="Html5"&&this.tag&&(Fe.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var u=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(u=!1);var d={source:a,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Pt.names.forEach(function(h){var g=Pt[h];d[g.getterName]=s[g.privateName]}),Ye(d,this.options_[o]),Ye(d,this.options_[l]),Ye(d,this.options_[t.toLowerCase()]),this.tag&&(d.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime);var c=Fe.getTech(t);if(!c)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new c(d),this.tech_.ready(Ve(this,this.handleTechReady_),!0),Bh.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Uv.forEach(function(h){s.on(s.tech_,h,function(g){return s["handleTech"+Ze(h)+"_"](g)})}),Object.keys(tu).forEach(function(h){s.on(s.tech_,h,function(g){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+tu[h]+"_"].bind(s),event:g});return}s["handleTech"+tu[h]+"_"](g)})}),this.on(this.tech_,"loadstart",function(h){return s.handleTechLoadStart_(h)}),this.on(this.tech_,"sourceset",function(h){return s.handleTechSourceset_(h)}),this.on(this.tech_,"waiting",function(h){return s.handleTechWaiting_(h)}),this.on(this.tech_,"ended",function(h){return s.handleTechEnded_(h)}),this.on(this.tech_,"seeking",function(h){return s.handleTechSeeking_(h)}),this.on(this.tech_,"play",function(h){return s.handleTechPlay_(h)}),this.on(this.tech_,"firstplay",function(h){return s.handleTechFirstPlay_(h)}),this.on(this.tech_,"pause",function(h){return s.handleTechPause_(h)}),this.on(this.tech_,"durationchange",function(h){return s.handleTechDurationChange_(h)}),this.on(this.tech_,"fullscreenchange",function(h,g){return s.handleTechFullscreenChange_(h,g)}),this.on(this.tech_,"fullscreenerror",function(h,g){return s.handleTechFullscreenError_(h,g)}),this.on(this.tech_,"enterpictureinpicture",function(h){return s.handleTechEnterPictureInPicture_(h)}),this.on(this.tech_,"leavepictureinpicture",function(h){return s.handleTechLeavePictureInPicture_(h)}),this.on(this.tech_,"error",function(h){return s.handleTechError_(h)}),this.on(this.tech_,"posterchange",function(h){return s.handleTechPosterChange_(h)}),this.on(this.tech_,"textdata",function(h){return s.handleTechTextData_(h)}),this.on(this.tech_,"ratechange",function(h){return s.handleTechRateChange_(h)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&Lu(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var t=this;Pt.names.forEach(function(a){var s=Pt[a];t[s.privateName]=t[s.getterName]()}),this.textTracksJson_=Bh.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(t){return t===void 0&&Pe.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(t){var a=this;if(!(!this.tech_||typeof t!="string")){var s=function(){var u=a.muted();a.muted(!0);var d=function(){a.muted(u)};a.playTerminatedQueue_.push(d);var c=a.play();if(ba(c))return c.catch(function(h){throw d(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(h||""))})},o;if(t==="any"&&!this.muted()?(o=this.play(),ba(o)&&(o=o.catch(s))):t==="muted"&&!this.muted()?o=s():o=this.play(),!!ba(o))return o.then(function(){a.trigger({type:"autoplay-success",autoplay:t})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:t})})}},r.updateSourceCaches_=function(t){t===void 0&&(t="");var a=t,s="";typeof a!="string"&&(a=t.src,s=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=Jw(this,a)),this.cache_.source=He({},t,{src:a,type:s});for(var o=this.cache_.sources.filter(function(g){return g.src&&g.src===a}),l=[],u=this.$$("source"),d=[],c=0;c<u.length;c++){var h=Hi(u[c]);l.push(h),h.src&&h.src===a&&d.push(h.src)}d.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},r.handleTechSourceset_=function(t){var a=this;if(!this.changingSrc_){var s=function(d){return a.updateSourceCaches_(d)},o=this.currentSource().src,l=t.src;o&&!/^blob:/.test(o)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==o)&&(s=function(){}),s(l),t.src||this.tech_.any(["sourceset","loadstart"],function(u){if(u.type!=="sourceset"){var d=a.techGet("currentSrc");a.lastSource_.tech=d,a.updateSourceCaches_(d)}})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},r.hasStarted=function(t){if(t===void 0)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function o(){a!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",o))};this.on("timeupdate",s)},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(Pe.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(t){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,t):this.paused()?Ii(this.play()):this.pause())},r.handleTechDoubleClick_=function(t){if(this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(t.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(t){t.cancelable&&t.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(t){var a=t.target.player;if(!(a&&a!==this)){var s=this.el(),o=ie[this.fsApi_.fullscreenElement]===s;!o&&s.matches?o=s.matches(":"+this.fsApi_.fullscreen):!o&&s.msMatchesSelector&&(o=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},r.handleTechFullscreenChange_=function(t,a){var s=this;a&&(a.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){s.removeClass("vjs-ios-native-fs")})),this.isFullscreen(a.isFullscreen))},r.handleTechFullscreenError_=function(t,a){this.trigger("fullscreenerror",a)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var t=this.tech_.error();this.error(t)},r.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(t,a){this.ready(function(){if(t in qw)return Gw(this.middleware_,this.tech_,t,a);if(t in Wh)return zh(this.middleware_,this.tech_,t,a);try{this.tech_&&this.tech_[t](a)}catch(s){throw Pe(s),s}},!0)},r.techGet_=function(t){if(!(!this.tech_||!this.tech_.isReady_)){if(t in $w)return Ww(this.middleware_,this.tech_,t);if(t in Wh)return zh(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(a){throw this.tech_[t]===void 0?(Pe("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(Pe("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(Pe(a),a)}}},r.play=function(){var t=this,a=this.options_.Promise||P.Promise;return a?new a(function(s){t.play_(s)}):this.play_()},r.play_=function(t){var a=this;t===void 0&&(t=Ii),this.playCallbacks_.push(t);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(l){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&(el||Lt)&&this.load();return}var o=this.techGet_("play");o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},r.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(a){a()})},r.runPlayCallbacks_=function(t){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(t)})},r.pause=function(){this.techCall_("pause")},r.paused=function(){return this.techGet_("paused")!==!1},r.played=function(){return this.techGet_("played")||Br(0,0)},r.scrubbing=function(t){if(typeof t>"u")return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(t){if(typeof t<"u"){if(t<0&&(t=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",t),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(t){if(t===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var t=this.techGet_("buffered");return(!t||!t.length)&&(t=Br(0,0)),t},r.bufferedPercent=function(){return uv(this.buffered(),this.duration())},r.bufferedEnd=function(){var t=this.buffered(),a=this.duration(),s=t.end(t.length-1);return s>a&&(s=a),s},r.volume=function(t){var a;if(t!==void 0){a=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},r.muted=function(t){if(t!==void 0){this.techCall_("setMuted",t);return}return this.techGet_("muted")||!1},r.defaultMuted=function(t){return t!==void 0?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(t){if(t!==void 0&&t!==0){this.cache_.lastVolume=t;return}return this.cache_.lastVolume},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(t){if(t!==void 0){var a=this.isFullscreen_;this.isFullscreen_=Boolean(t),this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},r.requestFullscreen=function(t){var a=this.options_.Promise||P.Promise;if(a){var s=this;return new a(function(o,l){function u(){s.off("fullscreenerror",c),s.off("fullscreenchange",d)}function d(){u(),o()}function c(g,y){u(),l(y)}s.one("fullscreenchange",d),s.one("fullscreenerror",c);var h=s.requestFullscreenHelper_(t);h&&(h.then(u,u),h.then(o,l))})}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(t){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},t!==void 0&&(s=t)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](s);return o&&o.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var t=this.options_.Promise||P.Promise;if(t){var a=this;return new t(function(s,o){function l(){a.off("fullscreenerror",d),a.off("fullscreenchange",u)}function u(){l(),s()}function d(h,g){l(),o(g)}a.one("fullscreenchange",u),a.one("fullscreenerror",d);var c=a.exitFullscreenHelper_();c&&(c.then(l,l),c.then(s,o))})}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var a=ie[this.fsApi_.exitFullscreen]();return a&&Ii(a.then(function(){return t.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=ie.documentElement.style.overflow,Zt(ie,"keydown",this.boundFullWindowOnEscKey_),ie.documentElement.style.overflow="hidden",Gi(ie.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(t){xe.isEventKey(t,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,_t(ie,"keydown",this.boundFullWindowOnEscKey_),ie.documentElement.style.overflow=this.docOrigOverflow,Ya(ie.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(t){if(t===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(t){if(t!==void 0){this.isInPictureInPicture_=!!t,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in ie&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in ie)return ie.exitPictureInPicture()},r.handleKeyDown=function(t){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(l){var u=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var d=["button","checkbox","hidden","radio","reset","submit"];if(u==="input")return d.indexOf(l.type)===-1;var c=["textarea"];return c.indexOf(u)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,t):this.handleHotkeys(t))}},r.handleHotkeys=function(t){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,o=s===void 0?function(_){return xe.isEventKey(_,"f")}:s,l=a.muteKey,u=l===void 0?function(_){return xe.isEventKey(_,"m")}:l,d=a.playPauseKey,c=d===void 0?function(_){return xe.isEventKey(_,"k")||xe.isEventKey(_,"Space")}:d;if(o.call(this,t)){t.preventDefault(),t.stopPropagation();var h=ee.getComponent("FullscreenToggle");ie[this.fsApi_.fullscreenEnabled]!==!1&&h.prototype.handleClick.call(this,t)}else if(u.call(this,t)){t.preventDefault(),t.stopPropagation();var g=ee.getComponent("MuteToggle");g.prototype.handleClick.call(this,t)}else if(c.call(this,t)){t.preventDefault(),t.stopPropagation();var y=ee.getComponent("PlayToggle");y.prototype.handleClick.call(this,t)}},r.canPlayType=function(t){for(var a,s=0,o=this.options_.techOrder;s<o.length;s++){var l=o[s],u=Fe.getTech(l);if(u||(u=ee.getComponent(l)),!u){Pe.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(u.isSupported()&&(a=u.canPlayType(t),a))return a}return""},r.selectSource=function(t){var a=this,s=this.options_.techOrder.map(function(c){return[c,Fe.getTech(c)]}).filter(function(c){var h=c[0],g=c[1];return g?g.isSupported():(Pe.error('The "'+h+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(h,g,y){var _;return h.some(function(b){return g.some(function(E){if(_=y(b,E),_)return!0})}),_},l,u=function(h){return function(g,y){return h(y,g)}},d=function(h,g){var y=h[0],_=h[1];if(_.canPlaySource(g,a.options_[y.toLowerCase()]))return{source:g,tech:y}};return this.options_.sourceOrder?l=o(t,s,u(d)):l=o(s,t,d),l||!1},r.handleSrc_=function(t,a){var s=this;if(typeof t>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=Zw(t);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),Vw(this,o[0],function(d,c){s.middleware_=c,a||(s.cache_.sources=o),s.updateSourceCaches_(d);var h=s.src_(d);if(h){if(o.length>1)return s.handleSrc_(o.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),s.triggerReady();return}zw(c,s.tech_)}),this.options_.retryOnError&&o.length>1){var l=function(){s.error(null),s.handleSrc_(o.slice(1),!0)},u=function(){s.off("error",l)};this.one("error",l),this.one("playing",u),this.resetRetryOnError_=function(){s.off("error",l),s.off("playing",u)}}},r.src=function(t){return this.handleSrc_(t,!1)},r.src_=function(t){var a=this,s=this.selectSource([t]);return s?xw(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},r.load=function(){this.techCall_("load")},r.reset=function(){var t=this,a=this.options_.Promise||P.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();Ii(s.then(function(){return t.doReset_()}))}},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),$i(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar||{},a=t.durationDisplay,s=t.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var t=this.currentSource(),a=[];return Object.keys(t).length!==0&&a.push(t),this.cache_.sources||a},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(t){if(t!==void 0){this.techCall_("setPreload",t),this.options_.preload=t;return}return this.techGet_("preload")},r.autoplay=function(t){if(t===void 0)return this.options_.autoplay||!1;var a;typeof t=="string"&&/(any|play|muted)/.test(t)||t===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_(typeof t=="string"?t:"play"),a=!1):t?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a>"u"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},r.playsinline=function(t){return t!==void 0?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},r.loop=function(t){if(t!==void 0){this.techCall_("setLoop",t),this.options_.loop=t;return}return this.techGet_("loop")},r.poster=function(t){if(t===void 0)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(t){if(t===void 0)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(t){if(t===void 0)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(t){var a=this;if(t===void 0)return this.error_||null;if(hr("beforeerror").forEach(function(o){var l=o(a,t);if(!(Qi(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}t=l}),this.options_.suppressNotSupportedError&&t&&t.code===4){var s=function(){this.error(t)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(t===null){this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Ot(t),this.addClass("vjs-error"),Pe.error("(CODE:"+this.error_.code+" "+Ot.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),hr("error").forEach(function(o){return o(a,a.error_)})},r.reportUserActivity=function(t){this.userActivity_=!0},r.userActive=function(t){if(t===void 0)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var t,a,s,o=Ve(this,this.reportUserActivity),l=function(y){(y.screenX!==a||y.screenY!==s)&&(a=y.screenX,s=y.screenY,o())},u=function(){o(),this.clearInterval(t),t=this.setInterval(o,250)},d=function(y){o(),this.clearInterval(t)};this.on("mousedown",u),this.on("mousemove",l),this.on("mouseup",d),this.on("mouseleave",d);var c=this.getChild("controlBar");c&&!Lt&&!tr&&(c.on("mouseenter",function(g){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),c.on("mouseleave",function(g){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var h;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(h);var g=this.options_.inactivityTimeout;g<=0||(h=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},g))}},250)},r.playbackRate=function(t){if(t!==void 0){this.techCall_("setPlaybackRate",t);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},r.defaultPlaybackRate=function(t){return t!==void 0?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(t){if(t!==void 0){this.isAudio_=!!t;return}return!!this.isAudio_},r.enableAudioOnlyUI_=function(){var t=this;this.addClass("vjs-audio-only-mode");var a=this.children(),s=this.getChild("ControlBar"),o=s&&s.currentHeight();a.forEach(function(l){l!==s&&l.el_&&!l.hasClass("vjs-hidden")&&(l.hide(),t.audioOnlyCache_.hiddenChildren.push(l))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(o),this.trigger("audioonlymodechange")},r.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(t){return t.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},r.audioOnlyMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=t;var s=this.options_.Promise||P.Promise;if(s){if(t){var o=[];return this.isInPictureInPicture()&&o.push(this.exitPictureInPicture()),this.isFullscreen()&&o.push(this.exitFullscreen()),this.audioPosterMode()&&o.push(this.audioPosterMode(!1)),s.all(o).then(function(){return a.enableAudioOnlyUI_()})}return s.resolve().then(function(){return a.disableAudioOnlyUI_()})}t?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},r.enablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.disablePosterModeUI_=function(){var t=this.tech_&&this.tech_;t.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.audioPosterMode=function(t){var a=this;if(typeof t!="boolean"||t===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=t;var s=this.options_.Promise||P.Promise;if(s){if(t){if(this.audioOnlyMode()){var o=this.audioOnlyMode(!1);return o.then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.enablePosterModeUI_()})}return s.resolve().then(function(){a.disablePosterModeUI_()})}if(t){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},r.addTextTrack=function(t,a,s){if(this.tech_)return this.tech_.addTextTrack(t,a,s)},r.addRemoteTextTrack=function(t,a){if(this.tech_)return this.tech_.addRemoteTextTrack(t,a)},r.removeRemoteTextTrack=function(t){t===void 0&&(t={});var a=t,s=a.track;if(s||(s=t),this.tech_)return this.tech_.removeRemoteTextTrack(s)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(t){if(t===void 0)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),$i(this)&&this.trigger("languagechange"))},r.languages=function(){return He(e.prototype.options_.languages,this.languages_)},r.toJSON=function(){var t=He(this.options_),a=t.tracks;t.tracks=[];for(var s=0;s<a.length;s++){var o=a[s];o=He(o),o.player=void 0,t.tracks[s]=o}return t},r.createModal=function(t,a){var s=this;a=a||{},a.content=t||"";var o=new Vn(this,a);return this.addChild(o),o.on("dispose",function(){s.removeChild(o)}),o.open(),o},r.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<Hu.length;s++){var o=Hu[s],l=this.breakpoints_[o];if(a<=l){if(t===o)return;t&&this.removeClass(Xs[t]),this.addClass(Xs[o]),this.breakpoint_=o;break}}},r.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},r.breakpoints=function(t){return t===void 0?Ye(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Ye({},AP,t),this.updateCurrentBreakpoint_(),Ye(this.breakpoints_))},r.responsive=function(t){if(t===void 0)return this.responsive_;t=Boolean(t);var a=this.responsive_;if(t!==a)return this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return Xs[this.breakpoint_]||""},r.loadMedia=function(t,a){var s=this;if(!(!t||typeof t!="object")){this.reset(),this.cache_.media=He(t);var o=this.cache_.media,l=o.artwork,u=o.poster,d=o.src,c=o.textTracks;!l&&u&&(this.cache_.media.artwork=[{src:u,type:yo(u)}]),d&&this.src(d),u&&this.poster(u),Array.isArray(c)&&c.forEach(function(h){return s.addRemoteTextTrack(h,!1)}),this.ready(a)}},r.getMedia=function(){if(!this.cache_.media){var t=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),o={src:a,textTracks:s};return t&&(o.poster=t,o.artwork=[{src:o.poster,type:yo(o.poster)}]),o}return He(this.cache_.media)},e.getTagSettings=function(t){var a={sources:[],tracks:[]},s=Hi(t),o=s["data-setup"];if(Fr(t,"vjs-fill")&&(s.fill=!0),Fr(t,"vjs-fluid")&&(s.fluid=!0),o!==null){var l=ox(o||"{}"),u=l[0],d=l[1];u&&Pe.error(u),Ye(s,d)}if(Ye(a,s),t.hasChildNodes())for(var c=t.childNodes,h=0,g=c.length;h<g;h++){var y=c[h],_=y.nodeName.toLowerCase();_==="source"?a.sources.push(Hi(y)):_==="track"&&a.tracks.push(Hi(y))}return a},r.flexNotSupported_=function(){var t=ie.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},r.debug=function(t){if(t===void 0)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(t){if(t===void 0)return this.cache_.playbackRates;Array.isArray(t)&&t.every(function(a){return typeof a=="number"})&&(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))},e}(ee);Pt.names.forEach(function(i){var e=Pt[i];it.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});it.prototype.crossorigin=it.prototype.crossOrigin;it.players={};var aa=P.navigator;it.prototype.options_={techOrder:Fe.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:aa&&(aa.languages&&aa.languages[0]||aa.userLanguage||aa.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(i){it.prototype[i]=function(){return this.techGet_(i)}});Uv.forEach(function(i){it.prototype["handleTech"+Ze(i)+"_"]=function(){return this.trigger(i)}});ee.registerComponent("Player",it);var bo="plugin",mn="activePlugins_",an={},So=function(e){return an.hasOwnProperty(e)},Ks=function(e){return So(e)?an[e]:void 0},jv=function(e,r){e[mn]=e[mn]||{},e[mn][r]=!0},xo=function(e,r,n){var t=(n?"before":"")+"pluginsetup";e.trigger(t,r),e.trigger(t+":"+r.name,r)},kP=function(e,r){var n=function(){xo(this,{name:e,plugin:r,instance:null},!0);var a=r.apply(this,arguments);return jv(this,e),xo(this,{name:e,plugin:r,instance:a}),a};return Object.keys(r).forEach(function(t){n[t]=r[t]}),n},np=function(e,r){return r.prototype.name=e,function(){xo(this,{name:e,plugin:r,instance:null},!0);for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];var s=Ta(r,[this].concat(t));return this[e]=function(){return s},xo(this,s.getEventHash()),s}},Ri=function(){function i(r){if(this.constructor===i)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=r,this.log||(this.log=this.player.log.createLogger(this.name)),ic(this),delete this.trigger,lv(this,this.constructor.defaultState),jv(r,this.name),this.dispose=this.dispose.bind(this),r.on("dispose",this.dispose)}var e=i.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(n){return n===void 0&&(n={}),n.name=this.name,n.plugin=this.constructor,n.instance=this,n},e.trigger=function(n,t){return t===void 0&&(t={}),Hn(this.eventBusEl_,n,this.getEventHash(t))},e.handleStateChanged=function(n){},e.dispose=function(){var n=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[mn][n]=!1,this.player=this.state=null,t[n]=np(n,an[n])},i.isBasic=function(n){var t=typeof n=="string"?Ks(n):n;return typeof t=="function"&&!i.prototype.isPrototypeOf(t.prototype)},i.registerPlugin=function(n,t){if(typeof n!="string")throw new Error('Illegal plugin name, "'+n+'", must be a string, was '+typeof n+".");if(So(n))Pe.warn('A plugin named "'+n+'" already exists. You may want to avoid re-registering plugins!');else if(it.prototype.hasOwnProperty(n))throw new Error('Illegal plugin name, "'+n+'", cannot share a name with an existing player method!');if(typeof t!="function")throw new Error('Illegal plugin for "'+n+'", must be a function, was '+typeof t+".");return an[n]=t,n!==bo&&(i.isBasic(t)?it.prototype[n]=kP(n,t):it.prototype[n]=np(n,t)),t},i.deregisterPlugin=function(n){if(n===bo)throw new Error("Cannot de-register base plugin.");So(n)&&(delete an[n],delete it.prototype[n])},i.getPlugins=function(n){n===void 0&&(n=Object.keys(an));var t;return n.forEach(function(a){var s=Ks(a);s&&(t=t||{},t[a]=s)}),t},i.getPluginVersion=function(n){var t=Ks(n);return t&&t.VERSION||""},i}();Ri.getPlugin=Ks;Ri.BASE_PLUGIN_NAME=bo;Ri.registerPlugin(bo,Ri);it.prototype.usingPlugin=function(i){return!!this[mn]&&this[mn][i]===!0};it.prototype.hasPlugin=function(i){return!!So(i)};var ap=!1,OP=function(e,r){r===void 0&&(r={}),ap||(Pe.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),ap=!0);var n=function(){e.apply(this,arguments)},t={};typeof r=="object"?(r.constructor!==Object.prototype.constructor&&(n=r.constructor),t=r):typeof r=="function"&&(n=r),Qx(n,e),e&&(n.super_=e);for(var a in t)t.hasOwnProperty(a)&&(n.prototype[a]=t[a]);return n},Hv=function(e){return e.indexOf("#")===0?e.slice(1):e};function N(i,e,r){var n=N.getPlayer(i);if(n)return e&&Pe.warn('Player "'+i+'" is already initialised. Options will not be applied.'),r&&n.ready(r),n;var t=typeof i=="string"?pr("#"+Hv(i)):i;if(!jn(t))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!t.ownerDocument.defaultView||!t.ownerDocument.body.contains(t))&&Pe.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(t.parentNode&&t.parentNode.hasAttribute("data-vjs-player")?t.parentNode:t).cloneNode(!0)),hr("beforesetup").forEach(function(s){var o=s(t,He(e));if(!Qi(o)||Array.isArray(o)){Pe.error("please return an object in beforesetup hooks");return}e=He(e,o)});var a=ee.getComponent("Player");return n=new a(t,e,r),hr("setup").forEach(function(s){return s(n)}),n}N.hooks_=Vi;N.hooks=hr;N.hook=nw;N.hookOnce=aw;N.removeHook=Lg;if(P.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Un()){var Fs=pr(".vjs-styles-defaults");if(!Fs){Fs=iv("vjs-styles-defaults");var iu=pr("head");iu&&iu.insertBefore(Fs,iu.firstChild),rv(Fs,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Ru(1,N);N.VERSION=Dg;N.options=it.prototype.options_;N.getPlayers=function(){return it.players};N.getPlayer=function(i){var e=it.players,r;if(typeof i=="string"){var n=Hv(i),t=e[n];if(t)return t;r=pr("#"+n)}else r=i;if(jn(r)){var a=r,s=a.player,o=a.playerId;if(s||e[o])return s||e[o]}};N.getAllPlayers=function(){return Object.keys(it.players).map(function(i){return it.players[i]}).filter(Boolean)};N.players=it.players;N.getComponent=ee.getComponent;N.registerComponent=function(i,e){Fe.isTech(e)&&Pe.warn("The "+i+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ee.registerComponent.call(ee,i,e)};N.getTech=Fe.getTech;N.registerTech=Fe.registerTech;N.use=Hw;Object.defineProperty(N,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(N.middleware,"TERMINATOR",{value:vo,writeable:!1,enumerable:!0});N.browser=cw;N.TOUCH_ENABLED=An;N.extend=OP;N.mergeOptions=He;N.bind=Ve;N.registerPlugin=Ri.registerPlugin;N.deregisterPlugin=Ri.deregisterPlugin;N.plugin=function(i,e){return Pe.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ri.registerPlugin(i,e)};N.getPlugins=Ri.getPlugins;N.getPlugin=Ri.getPlugin;N.getPluginVersion=Ri.getPluginVersion;N.addLanguage=function(i,e){var r;return i=(""+i).toLowerCase(),N.options.languages=He(N.options.languages,(r={},r[i]=e,r)),N.options.languages[i]};N.log=Pe;N.createLogger=Rg;N.createTimeRange=N.createTimeRanges=Br;N.formatTime=Mn;N.setFormatTime=sP;N.resetFormatTime=oP;N.parseUrl=nc;N.isCrossOrigin=sl;N.EventTarget=lt;N.on=Zt;N.one=nl;N.off=_t;N.trigger=Hn;N.xhr=Da;N.TextTrack=Qa;N.AudioTrack=fv;N.VideoTrack=hv;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(i){N[i]=function(){return Pe.warn("videojs."+i+"() is deprecated; use videojs.dom."+i+"() instead"),ev[i].apply(null,arguments)}});N.computedStyle=Ua;N.dom=ev;N.url=Fw;N.defineLazyProperty=xc;N.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.0 @license Apache-2.0 */var ui=$o,Eo=function(e,r,n){return e&&n&&n.responseURL&&r!==n.responseURL?n.responseURL:r},_i=function(e){return N.log.debug?N.log.debug.bind(N,"VHS:",e+" >"):function(){}},mr=1/30,Ai=mr*3,Vv=function(e,r){var n=[],t;if(e&&e.length)for(t=0;t<e.length;t++)r(e.start(t),e.end(t))&&n.push([e.start(t),e.end(t)]);return N.createTimeRanges(n)},sn=function(e,r){return Vv(e,function(n,t){return n-Ai<=r&&t+Ai>=r})},Bs=function(e,r){return Vv(e,function(n){return n-mr>=r})},DP=function(e){if(e.length<2)return N.createTimeRanges();for(var r=[],n=1;n<e.length;n++){var t=e.end(n-1),a=e.start(n);r.push([t,a])}return N.createTimeRanges(r)},LP=function(e,r){var n=null,t=null,a=0,s=[],o=[];if(!e||!e.length||!r||!r.length)return N.createTimeRange();for(var l=e.length;l--;)s.push({time:e.start(l),type:"start"}),s.push({time:e.end(l),type:"end"});for(l=r.length;l--;)s.push({time:r.start(l),type:"start"}),s.push({time:r.end(l),type:"end"});for(s.sort(function(u,d){return u.time-d.time}),l=0;l<s.length;l++)s[l].type==="start"?(a++,a===2&&(n=s[l].time)):s[l].type==="end"&&(a--,a===1&&(t=s[l].time)),n!==null&&t!==null&&(o.push([n,t]),n=null,t=null);return N.createTimeRanges(o)},zv=function(e){var r=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)r.push(e.start(n)+" => "+e.end(n));return r.join(", ")},MP=function(e,r,n){n===void 0&&(n=1);var t=e.length?e.end(e.length-1):0;return(t-r)/n},Lr=function(e){for(var r=[],n=0;n<e.length;n++)r.push({start:e.start(n),end:e.end(n)});return r},RP=function(e,r){if(e===r)return!1;if(!e&&r||!r&&e||e.length!==r.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==r.start(n)||e.end(n)!==r.end(n))return!0;return!1},sp=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},Ec=function(e,r){var n=0;if(!e||!e.length)return n;for(var t=0;t<e.length;t++){var a=e.start(t),s=e.end(t);if(!(r>s)){if(r>a&&r<=s){n+=s-r;continue}n+=s-a}}return n},op=N.createTimeRange,Cc=function(e,r){if(!r.preload)return r.duration;var n=0;return(r.parts||[]).forEach(function(t){n+=t.duration}),(r.preloadHints||[]).forEach(function(t){t.type==="PART"&&(n+=e.partTargetDuration)}),n},Vu=function(e){return(e.segments||[]).reduce(function(r,n,t){return n.parts?n.parts.forEach(function(a,s){r.push({duration:a.duration,segmentIndex:t,partIndex:s,part:a,segment:n})}):r.push({duration:n.duration,segmentIndex:t,partIndex:null,segment:n,part:null}),r},[])},Wv=function(e){var r=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return r&&r.parts||[]},Gv=function(e){var r=e.preloadSegment;if(r){var n=r.parts,t=r.preloadHints,a=(t||[]).reduce(function(s,o){return s+(o.type==="PART"?1:0)},0);return a+=n&&n.length?n.length:0,a}},$v=function(e,r){if(r.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=Wv(r).length>0;return n&&r.serverControl&&r.serverControl.partHoldBack?r.serverControl.partHoldBack:n&&r.partTargetDuration?r.partTargetDuration*3:r.serverControl&&r.serverControl.holdBack?r.serverControl.holdBack:r.targetDuration?r.targetDuration*3:0},NP=function(e,r){var n=0,t=r-e.mediaSequence,a=e.segments[t];if(a){if(typeof a.start<"u")return{result:a.start,precise:!0};if(typeof a.end<"u")return{result:a.end-a.duration,precise:!0}}for(;t--;){if(a=e.segments[t],typeof a.end<"u")return{result:n+a.end,precise:!0};if(n+=Cc(e,a),typeof a.start<"u")return{result:n+a.start,precise:!0}}return{result:n,precise:!1}},FP=function(e,r){for(var n=0,t,a=r-e.mediaSequence;a<e.segments.length;a++){if(t=e.segments[a],typeof t.start<"u")return{result:t.start-n,precise:!0};if(n+=Cc(e,t),typeof t.end<"u")return{result:t.end-n,precise:!0}}return{result:-1,precise:!1}},qv=function(e,r,n){if(typeof r>"u"&&(r=e.mediaSequence+e.segments.length),r<e.mediaSequence)return 0;var t=NP(e,r);if(t.precise)return t.result;var a=FP(e,r);return a.precise?a.result:t.result+n},Xv=function(e,r,n){if(!e)return 0;if(typeof n!="number"&&(n=0),typeof r>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return P.Infinity}return qv(e,r,n)},Sa=function(e){var r=e.defaultDuration,n=e.durationList,t=e.startIndex,a=e.endIndex,s=0;if(t>a){var o=[a,t];t=o[0],a=o[1]}if(t<0){for(var l=t;l<Math.min(0,a);l++)s+=r;t=0}for(var u=t;u<a;u++)s+=n[u].duration;return s},Kv=function(e,r,n,t){if(!e||!e.segments)return null;if(e.endList)return Xv(e);if(r===null)return null;r=r||0;var a=qv(e,e.mediaSequence+e.segments.length,r);return n&&(t=typeof t=="number"?t:$v(null,e),a-=t),Math.max(0,a)},BP=function(e,r,n){var t=!0,a=r||0,s=Kv(e,r,t,n);return s===null?op():op(a,s)},UP=function(e){for(var r=e.playlist,n=e.currentTime,t=e.startingSegmentIndex,a=e.startingPartIndex,s=e.startTime,o=e.experimentalExactManifestTimings,l=n-s,u=Vu(r),d=0,c=0;c<u.length;c++){var h=u[c];if(t===h.segmentIndex&&!(typeof a=="number"&&typeof h.partIndex=="number"&&a!==h.partIndex)){d=c;break}}if(l<0){if(d>0)for(var g=d-1;g>=0;g--){var y=u[g];if(l+=y.duration,o){if(l<0)continue}else if(l+mr<=0)continue;return{partIndex:y.partIndex,segmentIndex:y.segmentIndex,startTime:s-Sa({defaultDuration:r.targetDuration,durationList:u,startIndex:d,endIndex:g})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:n}}if(d<0){for(var _=d;_<0;_++)if(l-=r.targetDuration,l<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:n};d=0}for(var b=d;b<u.length;b++){var E=u[b];if(l-=E.duration,o){if(l>0)continue}else if(l-mr>=0)continue;return{partIndex:E.partIndex,segmentIndex:E.segmentIndex,startTime:s+Sa({defaultDuration:r.targetDuration,durationList:u,startIndex:d,endIndex:b})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:n}},Yv=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},wc=function(e){return e.excludeUntil&&e.excludeUntil===1/0},dl=function(e){var r=Yv(e);return!e.disabled&&!r},jP=function(e){return e.disabled},HP=function(e){for(var r=0;r<e.segments.length;r++)if(e.segments[r].key)return!0;return!1},Qv=function(e,r){return r.attributes&&r.attributes[e]},VP=function(e,r,n,t){if(t===void 0&&(t=0),!Qv("BANDWIDTH",n))return NaN;var a=e*n.attributes.BANDWIDTH;return(a-t*8)/r},zu=function(e,r){if(e.playlists.length===1)return!0;var n=r.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(t){return dl(t)?(t.attributes.BANDWIDTH||0)<n:!1}).length===0},Pc=function(e,r){return!e&&!r||!e&&r||e&&!r?!1:!!(e===r||e.id&&r.id&&e.id===r.id||e.resolvedUri&&r.resolvedUri&&e.resolvedUri===r.resolvedUri||e.uri&&r.uri&&e.uri===r.uri)},lp=function(e,r){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},t=!1;for(var a in n){for(var s in n[a])if(t=r(n[a][s]),t)break;if(t)break}return!!t},es=function(e){if(!e||!e.playlists||!e.playlists.length){var r=lp(e,function(s){return s.playlists&&s.playlists.length||s.uri});return r}for(var n=function(o){var l=e.playlists[o],u=l.attributes&&l.attributes.CODECS;if(u&&u.split(",").every(function(c){return Vm(c)}))return"continue";var d=lp(e,function(c){return Pc(l,c)});return d?"continue":{v:!1}},t=0;t<e.playlists.length;t++){var a=n(t);if(a!=="continue"&&typeof a=="object")return a.v}return!0},jt={liveEdgeDelay:$v,duration:Xv,seekable:BP,getMediaInfoForTime:UP,isEnabled:dl,isDisabled:jP,isBlacklisted:Yv,isIncompatible:wc,playlistEnd:Kv,isAes:HP,hasAttribute:Qv,estimateSegmentRequestTime:VP,isLowestEnabledRendition:zu,isAudioOnly:es,playlistMatch:Pc,segmentDurationWithParts:Cc},Jv=N.log,Ic=function(e,r){return e+"-"+r},zP=function(e){var r=e.onwarn,n=e.oninfo,t=e.manifestString,a=e.customTagParsers,s=a===void 0?[]:a,o=e.customTagMappers,l=o===void 0?[]:o,u=e.experimentalLLHLS,d=new aE;r&&d.on("warn",r),n&&d.on("info",n),s.forEach(function(_){return d.addParser(_)}),l.forEach(function(_){return d.addTagMapper(_)}),d.push(t),d.end();var c=d.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(_){c.hasOwnProperty(_)&&delete c[_]}),c.segments&&c.segments.forEach(function(_){["parts","preloadHints"].forEach(function(b){_.hasOwnProperty(b)&&delete _[b]})})),!c.targetDuration){var h=10;c.segments&&c.segments.length&&(h=c.segments.reduce(function(_,b){return Math.max(_,b.duration)},0)),r&&r("manifest has no targetDuration defaulting to "+h),c.targetDuration=h}var g=Wv(c);if(g.length&&!c.partTargetDuration){var y=g.reduce(function(_,b){return Math.max(_,b.duration)},0);r&&(r("manifest has no partTargetDuration defaulting to "+y),Jv.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),c.partTargetDuration=y}return c},ts=function(e,r){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(n){if(e.mediaGroups[n])for(var t in e.mediaGroups[n])for(var a in e.mediaGroups[n][t]){var s=e.mediaGroups[n][t][a];r(s,n,t,a)}})},Zv=function(e){var r=e.playlist,n=e.uri,t=e.id;r.id=t,r.playlistErrors_=0,n&&(r.uri=n),r.attributes=r.attributes||{}},WP=function(e){for(var r=e.playlists.length;r--;){var n=e.playlists[r];Zv({playlist:n,id:Ic(r,n.uri)}),n.resolvedUri=ui(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||Jv.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},GP=function(e){ts(e,function(r){r.uri&&(r.resolvedUri=ui(e.uri,r.uri))})},$P=function(e,r){var n=Ic(0,r),t={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:P.location.href,resolvedUri:P.location.href,playlists:[{uri:r,id:n,resolvedUri:r,attributes:{}}]};return t.playlists[n]=t.playlists[0],t.playlists[r]=t.playlists[0],t},e0=function(e,r){e.uri=r;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var t="placeholder-uri-"+n;e.playlists[n].uri=t}var a=es(e);ts(e,function(s,o,l,u){var d="placeholder-uri-"+o+"-"+l+"-"+u;if(!s.playlists||!s.playlists.length){if(a&&o==="AUDIO"&&!s.uri)for(var c=0;c<e.playlists.length;c++){var h=e.playlists[c];if(h.attributes&&h.attributes.AUDIO&&h.attributes.AUDIO===l)return}s.playlists=[ai({},s)]}s.playlists.forEach(function(g,y){var _=Ic(y,d);g.uri?g.resolvedUri=g.resolvedUri||ui(e.uri,g.uri):(g.uri=y===0?d:_,g.resolvedUri=g.uri),g.id=g.id||_,g.attributes=g.attributes||{},e.playlists[g.id]=g,e.playlists[g.uri]=g})}),WP(e),GP(e)},Co=N.mergeOptions,qP=N.EventTarget,XP=function(e,r){if(r.endList||!r.serverControl)return e;var n={};if(r.serverControl.canBlockReload){var t=r.preloadSegment,a=r.mediaSequence+r.segments.length;if(t){var s=t.parts||[],o=Gv(r)-1;o>-1&&o!==s.length-1&&(n._HLS_part=o),(o>-1||s.length)&&a--}n._HLS_msn=a}if(r.serverControl&&r.serverControl.canSkipUntil&&(n._HLS_skip=r.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var l=new P.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(u){n.hasOwnProperty(u)&&l.searchParams.set(u,n[u])}),e=l.toString()}return e},KP=function(e,r){if(!e)return r;var n=Co(e,r);if(e.preloadHints&&!r.preloadHints&&delete n.preloadHints,e.parts&&!r.parts)delete n.parts;else if(e.parts&&r.parts)for(var t=0;t<r.parts.length;t++)e.parts&&e.parts[t]&&(n.parts[t]=Co(e.parts[t],r.parts[t]));return!e.skipped&&r.skipped&&(n.skipped=!1),e.preload&&!r.preload&&(n.preload=!1),n},YP=function(e,r,n){var t=e.slice(),a=r.slice();n=n||0;for(var s=[],o,l=0;l<a.length;l++){var u=t[l+n],d=a[l];u?(o=u.map||o,s.push(KP(u,d))):(o&&!d.map&&(d.map=o),s.push(d))}return s},t0=function(e,r){!e.resolvedUri&&e.uri&&(e.resolvedUri=ui(r,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=ui(r,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=ui(r,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=ui(r,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(n){n.resolvedUri||(n.resolvedUri=ui(r,n.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(n){n.resolvedUri||(n.resolvedUri=ui(r,n.uri))})},i0=function(e){var r=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(var t=0;t<n.preloadHints.length;t++)if(n.preloadHints[t].type==="MAP")return r}n.duration=e.targetDuration,n.preload=!0,r.push(n)}return r},r0=function(e,r){return e===r||e.segments&&r.segments&&e.segments.length===r.segments.length&&e.endList===r.endList&&e.mediaSequence===r.mediaSequence&&e.preloadSegment===r.preloadSegment},Wu=function(e,r,n){n===void 0&&(n=r0);var t=Co(e,{}),a=t.playlists[r.id];if(!a||n(a,r))return null;r.segments=i0(r);var s=Co(a,r);if(s.preloadSegment&&!r.preloadSegment&&delete s.preloadSegment,a.segments){if(r.skip){r.segments=r.segments||[];for(var o=0;o<r.skip.skippedSegments;o++)r.segments.unshift({skipped:!0})}s.segments=YP(a.segments,r.segments,r.mediaSequence-a.mediaSequence)}s.segments.forEach(function(u){t0(u,s.resolvedUri)});for(var l=0;l<t.playlists.length;l++)t.playlists[l].id===r.id&&(t.playlists[l]=s);return t.playlists[r.id]=s,t.playlists[r.uri]=s,ts(e,function(u,d,c,h){if(u.playlists)for(var g=0;g<u.playlists.length;g++)r.id===u.playlists[g].id&&(u.playlists[g]=s)}),t},Gu=function(e,r){var n=e.segments||[],t=n[n.length-1],a=t&&t.parts&&t.parts[t.parts.length-1],s=a&&a.duration||t&&t.duration;return r&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},on=function(i){se(e,i);function e(n,t,a){var s;if(a===void 0&&(a={}),s=i.call(this)||this,!n)throw new Error("A non-empty playlist URL or object is required");s.logger_=_i("PlaylistLoader");var o=a,l=o.withCredentials,u=l===void 0?!1:l,d=o.handleManifestRedirects,c=d===void 0?!1:d;s.src=n,s.vhs_=t,s.withCredentials=u,s.handleManifestRedirects=c;var h=t.options_;return s.customTagParsers=h&&h.customTagParsers||[],s.customTagMappers=h&&h.customTagMappers||[],s.experimentalLLHLS=h&&h.experimentalLLHLS||!1,N.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(Se(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var r=e.prototype;return r.handleMediaupdatetimeout_=function(){var t=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=ui(this.master.uri,a.uri);this.experimentalLLHLS&&(s=XP(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(o,l){if(t.request){if(o)return t.playlistRequestError(t.request,t.media(),"HAVE_METADATA");t.haveMetadata({playlistString:t.request.responseText,url:t.media().uri,id:t.media().id})}})}},r.playlistRequestError=function(t,a,s){var o=a.uri,l=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[l],status:t.status,message:"HLS playlist request error at URL: "+o+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},r.parseManifest_=function(t){var a=this,s=t.url,o=t.manifestString;return zP({onwarn:function(u){var d=u.message;return a.logger_("m3u8-parser warn for "+s+": "+d)},oninfo:function(u){var d=u.message;return a.logger_("m3u8-parser info for "+s+": "+d)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},r.haveMetadata=function(t){var a=t.playlistString,s=t.playlistObject,o=t.url,l=t.id;this.request=null,this.state="HAVE_METADATA";var u=s||this.parseManifest_({url:o,manifestString:a});u.lastRequest=Date.now(),Zv({playlist:u,uri:o,id:l});var d=Wu(this.master,u);this.targetDuration=u.partTargetDuration||u.targetDuration,this.pendingMedia_=null,d?(this.master=d,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Gu(this.media(),!!d)),this.trigger("loadedplaylist")},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),P.clearTimeout(this.mediaUpdateTimeout),P.clearTimeout(this.finalRenditionTimeout),this.off()},r.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},r.media=function(t,a){var s=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof t=="string"){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(P.clearTimeout(this.finalRenditionTimeout),a){var o=(t.partTargetDuration||t.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=P.setTimeout(this.media.bind(this,t,!1),o);return}var l=this.state,u=!this.media_||t.id!==this.media_.id,d=this.master.playlists[t.id];if(d&&d.endList||t.endList&&t.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,u&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Gu(t,!0)),!!u){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=t,this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(c,h){if(s.request){if(t.lastRequest=Date.now(),t.resolvedUri=Eo(s.handleManifestRedirects,t.resolvedUri,h),c)return s.playlistRequestError(s.request,t,l);s.haveMetadata({playlistString:h.responseText,url:t.uri,id:t.id}),l==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},r.pause=function(){this.mediaUpdateTimeout&&(P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},r.load=function(t){var a=this;this.mediaUpdateTimeout&&(P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(t){var o=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=P.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},r.updateMediaUpdateTimeout_=function(t){var a=this;this.mediaUpdateTimeout&&(P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=P.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(t)},t))},r.start=function(){var t=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=P.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){t.setupInitialPlaylist(t.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(t.request){if(t.request=null,a)return t.error={status:s.status,message:"HLS playlist request error at URL: "+t.src+".",responseText:s.responseText,code:2},t.state==="HAVE_NOTHING"&&(t.started=!1),t.trigger("error");t.src=Eo(t.handleManifestRedirects,t.src,s);var o=t.parseManifest_({manifestString:s.responseText,url:t.src});t.setupInitialPlaylist(o)}})},r.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},r.setupInitialPlaylist=function(t){if(this.state="HAVE_MASTER",t.playlists){this.master=t,e0(this.master,this.srcUri()),t.playlists.forEach(function(s){s.segments=i0(s),s.segments.forEach(function(o){t0(o,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||P.location.href;this.master=$P(t,a),this.haveMetadata({playlistObject:t,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(qP),QP=N.xhr,JP=N.mergeOptions,$u=function(e,r,n,t){var a=e.responseType==="arraybuffer"?e.response:e.responseText;!r&&a&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=a.byteLength||a.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),r&&r.code==="ETIMEDOUT"&&(e.timedout=!0),!r&&!e.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(r=new Error("XHR Failed with a response of: "+(e&&(a||e.responseText)))),t(r,e)},n0=function(){var e=function r(n,t){n=JP({timeout:45e3},n);var a=r.beforeRequest||N.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(n);s&&(n=s)}var o=N.Vhs.xhr.original===!0?QP:N.Vhs.xhr,l=o(n,function(d,c){return $u(l,d,c,t)}),u=l.abort;return l.abort=function(){return l.aborted=!0,u.apply(l,arguments)},l.uri=n.uri,l.requestTime=Date.now(),l};return e.original=!0,e},ZP=function(e){var r,n=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?r=P.BigInt(e.offset)+P.BigInt(e.length)-P.BigInt(1):r=e.offset+e.length-1,"bytes="+n+"-"+r},qu=function(e){var r={};return e.byterange&&(r.Range=ZP(e.byterange)),r},eI=function(e,r){return e.start(r)+"-"+e.end(r)},tI=function(e,r){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(r%2?" ":"")},iI=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},a0=function(e){var r={};return Object.keys(e).forEach(function(n){var t=e[n];Wm(t)?r[n]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:r[n]=t}),r},wo=function(e){var r=e.byterange||{length:1/0,offset:0};return[r.length,r.offset,e.resolvedUri].join(",")},s0=function(e){return e.resolvedUri},o0=function(e){for(var r=Array.prototype.slice.call(e),n=16,t="",a,s,o=0;o<r.length/n;o++)a=r.slice(o*n,o*n+n).map(tI).join(""),s=r.slice(o*n,o*n+n).map(iI).join(""),t+=a+" "+s+`
`;return t},rI=function(e){var r=e.bytes;return o0(r)},nI=function(e){var r="",n;for(n=0;n<e.length;n++)r+=eI(e,n)+" ";return r},aI=Object.freeze({__proto__:null,createTransferableMessage:a0,initSegmentId:wo,segmentKeyId:s0,hexDump:o0,tagDump:rI,textRanges:nI}),l0=.25,sI=function(e,r){if(!r.dateTimeObject)return null;var n=r.videoTimingInfo.transmuxerPrependedSeconds,t=r.videoTimingInfo.transmuxedPresentationStart,a=t+n,s=e-a;return new Date(r.dateTimeObject.getTime()+s*1e3)},oI=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},lI=function(e,r){var n;try{n=new Date(e)}catch{return null}if(!r||!r.segments||r.segments.length===0)return null;var t=r.segments[0];if(n<t.dateTimeObject)return null;for(var a=0;a<r.segments.length-1;a++){t=r.segments[a];var s=r.segments[a+1].dateTimeObject;if(n<s)break}var o=r.segments[r.segments.length-1],l=o.dateTimeObject,u=o.videoTimingInfo?oI(o.videoTimingInfo):o.duration+o.duration*l0,d=new Date(l.getTime()+u*1e3);return n>d?null:(n>l&&(t=o),{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:jt.duration(r,r.mediaSequence+r.segments.indexOf(t)),type:t.videoTimingInfo?"accurate":"estimate"})},uI=function(e,r){if(!r||!r.segments||r.segments.length===0)return null;for(var n=0,t,a=0;a<r.segments.length&&(t=r.segments[a],n=t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationEnd:n+t.duration,!(e<=n));a++);var s=r.segments[r.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+s.duration*l0)return null;t=s}return{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:n-t.duration,type:t.videoTimingInfo?"accurate":"estimate"}},dI=function(e,r){var n,t;try{n=new Date(e),t=new Date(r)}catch{}var a=n.getTime(),s=t.getTime();return(s-a)/1e3},cI=function(e){if(!e.segments||e.segments.length===0)return!1;for(var r=0;r<e.segments.length;r++){var n=e.segments[r];if(!n.dateTimeObject)return!1}return!0},fI=function(e){var r=e.playlist,n=e.time,t=n===void 0?void 0:n,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!r||t===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=uI(t,r);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:t},l=sI(t,s.segment);return l&&(o.programDateTime=l.toISOString()),a(null,o)},hI=function i(e){var r=e.programTime,n=e.playlist,t=e.retryCount,a=t===void 0?2:t,s=e.seekTo,o=e.pauseAfterSeek,l=o===void 0?!0:o,u=e.tech,d=e.callback;if(!d)throw new Error("seekToProgramTime: callback must be provided");if(typeof r>"u"||!n||!s)return d({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!u.hasStarted_)return d({message:"player must be playing a live stream to start buffering"});if(!cI(n))return d({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var c=lI(r,n);if(!c)return d({message:r+" was not found in the stream"});var h=c.segment,g=dI(h.dateTimeObject,r);if(c.type==="estimate"){if(a===0)return d({message:r+" is not buffered yet. Try again"});s(c.estimatedStart+g),u.one("seeked",function(){i({programTime:r,playlist:n,retryCount:a-1,seekTo:s,pauseAfterSeek:l,tech:u,callback:d})});return}var y=h.start+g,_=function(){return d(null,u.currentTime())};u.one("seeked",_),l&&u.pause(),s(y)},ru=function(e,r){if(e.readyState===4)return r()},pI=function(e,r,n){var t=[],a,s=!1,o=function(h,g,y,_){return g.abort(),s=!0,n(h,g,y,_)},l=function(h,g){if(!s){if(h)return o(h,g,"",t);var y=g.responseText.substring(t&&t.byteLength||0,g.responseText.length);if(t=vE(t,Gm(y,!0)),a=a||fa(t),t.length<10||a&&t.length<a+2)return ru(g,function(){return o(h,g,"",t)});var _=Wd(t);return _==="ts"&&t.length<188?ru(g,function(){return o(h,g,"",t)}):!_&&t.length<376?ru(g,function(){return o(h,g,"",t)}):o(null,g,_,t)}},u={uri:e,beforeSend:function(h){h.overrideMimeType("text/plain; charset=x-user-defined"),h.addEventListener("progress",function(g){return g.total,g.loaded,$u(h,null,{statusCode:h.status},l)})}},d=r(u,function(c,h){return $u(d,c,h,l)});return d},mI=N.EventTarget,u0=N.mergeOptions,up=function(e,r){if(!r0(e,r)||e.sidx&&r.sidx&&(e.sidx.offset!==r.sidx.offset||e.sidx.length!==r.sidx.length))return!1;if(!e.sidx&&r.sidx||e.sidx&&!r.sidx||e.segments&&!r.segments||!e.segments&&r.segments)return!1;if(!e.segments&&!r.segments)return!0;for(var n=0;n<e.segments.length;n++){var t=e.segments[n],a=r.segments[n];if(t.uri!==a.uri)return!1;if(!(!t.byterange&&!a.byterange)){var s=t.byterange,o=a.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}}return!0},gI=function(e){var r=e.masterXml,n=e.srcUrl,t=e.clientOffset,a=e.sidxMapping,s=e.previousManifest,o=NC(r,{manifestUri:n,clientOffset:t,sidxMapping:a,previousManifest:s});return e0(o,n),o},vI=function(e,r,n){for(var t=!0,a=u0(e,{duration:r.duration,minimumUpdatePeriod:r.minimumUpdatePeriod,timelineStarts:r.timelineStarts}),s=0;s<r.playlists.length;s++){var o=r.playlists[s];if(o.sidx){var l=Qo(o.sidx);n&&n[l]&&n[l].sidx&&jd(o,n[l].sidx,o.sidx.resolvedUri)}var u=Wu(a,o,up);u&&(a=u,t=!1)}return ts(r,function(d,c,h,g){if(d.playlists&&d.playlists.length){var y=d.playlists[0].id,_=Wu(a,d.playlists[0],up);_&&(a=_,a.mediaGroups[c][h][g].playlists[0]=a.playlists[y],t=!1)}}),r.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(t=!1),t?null:a},yI=function(e,r){var n=Boolean(!e.map&&!r.map),t=n||Boolean(e.map&&r.map&&e.map.byterange.offset===r.map.byterange.offset&&e.map.byterange.length===r.map.byterange.length);return t&&e.uri===r.uri&&e.byterange.offset===r.byterange.offset&&e.byterange.length===r.byterange.length},dp=function(e,r){var n={};for(var t in e){var a=e[t],s=a.sidx;if(s){var o=Qo(s);if(!r[o])break;var l=r[o].sidxInfo;yI(l,s)&&(n[o]=r[o])}}return n},_I=function(e,r){var n=dp(e.playlists,r),t=n;return ts(e,function(a,s,o,l){if(a.playlists&&a.playlists.length){var u=a.playlists;t=u0(t,dp(u,r))}}),t},Xu=function(i){se(e,i);function e(n,t,a,s){var o;a===void 0&&(a={}),o=i.call(this)||this,o.masterPlaylistLoader_=s||Se(o),s||(o.isMaster_=!0);var l=a,u=l.withCredentials,d=u===void 0?!1:u,c=l.handleManifestRedirects,h=c===void 0?!1:c;if(o.vhs_=t,o.withCredentials=d,o.handleManifestRedirects=h,!n)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=_i("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=n,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=n,o}var r=e.prototype;return r.requestErrored_=function(t,a,s){if(!this.request)return!0;if(this.request=null,t)return this.error=typeof t=="object"&&!(t instanceof Error)?t:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},r.addSidxSegments_=function(t,a,s){var o=this,l=t.sidx&&Qo(t.sidx);if(!t.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=P.setTimeout(function(){return s(!1)},0);return}var u=Eo(this.handleManifestRedirects,t.sidx.resolvedUri),d=function(h,g){if(!o.requestErrored_(h,g,a)){var y=o.masterPlaylistLoader_.sidxMapping_,_;try{_=HC(ve(g.response).subarray(8))}catch(b){o.requestErrored_(b,g,a);return}return y[l]={sidxInfo:t.sidx,sidx:_},jd(t,_,t.sidx.resolvedUri),s(!0)}};this.request=pI(u,this.vhs_.xhr,function(c,h,g,y){if(c)return d(c,h);if(!g||g!=="mp4")return d({status:h.status,message:"Unsupported "+(g||"unknown")+" container type for sidx segment at URL: "+u,response:"",playlist:t,internal:!0,blacklistDuration:1/0,code:2},h);var _=t.sidx.byterange,b=_.offset,E=_.length;if(y.length>=E+b)return d(c,{response:y.subarray(b,b+E),status:h.status,uri:h.uri});o.request=o.vhs_.xhr({uri:u,responseType:"arraybuffer",headers:qu({byterange:t.sidx.byterange})},d)})},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},P.clearTimeout(this.minimumUpdatePeriodTimeout_),P.clearTimeout(this.mediaRequest_),P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},r.hasPendingRequest=function(){return this.request||this.mediaRequest_},r.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},r.media=function(t){var a=this;if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof t=="string"){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var o=!this.media_||t.id!==this.media_.id;if(o&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList){this.state="HAVE_METADATA",this.media_=t,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}o&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,s,function(l){a.haveMetadata({startingState:s,playlist:t})}))},r.haveMetadata=function(t){var a=t.startingState,s=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},r.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(P.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},r.load=function(t){var a=this;P.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(t){var o=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=P.setTimeout(function(){return a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},r.start=function(){var t=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=P.setTimeout(function(){return t.haveMaster_()},0);return}this.requestMaster_(function(a,s){t.haveMaster_(),!t.hasPendingRequest()&&!t.media_&&t.media(t.masterPlaylistLoader_.master.playlists[0])})},r.requestMaster_=function(t){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,o){if(a.requestErrored_(s,o)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var l=o.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?a.masterLoaded_=Date.parse(o.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=Eo(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,o),l){a.handleMaster_(),a.syncClientServerClock_(function(){return t(o,l)});return}return t(o,l)})},r.syncClientServerClock_=function(t){var a=this,s=FC(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),t();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),t();this.request=this.vhs_.xhr({uri:ui(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(o,l){if(a.request){if(o)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),t();var u;s.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?u=a.masterLoaded_:u=Date.parse(l.responseHeaders.date):u=Date.parse(l.responseText),a.masterPlaylistLoader_.clientOffset_=u-Date.now(),t()}})},r.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},r.handleMaster_=function(){this.mediaRequest_=null;var t=this.masterPlaylistLoader_.master,a=gI({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:t});t&&(a=vI(t,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||t;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!t||a&&a.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(a)},r.updateMinimumUpdatePeriodTimeout_=function(){var t=this.masterPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(P.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);var a=t.master&&t.master.minimumUpdatePeriod;if(a===0&&(t.media()?a=t.media().targetDuration*1e3:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},r.createMUPTimeout_=function(t){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=P.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(t)},t)},r.refreshXml_=function(){var t=this;this.requestMaster_(function(a,s){s&&(t.media_&&(t.media_=t.masterPlaylistLoader_.master.playlists[t.media_.id]),t.masterPlaylistLoader_.sidxMapping_=_I(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.sidxMapping_),t.addSidxSegments_(t.media(),t.state,function(o){t.refreshMedia_(t.media().id)}))})},r.refreshMedia_=function(t){var a=this;if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==s[t];if(o?this.media_=s[t]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function u(){a.media().endList||(a.mediaUpdateTimeout=P.setTimeout(function(){a.trigger("mediaupdatetimeout"),u()},Gu(a.media(),Boolean(o))))};l()}this.trigger("loadedplaylist")},e}(mI),at={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},TI=function(e){for(var r=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r.buffer},d0=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},bI=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var r=new BlobBuilder;return r.append(e),URL.createObjectURL(r.getBlob())}},c0=function(e){return function(){var r=bI(e),n=d0(new Worker(r));n.objURL=r;var t=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(r),t.call(this)},n}},f0=function(e){return"var browserWorkerPolyFill = "+d0.toString()+`;
browserWorkerPolyFill(self);
`+e},h0=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},SI=f0(h0(function(){var i=function(){this.init=function(){var f={};this.on=function(m,p){f[m]||(f[m]=[]),f[m]=f[m].concat(p)},this.off=function(m,p){var v;return f[m]?(v=f[m].indexOf(p),f[m]=f[m].slice(),f[m].splice(v,1),v>-1):!1},this.trigger=function(m){var p,v,T,S;if(p=f[m],!!p)if(arguments.length===2)for(T=p.length,v=0;v<T;++v)p[v].call(this,arguments[1]);else{for(S=[],v=arguments.length,v=1;v<arguments.length;++v)S.push(arguments[v]);for(T=p.length,v=0;v<T;++v)p[v].apply(this,S)}},this.dispose=function(){f={}}}};i.prototype.pipe=function(x){return this.on("data",function(f){x.push(f)}),this.on("done",function(f){x.flush(f)}),this.on("partialdone",function(f){x.partialFlush(f)}),this.on("endedtimeline",function(f){x.endTimeline(f)}),this.on("reset",function(f){x.reset(f)}),x},i.prototype.push=function(x){this.trigger("data",x)},i.prototype.flush=function(x){this.trigger("done",x)},i.prototype.partialFlush=function(x){this.trigger("partialdone",x)},i.prototype.endTimeline=function(x){this.trigger("endedtimeline",x)},i.prototype.reset=function(x){this.trigger("reset",x)};var e=i,r=Math.pow(2,32),n=function(f){var m=new DataView(f.buffer,f.byteOffset,f.byteLength),p;return m.getBigUint64?(p=m.getBigUint64(0),p<Number.MAX_SAFE_INTEGER?Number(p):p):m.getUint32(0)*r+m.getUint32(4)},t={getUint64:n,MAX_UINT32:r},a=t.MAX_UINT32,s,o,l,u,d,c,h,g,y,_,b,E,A,I,k,D,j,V,R,U,H,z,G,K,de,Y,W,$,ne,_e,be,$e,he,we,Be,ut;(function(){var x;if(G={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(x in G)G.hasOwnProperty(x)&&(G[x]=[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)]);K=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Y=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),de=new Uint8Array([0,0,0,1]),W=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),$=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ne={video:W,audio:$},$e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),be=new Uint8Array([0,0,0,0,0,0,0,0]),he=new Uint8Array([0,0,0,0,0,0,0,0]),we=he,Be=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ut=he,_e=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(f){var m=[],p=0,v,T,S;for(v=1;v<arguments.length;v++)m.push(arguments[v]);for(v=m.length;v--;)p+=m[v].byteLength;for(T=new Uint8Array(p+8),S=new DataView(T.buffer,T.byteOffset,T.byteLength),S.setUint32(0,T.byteLength),T.set(f,4),v=0,p=8;v<m.length;v++)T.set(m[v],p),p+=m[v].byteLength;return T},o=function(){return s(G.dinf,s(G.dref,$e))},l=function(f){return s(G.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,f.audioobjecttype<<3|f.samplingfrequencyindex>>>1,f.samplingfrequencyindex<<7|f.channelcount<<3,6,1,2]))},u=function(){return s(G.ftyp,K,de,K,Y)},D=function(f){return s(G.hdlr,ne[f])},d=function(f){return s(G.mdat,f)},k=function(f){var m=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,f.duration>>>24&255,f.duration>>>16&255,f.duration>>>8&255,f.duration&255,85,196,0,0]);return f.samplerate&&(m[12]=f.samplerate>>>24&255,m[13]=f.samplerate>>>16&255,m[14]=f.samplerate>>>8&255,m[15]=f.samplerate&255),s(G.mdhd,m)},I=function(f){return s(G.mdia,k(f),D(f.type),h(f))},c=function(f){return s(G.mfhd,new Uint8Array([0,0,0,0,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255]))},h=function(f){return s(G.minf,f.type==="video"?s(G.vmhd,_e):s(G.smhd,be),o(),V(f))},g=function(f,m){for(var p=[],v=m.length;v--;)p[v]=U(m[v]);return s.apply(null,[G.moof,c(f)].concat(p))},y=function(f){for(var m=f.length,p=[];m--;)p[m]=E(f[m]);return s.apply(null,[G.moov,b(4294967295)].concat(p).concat(_(f)))},_=function(f){for(var m=f.length,p=[];m--;)p[m]=H(f[m]);return s.apply(null,[G.mvex].concat(p))},b=function(f){var m=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(G.mvhd,m)},j=function(f){var m=f.samples||[],p=new Uint8Array(4+m.length),v,T;for(T=0;T<m.length;T++)v=m[T].flags,p[T+4]=v.dependsOn<<4|v.isDependedOn<<2|v.hasRedundancy;return s(G.sdtp,p)},V=function(f){return s(G.stbl,R(f),s(G.stts,ut),s(G.stsc,we),s(G.stsz,Be),s(G.stco,he))},function(){var x,f;R=function(p){return s(G.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),p.type==="video"?x(p):f(p))},x=function(p){var v=p.sps||[],T=p.pps||[],S=[],C=[],w,M;for(w=0;w<v.length;w++)S.push((v[w].byteLength&65280)>>>8),S.push(v[w].byteLength&255),S=S.concat(Array.prototype.slice.call(v[w]));for(w=0;w<T.length;w++)C.push((T[w].byteLength&65280)>>>8),C.push(T[w].byteLength&255),C=C.concat(Array.prototype.slice.call(T[w]));if(M=[G.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(p.width&65280)>>8,p.width&255,(p.height&65280)>>8,p.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(G.avcC,new Uint8Array([1,p.profileIdc,p.profileCompatibility,p.levelIdc,255].concat([v.length],S,[T.length],C))),s(G.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],p.sarRatio){var O=p.sarRatio[0],F=p.sarRatio[1];M.push(s(G.pasp,new Uint8Array([(O&4278190080)>>24,(O&16711680)>>16,(O&65280)>>8,O&255,(F&4278190080)>>24,(F&16711680)>>16,(F&65280)>>8,F&255])))}return s.apply(null,M)},f=function(p){return s(G.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(p.channelcount&65280)>>8,p.channelcount&255,(p.samplesize&65280)>>8,p.samplesize&255,0,0,0,0,(p.samplerate&65280)>>8,p.samplerate&255,0,0]),l(p))}}(),A=function(f){var m=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,0,(f.duration&4278190080)>>24,(f.duration&16711680)>>16,(f.duration&65280)>>8,f.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(f.width&65280)>>8,f.width&255,0,0,(f.height&65280)>>8,f.height&255,0,0]);return s(G.tkhd,m)},U=function(f){var m,p,v,T,S,C,w;return m=s(G.tfhd,new Uint8Array([0,0,0,58,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),C=Math.floor(f.baseMediaDecodeTime/a),w=Math.floor(f.baseMediaDecodeTime%a),p=s(G.tfdt,new Uint8Array([1,0,0,0,C>>>24&255,C>>>16&255,C>>>8&255,C&255,w>>>24&255,w>>>16&255,w>>>8&255,w&255])),S=32+20+8+16+8+8,f.type==="audio"?(v=z(f,S),s(G.traf,m,p,v)):(T=j(f),v=z(f,T.length+S),s(G.traf,m,p,v,T))},E=function(f){return f.duration=f.duration||4294967295,s(G.trak,A(f),I(f))},H=function(f){var m=new Uint8Array([0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return f.type!=="video"&&(m[m.length-1]=0),s(G.trex,m)},function(){var x,f,m;m=function(v,T){var S=0,C=0,w=0,M=0;return v.length&&(v[0].duration!==void 0&&(S=1),v[0].size!==void 0&&(C=2),v[0].flags!==void 0&&(w=4),v[0].compositionTimeOffset!==void 0&&(M=8)),[0,0,S|C|w|M,1,(v.length&4278190080)>>>24,(v.length&16711680)>>>16,(v.length&65280)>>>8,v.length&255,(T&4278190080)>>>24,(T&16711680)>>>16,(T&65280)>>>8,T&255]},f=function(v,T){var S,C,w,M,O,F;for(M=v.samples||[],T+=8+12+16*M.length,w=m(M,T),C=new Uint8Array(w.length+M.length*16),C.set(w),S=w.length,F=0;F<M.length;F++)O=M[F],C[S++]=(O.duration&4278190080)>>>24,C[S++]=(O.duration&16711680)>>>16,C[S++]=(O.duration&65280)>>>8,C[S++]=O.duration&255,C[S++]=(O.size&4278190080)>>>24,C[S++]=(O.size&16711680)>>>16,C[S++]=(O.size&65280)>>>8,C[S++]=O.size&255,C[S++]=O.flags.isLeading<<2|O.flags.dependsOn,C[S++]=O.flags.isDependedOn<<6|O.flags.hasRedundancy<<4|O.flags.paddingValue<<1|O.flags.isNonSyncSample,C[S++]=O.flags.degradationPriority&240<<8,C[S++]=O.flags.degradationPriority&15,C[S++]=(O.compositionTimeOffset&4278190080)>>>24,C[S++]=(O.compositionTimeOffset&16711680)>>>16,C[S++]=(O.compositionTimeOffset&65280)>>>8,C[S++]=O.compositionTimeOffset&255;return s(G.trun,C)},x=function(v,T){var S,C,w,M,O,F;for(M=v.samples||[],T+=8+12+8*M.length,w=m(M,T),S=new Uint8Array(w.length+M.length*8),S.set(w),C=w.length,F=0;F<M.length;F++)O=M[F],S[C++]=(O.duration&4278190080)>>>24,S[C++]=(O.duration&16711680)>>>16,S[C++]=(O.duration&65280)>>>8,S[C++]=O.duration&255,S[C++]=(O.size&4278190080)>>>24,S[C++]=(O.size&16711680)>>>16,S[C++]=(O.size&65280)>>>8,S[C++]=O.size&255;return s(G.trun,S)},z=function(v,T){return v.type==="audio"?x(v,T):f(v,T)}}();var qe={ftyp:u,mdat:d,moof:g,moov:y,initSegment:function(f){var m=u(),p=y(f),v;return v=new Uint8Array(m.byteLength+p.byteLength),v.set(m),v.set(p,m.byteLength),v}},Rt=function(f){var m,p,v=[],T=[];for(T.byteLength=0,T.nalCount=0,T.duration=0,v.byteLength=0,m=0;m<f.length;m++)p=f[m],p.nalUnitType==="access_unit_delimiter_rbsp"?(v.length&&(v.duration=p.dts-v.dts,T.byteLength+=v.byteLength,T.nalCount+=v.length,T.duration+=v.duration,T.push(v)),v=[p],v.byteLength=p.data.byteLength,v.pts=p.pts,v.dts=p.dts):(p.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(v.keyFrame=!0),v.duration=p.dts-v.dts,v.byteLength+=p.data.byteLength,v.push(p));return T.length&&(!v.duration||v.duration<=0)&&(v.duration=T[T.length-1].duration),T.byteLength+=v.byteLength,T.nalCount+=v.length,T.duration+=v.duration,T.push(v),T},ei=function(f){var m,p,v=[],T=[];for(v.byteLength=0,v.nalCount=0,v.duration=0,v.pts=f[0].pts,v.dts=f[0].dts,T.byteLength=0,T.nalCount=0,T.duration=0,T.pts=f[0].pts,T.dts=f[0].dts,m=0;m<f.length;m++)p=f[m],p.keyFrame?(v.length&&(T.push(v),T.byteLength+=v.byteLength,T.nalCount+=v.nalCount,T.duration+=v.duration),v=[p],v.nalCount=p.length,v.byteLength=p.byteLength,v.pts=p.pts,v.dts=p.dts,v.duration=p.duration):(v.duration+=p.duration,v.nalCount+=p.length,v.byteLength+=p.byteLength,v.push(p));return T.length&&v.duration<=0&&(v.duration=T[T.length-1].duration),T.byteLength+=v.byteLength,T.nalCount+=v.nalCount,T.duration+=v.duration,T.push(v),T},mt=function(f){var m;return!f[0][0].keyFrame&&f.length>1&&(m=f.shift(),f.byteLength-=m.byteLength,f.nalCount-=m.nalCount,f[0][0].dts=m.dts,f[0][0].pts=m.pts,f[0][0].duration+=m.duration),f},Ti=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},si=function(f,m){var p=Ti();return p.dataOffset=m,p.compositionTimeOffset=f.pts-f.dts,p.duration=f.duration,p.size=4*f.length,p.size+=f.byteLength,f.keyFrame&&(p.flags.dependsOn=2,p.flags.isNonSyncSample=0),p},L=function(f,m){var p,v,T,S,C,w=m||0,M=[];for(p=0;p<f.length;p++)for(S=f[p],v=0;v<S.length;v++)C=S[v],T=si(C,w),w+=T.size,M.push(T);return M},B=function(f){var m,p,v,T,S,C,w=0,M=f.byteLength,O=f.nalCount,F=M+4*O,X=new Uint8Array(F),oe=new DataView(X.buffer);for(m=0;m<f.length;m++)for(T=f[m],p=0;p<T.length;p++)for(S=T[p],v=0;v<S.length;v++)C=S[v],oe.setUint32(w,C.data.byteLength),w+=4,X.set(C.data,w),w+=C.data.byteLength;return X},q=function(f,m){var p,v=m||0,T=[];return p=si(f,v),T.push(p),T},Z=function(f){var m,p,v=0,T=f.byteLength,S=f.length,C=T+4*S,w=new Uint8Array(C),M=new DataView(w.buffer);for(m=0;m<f.length;m++)p=f[m],M.setUint32(v,p.data.byteLength),v+=4,w.set(p.data,v),v+=p.data.byteLength;return w},J={groupNalsIntoFrames:Rt,groupFramesIntoGops:ei,extendFirstKeyFrame:mt,generateSampleTable:L,concatenateNalData:B,generateSampleTableForFrame:q,concatenateNalDataForFrame:Z},re=[33,16,5,32,164,27],ce=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Q=function(f){for(var m=[];f--;)m.push(0);return m},le=function(f){return Object.keys(f).reduce(function(m,p){return m[p]=new Uint8Array(f[p].reduce(function(v,T){return v.concat(T)},[])),m},{})},te,ge=function(){if(!te){var f={96e3:[re,[227,64],Q(154),[56]],88200:[re,[231],Q(170),[56]],64e3:[re,[248,192],Q(240),[56]],48e3:[re,[255,192],Q(268),[55,148,128],Q(54),[112]],44100:[re,[255,192],Q(268),[55,163,128],Q(84),[112]],32e3:[re,[255,192],Q(268),[55,234],Q(226),[112]],24e3:[re,[255,192],Q(268),[55,255,128],Q(268),[111,112],Q(126),[224]],16e3:[re,[255,192],Q(268),[55,255,128],Q(268),[111,255],Q(269),[223,108],Q(195),[1,192]],12e3:[ce,Q(268),[3,127,248],Q(268),[6,255,240],Q(268),[13,255,224],Q(268),[27,253,128],Q(259),[56]],11025:[ce,Q(268),[3,127,248],Q(268),[6,255,240],Q(268),[13,255,224],Q(268),[27,255,192],Q(268),[55,175,128],Q(108),[112]],8e3:[ce,Q(268),[3,121,16],Q(47),[7]]};te=le(f)}return te},pe=9e4,me,Te,Ce,Me,De,Xe,Nt;me=function(f){return f*pe},Te=function(f,m){return f*m},Ce=function(f){return f/pe},Me=function(f,m){return f/m},De=function(f,m){return me(Me(f,m))},Xe=function(f,m){return Te(Ce(f),m)},Nt=function(f,m,p){return Ce(p?f:f-m)};var Ae={ONE_SECOND_IN_TS:pe,secondsToVideoTs:me,secondsToAudioTs:Te,videoTsToSeconds:Ce,audioTsToSeconds:Me,audioTsToVideoTs:De,videoTsToAudioTs:Xe,metadataTsToSeconds:Nt},is=function(f){var m,p,v=0;for(m=0;m<f.length;m++)p=f[m],v+=p.data.byteLength;return v},vr=function(f,m,p,v){var T,S=0,C=0,w=0,M=0,O,F,X;if(m.length&&(T=Ae.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),S=Math.ceil(Ae.ONE_SECOND_IN_TS/(f.samplerate/1024)),p&&v&&(C=T-Math.max(p,v),w=Math.floor(C/S),M=w*S),!(w<1||M>Ae.ONE_SECOND_IN_TS/2))){for(O=ge()[f.samplerate],O||(O=m[0].data),F=0;F<w;F++)X=m[0],m.splice(0,0,{data:O,dts:X.dts-S,pts:X.pts-S});return f.baseMediaDecodeTime-=Math.floor(Ae.videoTsToAudioTs(M,f.samplerate)),M}},rs=function(f,m,p){return m.minSegmentDts>=p?f:(m.minSegmentDts=1/0,f.filter(function(v){return v.dts>=p?(m.minSegmentDts=Math.min(m.minSegmentDts,v.dts),m.minSegmentPts=m.minSegmentDts,!0):!1}))},St=function(f){var m,p,v=[];for(m=0;m<f.length;m++)p=f[m],v.push({size:p.data.byteLength,duration:1024});return v},ti=function(f){var m,p,v=0,T=new Uint8Array(is(f));for(m=0;m<f.length;m++)p=f[m],T.set(p.data,v),v+=p.data.byteLength;return T},yr={prefixWithSilence:vr,trimAdtsFramesByEarliestDts:rs,generateSampleTable:St,concatenateFrameData:ti},U0=Ae.ONE_SECOND_IN_TS,j0=function(f,m){typeof m.pts=="number"&&(f.timelineStartInfo.pts===void 0&&(f.timelineStartInfo.pts=m.pts),f.minSegmentPts===void 0?f.minSegmentPts=m.pts:f.minSegmentPts=Math.min(f.minSegmentPts,m.pts),f.maxSegmentPts===void 0?f.maxSegmentPts=m.pts:f.maxSegmentPts=Math.max(f.maxSegmentPts,m.pts)),typeof m.dts=="number"&&(f.timelineStartInfo.dts===void 0&&(f.timelineStartInfo.dts=m.dts),f.minSegmentDts===void 0?f.minSegmentDts=m.dts:f.minSegmentDts=Math.min(f.minSegmentDts,m.dts),f.maxSegmentDts===void 0?f.maxSegmentDts=m.dts:f.maxSegmentDts=Math.max(f.maxSegmentDts,m.dts))},H0=function(f){delete f.minSegmentDts,delete f.maxSegmentDts,delete f.minSegmentPts,delete f.maxSegmentPts},V0=function(f,m){var p,v,T=f.minSegmentDts;return m||(T-=f.timelineStartInfo.dts),p=f.timelineStartInfo.baseMediaDecodeTime,p+=T,p=Math.max(0,p),f.type==="audio"&&(v=f.samplerate/U0,p*=v,p=Math.floor(p)),p},oi={clearDtsInfo:H0,calculateTrackBaseMediaDecodeTime:V0,collectDtsInfo:j0},Rc=4,z0=128,W0=function(f){for(var m=0,p={payloadType:-1,payloadSize:0},v=0,T=0;m<f.byteLength&&f[m]!==z0;){for(;f[m]===255;)v+=255,m++;for(v+=f[m++];f[m]===255;)T+=255,m++;if(T+=f[m++],!p.payload&&v===Rc){var S=String.fromCharCode(f[m+3],f[m+4],f[m+5],f[m+6]);if(S==="GA94"){p.payloadType=v,p.payloadSize=T,p.payload=f.subarray(m,m+T);break}else p.payload=void 0}m+=T,v=0,T=0}return p},G0=function(f){return f.payload[0]!==181||(f.payload[1]<<8|f.payload[2])!==49||String.fromCharCode(f.payload[3],f.payload[4],f.payload[5],f.payload[6])!=="GA94"||f.payload[7]!==3?null:f.payload.subarray(8,f.payload.length-1)},$0=function(f,m){var p=[],v,T,S,C;if(!(m[0]&64))return p;for(T=m[0]&31,v=0;v<T;v++)S=v*3,C={type:m[S+2]&3,pts:f},m[S+2]&4&&(C.ccData=m[S+3]<<8|m[S+4],p.push(C));return p},q0=function(f){for(var m=f.byteLength,p=[],v=1,T,S;v<m-2;)f[v]===0&&f[v+1]===0&&f[v+2]===3?(p.push(v+2),v+=2):v++;if(p.length===0)return f;T=m-p.length,S=new Uint8Array(T);var C=0;for(v=0;v<T;C++,v++)C===p[0]&&(C++,p.shift()),S[v]=f[C];return S},$n={parseSei:W0,parseUserData:G0,parseCaptionPackets:$0,discardEmulationPreventionBytes:q0,USER_DATA_REGISTERED_ITU_T_T35:Rc},zt=function x(f){f=f||{},x.prototype.init.call(this),this.parse708captions_=typeof f.parse708captions=="boolean"?f.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Ke(0,0),new Ke(0,1),new Ke(1,0),new Ke(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ue({captionServices:f.captionServices})),this.reset(),this.ccStreams_.forEach(function(m){m.on("data",this.trigger.bind(this,"data")),m.on("partialdone",this.trigger.bind(this,"partialdone")),m.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};zt.prototype=new e,zt.prototype.push=function(x){var f,m,p;if(x.nalUnitType==="sei_rbsp"&&(f=$n.parseSei(x.escapedRBSP),!!f.payload&&f.payloadType===$n.USER_DATA_REGISTERED_ITU_T_T35&&(m=$n.parseUserData(f),!!m))){if(x.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(x.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}p=$n.parseCaptionPackets(x.pts,m),this.captionPackets_=this.captionPackets_.concat(p),this.latestDts_!==x.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=x.dts}},zt.prototype.flushCCStreams=function(x){this.ccStreams_.forEach(function(f){return x==="flush"?f.flush():f.partialFlush()},this)},zt.prototype.flushStream=function(x){if(!this.captionPackets_.length){this.flushCCStreams(x);return}this.captionPackets_.forEach(function(f,m){f.presortIndex=m}),this.captionPackets_.sort(function(f,m){return f.pts===m.pts?f.presortIndex-m.presortIndex:f.pts-m.pts}),this.captionPackets_.forEach(function(f){f.type<2?this.dispatchCea608Packet(f):this.dispatchCea708Packet(f)},this),this.captionPackets_.length=0,this.flushCCStreams(x)},zt.prototype.flush=function(){return this.flushStream("flush")},zt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},zt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(x){x.reset()})},zt.prototype.dispatchCea608Packet=function(x){this.setsTextOrXDSActive(x)?this.activeCea608Channel_[x.type]=null:this.setsChannel1Active(x)?this.activeCea608Channel_[x.type]=0:this.setsChannel2Active(x)&&(this.activeCea608Channel_[x.type]=1),this.activeCea608Channel_[x.type]!==null&&this.ccStreams_[(x.type<<1)+this.activeCea608Channel_[x.type]].push(x)},zt.prototype.setsChannel1Active=function(x){return(x.ccData&30720)===4096},zt.prototype.setsChannel2Active=function(x){return(x.ccData&30720)===6144},zt.prototype.setsTextOrXDSActive=function(x){return(x.ccData&28928)===256||(x.ccData&30974)===4138||(x.ccData&30974)===6186},zt.prototype.dispatchCea708Packet=function(x){this.parse708captions_&&this.cc708Stream_.push(x)};var X0={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},K0=function(f){var m=X0[f]||f;return f&4096&&f===m?"":String.fromCharCode(m)},ns=function(f){return 32<=f&&f<=127||160<=f&&f<=255},Ni=function(f){this.windowNum=f,this.reset()};Ni.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Ni.prototype.getText=function(){return this.rows.join(`
`)},Ni.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Ni.prototype.newLine=function(x){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(x),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Ni.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Ni.prototype.addText=function(x){this.rows[this.rowIdx]+=x},Ni.prototype.backspace=function(){if(!this.isEmpty()){var x=this.rows[this.rowIdx];this.rows[this.rowIdx]=x.substr(0,x.length-1)}};var as=function(f,m,p){this.serviceNum=f,this.text="",this.currentWindow=new Ni(-1),this.windows=[],this.stream=p,typeof m=="string"&&this.createTextDecoder(m)};as.prototype.init=function(x,f){this.startPts=x;for(var m=0;m<8;m++)this.windows[m]=new Ni(m),typeof f=="function"&&(this.windows[m].beforeRowOverflow=f)},as.prototype.setCurrentWindow=function(x){this.currentWindow=this.windows[x]},as.prototype.createTextDecoder=function(x){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(x)}catch(f){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+x+" encoding. "+f})}};var Ue=function x(f){f=f||{},x.prototype.init.call(this);var m=this,p=f.captionServices||{},v={},T;Object.keys(p).forEach(function(S){T=p[S],/^SERVICE/.test(S)&&(v[S]=T.encoding)}),this.serviceEncodings=v,this.current708Packet=null,this.services={},this.push=function(S){S.type===3?(m.new708Packet(),m.add708Bytes(S)):(m.current708Packet===null&&m.new708Packet(),m.add708Bytes(S))}};Ue.prototype=new e,Ue.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ue.prototype.add708Bytes=function(x){var f=x.ccData,m=f>>>8,p=f&255;this.current708Packet.ptsVals.push(x.pts),this.current708Packet.data.push(m),this.current708Packet.data.push(p)},Ue.prototype.push708Packet=function(){var x=this.current708Packet,f=x.data,m=null,p=null,v=0,T=f[v++];for(x.seq=T>>6,x.sizeCode=T&63;v<f.length;v++)T=f[v++],m=T>>5,p=T&31,m===7&&p>0&&(T=f[v++],m=T),this.pushServiceBlock(m,v,p),p>0&&(v+=p-1)},Ue.prototype.pushServiceBlock=function(x,f,m){var p,v=f,T=this.current708Packet.data,S=this.services[x];for(S||(S=this.initService(x,v));v<f+m&&v<T.length;v++)p=T[v],ns(p)?v=this.handleText(v,S):p===24?v=this.multiByteCharacter(v,S):p===16?v=this.extendedCommands(v,S):128<=p&&p<=135?v=this.setCurrentWindow(v,S):152<=p&&p<=159?v=this.defineWindow(v,S):p===136?v=this.clearWindows(v,S):p===140?v=this.deleteWindows(v,S):p===137?v=this.displayWindows(v,S):p===138?v=this.hideWindows(v,S):p===139?v=this.toggleWindows(v,S):p===151?v=this.setWindowAttributes(v,S):p===144?v=this.setPenAttributes(v,S):p===145?v=this.setPenColor(v,S):p===146?v=this.setPenLocation(v,S):p===143?S=this.reset(v,S):p===8?S.currentWindow.backspace():p===12?S.currentWindow.clearText():p===13?S.currentWindow.pendingNewLine=!0:p===14?S.currentWindow.clearText():p===141&&v++},Ue.prototype.extendedCommands=function(x,f){var m=this.current708Packet.data,p=m[++x];return ns(p)&&(x=this.handleText(x,f,{isExtended:!0})),x},Ue.prototype.getPts=function(x){return this.current708Packet.ptsVals[Math.floor(x/2)]},Ue.prototype.initService=function(x,f){var p="SERVICE"+x,m=this,p,v;return p in this.serviceEncodings&&(v=this.serviceEncodings[p]),this.services[x]=new as(x,v,m),this.services[x].init(this.getPts(f),function(T){m.flushDisplayed(T,m.services[x])}),this.services[x]},Ue.prototype.handleText=function(x,f,m){var p=m&&m.isExtended,v=m&&m.isMultiByte,T=this.current708Packet.data,S=p?4096:0,C=T[x],w=T[x+1],M=f.currentWindow,O,F;return f.textDecoder_&&!p?(v?(F=[C,w],x++):F=[C],O=f.textDecoder_.decode(new Uint8Array(F))):O=K0(S|C),M.pendingNewLine&&!M.isEmpty()&&M.newLine(this.getPts(x)),M.pendingNewLine=!1,M.addText(O),x},Ue.prototype.multiByteCharacter=function(x,f){var m=this.current708Packet.data,p=m[x+1],v=m[x+2];return ns(p)&&ns(v)&&(x=this.handleText(++x,f,{isMultiByte:!0})),x},Ue.prototype.setCurrentWindow=function(x,f){var m=this.current708Packet.data,p=m[x],v=p&7;return f.setCurrentWindow(v),x},Ue.prototype.defineWindow=function(x,f){var m=this.current708Packet.data,p=m[x],v=p&7;f.setCurrentWindow(v);var T=f.currentWindow;return p=m[++x],T.visible=(p&32)>>5,T.rowLock=(p&16)>>4,T.columnLock=(p&8)>>3,T.priority=p&7,p=m[++x],T.relativePositioning=(p&128)>>7,T.anchorVertical=p&127,p=m[++x],T.anchorHorizontal=p,p=m[++x],T.anchorPoint=(p&240)>>4,T.rowCount=p&15,p=m[++x],T.columnCount=p&63,p=m[++x],T.windowStyle=(p&56)>>3,T.penStyle=p&7,T.virtualRowCount=T.rowCount+1,x},Ue.prototype.setWindowAttributes=function(x,f){var m=this.current708Packet.data,p=m[x],v=f.currentWindow.winAttr;return p=m[++x],v.fillOpacity=(p&192)>>6,v.fillRed=(p&48)>>4,v.fillGreen=(p&12)>>2,v.fillBlue=p&3,p=m[++x],v.borderType=(p&192)>>6,v.borderRed=(p&48)>>4,v.borderGreen=(p&12)>>2,v.borderBlue=p&3,p=m[++x],v.borderType+=(p&128)>>5,v.wordWrap=(p&64)>>6,v.printDirection=(p&48)>>4,v.scrollDirection=(p&12)>>2,v.justify=p&3,p=m[++x],v.effectSpeed=(p&240)>>4,v.effectDirection=(p&12)>>2,v.displayEffect=p&3,x},Ue.prototype.flushDisplayed=function(x,f){for(var m=[],p=0;p<8;p++)f.windows[p].visible&&!f.windows[p].isEmpty()&&m.push(f.windows[p].getText());f.endPts=x,f.text=m.join(`

`),this.pushCaption(f),f.startPts=x},Ue.prototype.pushCaption=function(x){x.text!==""&&(this.trigger("data",{startPts:x.startPts,endPts:x.endPts,text:x.text,stream:"cc708_"+x.serviceNum}),x.text="",x.startPts=x.endPts)},Ue.prototype.displayWindows=function(x,f){var m=this.current708Packet.data,p=m[++x],v=this.getPts(x);this.flushDisplayed(v,f);for(var T=0;T<8;T++)p&1<<T&&(f.windows[T].visible=1);return x},Ue.prototype.hideWindows=function(x,f){var m=this.current708Packet.data,p=m[++x],v=this.getPts(x);this.flushDisplayed(v,f);for(var T=0;T<8;T++)p&1<<T&&(f.windows[T].visible=0);return x},Ue.prototype.toggleWindows=function(x,f){var m=this.current708Packet.data,p=m[++x],v=this.getPts(x);this.flushDisplayed(v,f);for(var T=0;T<8;T++)p&1<<T&&(f.windows[T].visible^=1);return x},Ue.prototype.clearWindows=function(x,f){var m=this.current708Packet.data,p=m[++x],v=this.getPts(x);this.flushDisplayed(v,f);for(var T=0;T<8;T++)p&1<<T&&f.windows[T].clearText();return x},Ue.prototype.deleteWindows=function(x,f){var m=this.current708Packet.data,p=m[++x],v=this.getPts(x);this.flushDisplayed(v,f);for(var T=0;T<8;T++)p&1<<T&&f.windows[T].reset();return x},Ue.prototype.setPenAttributes=function(x,f){var m=this.current708Packet.data,p=m[x],v=f.currentWindow.penAttr;return p=m[++x],v.textTag=(p&240)>>4,v.offset=(p&12)>>2,v.penSize=p&3,p=m[++x],v.italics=(p&128)>>7,v.underline=(p&64)>>6,v.edgeType=(p&56)>>3,v.fontStyle=p&7,x},Ue.prototype.setPenColor=function(x,f){var m=this.current708Packet.data,p=m[x],v=f.currentWindow.penColor;return p=m[++x],v.fgOpacity=(p&192)>>6,v.fgRed=(p&48)>>4,v.fgGreen=(p&12)>>2,v.fgBlue=p&3,p=m[++x],v.bgOpacity=(p&192)>>6,v.bgRed=(p&48)>>4,v.bgGreen=(p&12)>>2,v.bgBlue=p&3,p=m[++x],v.edgeRed=(p&48)>>4,v.edgeGreen=(p&12)>>2,v.edgeBlue=p&3,x},Ue.prototype.setPenLocation=function(x,f){var m=this.current708Packet.data,p=m[x],v=f.currentWindow.penLoc;return f.currentWindow.pendingNewLine=!0,p=m[++x],v.row=p&15,p=m[++x],v.column=p&63,x},Ue.prototype.reset=function(x,f){var m=this.getPts(x);return this.flushDisplayed(m,f),this.initService(f.serviceNum,x)};var Y0={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ss=function(f){return f===null?"":(f=Y0[f]||f,String.fromCharCode(f))},os=14,Q0=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],_r=function(){for(var f=[],m=os+1;m--;)f.push("");return f},Ke=function x(f,m){x.prototype.init.call(this),this.field_=f||0,this.dataChannel_=m||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(p){var v,T,S,C,w;if(v=p.ccData&32639,v===this.lastControlCode_){this.lastControlCode_=null;return}if((v&61440)===4096?this.lastControlCode_=v:v!==this.PADDING_&&(this.lastControlCode_=null),S=v>>>8,C=v&255,v!==this.PADDING_)if(v===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(v===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(p.pts),this.flushDisplayed(p.pts),T=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=T,this.startPts_=p.pts;else if(v===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(p.pts);else if(v===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(p.pts);else if(v===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(p.pts);else if(v===this.CARRIAGE_RETURN_)this.clearFormatting(p.pts),this.flushDisplayed(p.pts),this.shiftRowsUp_(),this.startPts_=p.pts;else if(v===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(v===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(p.pts),this.displayed_=_r();else if(v===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=_r();else if(v===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(p.pts),this.displayed_=_r()),this.mode_="paintOn",this.startPts_=p.pts;else if(this.isSpecialCharacter(S,C))S=(S&3)<<8,w=ss(S|C),this[this.mode_](p.pts,w),this.column_++;else if(this.isExtCharacter(S,C))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),S=(S&3)<<8,w=ss(S|C),this[this.mode_](p.pts,w),this.column_++;else if(this.isMidRowCode(S,C))this.clearFormatting(p.pts),this[this.mode_](p.pts," "),this.column_++,(C&14)===14&&this.addFormatting(p.pts,["i"]),(C&1)===1&&this.addFormatting(p.pts,["u"]);else if(this.isOffsetControlCode(S,C))this.column_+=C&3;else if(this.isPAC(S,C)){var M=Q0.indexOf(v&7968);this.mode_==="rollUp"&&(M-this.rollUpRows_+1<0&&(M=this.rollUpRows_-1),this.setRollUp(p.pts,M)),M!==this.row_&&(this.clearFormatting(p.pts),this.row_=M),C&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(p.pts,["u"]),(v&16)===16&&(this.column_=((v&14)>>1)*4),this.isColorPAC(C)&&(C&14)===14&&this.addFormatting(p.pts,["i"])}else this.isNormalChar(S)&&(C===0&&(C=null),w=ss(S),w+=ss(C),this[this.mode_](p.pts,w),this.column_+=w.length)}};Ke.prototype=new e,Ke.prototype.flushDisplayed=function(x){var f=this.displayed_.map(function(m,p){try{return m.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+p+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");f.length&&this.trigger("data",{startPts:this.startPts_,endPts:x,text:f,stream:this.name_})},Ke.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=_r(),this.nonDisplayed_=_r(),this.lastControlCode_=null,this.column_=0,this.row_=os,this.rollUpRows_=2,this.formatting_=[]},Ke.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Ke.prototype.isSpecialCharacter=function(x,f){return x===this.EXT_&&f>=48&&f<=63},Ke.prototype.isExtCharacter=function(x,f){return(x===this.EXT_+1||x===this.EXT_+2)&&f>=32&&f<=63},Ke.prototype.isMidRowCode=function(x,f){return x===this.EXT_&&f>=32&&f<=47},Ke.prototype.isOffsetControlCode=function(x,f){return x===this.OFFSET_&&f>=33&&f<=35},Ke.prototype.isPAC=function(x,f){return x>=this.BASE_&&x<this.BASE_+8&&f>=64&&f<=127},Ke.prototype.isColorPAC=function(x){return x>=64&&x<=79||x>=96&&x<=127},Ke.prototype.isNormalChar=function(x){return x>=32&&x<=127},Ke.prototype.setRollUp=function(x,f){if(this.mode_!=="rollUp"&&(this.row_=os,this.mode_="rollUp",this.flushDisplayed(x),this.nonDisplayed_=_r(),this.displayed_=_r()),f!==void 0&&f!==this.row_)for(var m=0;m<this.rollUpRows_;m++)this.displayed_[f-m]=this.displayed_[this.row_-m],this.displayed_[this.row_-m]="";f===void 0&&(f=this.row_),this.topRow_=f-this.rollUpRows_+1},Ke.prototype.addFormatting=function(x,f){this.formatting_=this.formatting_.concat(f);var m=f.reduce(function(p,v){return p+"<"+v+">"},"");this[this.mode_](x,m)},Ke.prototype.clearFormatting=function(x){if(this.formatting_.length){var f=this.formatting_.reverse().reduce(function(m,p){return m+"</"+p+">"},"");this.formatting_=[],this[this.mode_](x,f)}},Ke.prototype.popOn=function(x,f){var m=this.nonDisplayed_[this.row_];m+=f,this.nonDisplayed_[this.row_]=m},Ke.prototype.rollUp=function(x,f){var m=this.displayed_[this.row_];m+=f,this.displayed_[this.row_]=m},Ke.prototype.shiftRowsUp_=function(){var x;for(x=0;x<this.topRow_;x++)this.displayed_[x]="";for(x=this.row_+1;x<os+1;x++)this.displayed_[x]="";for(x=this.topRow_;x<this.row_;x++)this.displayed_[x]=this.displayed_[x+1];this.displayed_[this.row_]=""},Ke.prototype.paintOn=function(x,f){var m=this.displayed_[this.row_];m+=f,this.displayed_[this.row_]=m};var ls={CaptionStream:zt,Cea608Stream:Ke,Cea708Stream:Ue},dt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},J0=8589934592,Z0=4294967296,Nc="shared",fl=function(f,m){var p=1;for(f>m&&(p=-1);Math.abs(m-f)>Z0;)f+=p*J0;return f},Fc=function x(f){var m,p;x.prototype.init.call(this),this.type_=f||Nc,this.push=function(v){this.type_!==Nc&&v.type!==this.type_||(p===void 0&&(p=v.dts),v.dts=fl(v.dts,p),v.pts=fl(v.pts,p),m=v.dts,this.trigger("data",v))},this.flush=function(){p=m,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){p=void 0,m=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Fc.prototype=new e;var Bc={TimestampRolloverStream:Fc,handleRollover:fl},Uc=function(f,m,p){var v,T="";for(v=m;v<p;v++)T+="%"+("00"+f[v].toString(16)).slice(-2);return T},us=function(f,m,p){return decodeURIComponent(Uc(f,m,p))},ey=function(f,m,p){return unescape(Uc(f,m,p))},ds=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},jc={TXXX:function(f){var m;if(f.data[0]===3){for(m=1;m<f.data.length;m++)if(f.data[m]===0){f.description=us(f.data,1,m),f.value=us(f.data,m+1,f.data.length).replace(/\0*$/,"");break}f.data=f.value}},WXXX:function(f){var m;if(f.data[0]===3){for(m=1;m<f.data.length;m++)if(f.data[m]===0){f.description=us(f.data,1,m),f.url=us(f.data,m+1,f.data.length);break}}},PRIV:function(f){var m;for(m=0;m<f.data.length;m++)if(f.data[m]===0){f.owner=ey(f.data,0,m);break}f.privateData=f.data.subarray(m+1),f.data=f.privateData}},cs;cs=function(f){var m={descriptor:f&&f.descriptor},p=0,v=[],T=0,S;if(cs.prototype.init.call(this),this.dispatchType=dt.METADATA_STREAM_TYPE.toString(16),m.descriptor)for(S=0;S<m.descriptor.length;S++)this.dispatchType+=("00"+m.descriptor[S].toString(16)).slice(-2);this.push=function(C){var w,M,O,F,X,oe;if(C.type==="timed-metadata"){if(C.dataAlignmentIndicator&&(T=0,v.length=0),v.length===0&&(C.data.length<10||C.data[0]!=="I".charCodeAt(0)||C.data[1]!=="D".charCodeAt(0)||C.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(v.push(C),T+=C.data.byteLength,v.length===1&&(p=ds(C.data.subarray(6,10)),p+=10),!(T<p)){for(w={data:new Uint8Array(p),frames:[],pts:v[0].pts,dts:v[0].dts},X=0;X<p;)w.data.set(v[0].data.subarray(0,p-X),X),X+=v[0].data.byteLength,T-=v[0].data.byteLength,v.shift();M=10,w.data[5]&64&&(M+=4,M+=ds(w.data.subarray(10,14)),p-=ds(w.data.subarray(16,20)));do{if(O=ds(w.data.subarray(M+4,M+8)),O<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(oe=String.fromCharCode(w.data[M],w.data[M+1],w.data[M+2],w.data[M+3]),F={id:oe,data:w.data.subarray(M+10,M+O+10)},F.key=F.id,jc[F.id]&&(jc[F.id](F),F.owner==="com.apple.streaming.transportStreamTimestamp")){var fe=F.data,ae=(fe[3]&1)<<30|fe[4]<<22|fe[5]<<14|fe[6]<<6|fe[7]>>>2;ae*=4,ae+=fe[7]&3,F.timeStamp=ae,w.pts===void 0&&w.dts===void 0&&(w.pts=F.timeStamp,w.dts=F.timeStamp),this.trigger("timestamp",F)}w.frames.push(F),M+=10,M+=O}while(M<p);this.trigger("data",w)}}}},cs.prototype=new e;var ty=cs,iy=Bc.TimestampRolloverStream,fs,qn,hs,Gr=188,hl=71;fs=function(){var f=new Uint8Array(Gr),m=0;fs.prototype.init.call(this),this.push=function(p){var v=0,T=Gr,S;for(m?(S=new Uint8Array(p.byteLength+m),S.set(f.subarray(0,m)),S.set(p,m),m=0):S=p;T<S.byteLength;){if(S[v]===hl&&S[T]===hl){this.trigger("data",S.subarray(v,T)),v+=Gr,T+=Gr;continue}v++,T++}v<S.byteLength&&(f.set(S.subarray(v),0),m=S.byteLength-v)},this.flush=function(){m===Gr&&f[0]===hl&&(this.trigger("data",f),m=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){m=0,this.trigger("reset")}},fs.prototype=new e,qn=function(){var f,m,p,v;qn.prototype.init.call(this),v=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,f=function(S,C){var w=0;C.payloadUnitStartIndicator&&(w+=S[w]+1),C.type==="pat"?m(S.subarray(w),C):p(S.subarray(w),C)},m=function(S,C){C.section_number=S[7],C.last_section_number=S[8],v.pmtPid=(S[10]&31)<<8|S[11],C.pmtPid=v.pmtPid},p=function(S,C){var w,M,O,F;if(S[5]&1){for(v.programMapTable={video:null,audio:null,"timed-metadata":{}},w=(S[1]&15)<<8|S[2],M=3+w-4,O=(S[10]&15)<<8|S[11],F=12+O;F<M;){var X=S[F],oe=(S[F+1]&31)<<8|S[F+2];X===dt.H264_STREAM_TYPE&&v.programMapTable.video===null?v.programMapTable.video=oe:X===dt.ADTS_STREAM_TYPE&&v.programMapTable.audio===null?v.programMapTable.audio=oe:X===dt.METADATA_STREAM_TYPE&&(v.programMapTable["timed-metadata"][oe]=X),F+=((S[F+3]&15)<<8|S[F+4])+5}C.programMapTable=v.programMapTable}},this.push=function(T){var S={},C=4;if(S.payloadUnitStartIndicator=!!(T[1]&64),S.pid=T[1]&31,S.pid<<=8,S.pid|=T[2],(T[3]&48)>>>4>1&&(C+=T[C]+1),S.pid===0)S.type="pat",f(T.subarray(C),S),this.trigger("data",S);else if(S.pid===this.pmtPid)for(S.type="pmt",f(T.subarray(C),S),this.trigger("data",S);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([T,C,S]):this.processPes_(T,C,S)},this.processPes_=function(T,S,C){C.pid===this.programMapTable.video?C.streamType=dt.H264_STREAM_TYPE:C.pid===this.programMapTable.audio?C.streamType=dt.ADTS_STREAM_TYPE:C.streamType=this.programMapTable["timed-metadata"][C.pid],C.type="pes",C.data=T.subarray(S),this.trigger("data",C)}},qn.prototype=new e,qn.STREAM_TYPES={h264:27,adts:15},hs=function(){var f=this,m=!1,p={data:[],size:0},v={data:[],size:0},T={data:[],size:0},S,C=function(O,F){var X,oe=O[0]<<16|O[1]<<8|O[2];F.data=new Uint8Array,oe===1&&(F.packetLength=6+(O[4]<<8|O[5]),F.dataAlignmentIndicator=(O[6]&4)!==0,X=O[7],X&192&&(F.pts=(O[9]&14)<<27|(O[10]&255)<<20|(O[11]&254)<<12|(O[12]&255)<<5|(O[13]&254)>>>3,F.pts*=4,F.pts+=(O[13]&6)>>>1,F.dts=F.pts,X&64&&(F.dts=(O[14]&14)<<27|(O[15]&255)<<20|(O[16]&254)<<12|(O[17]&255)<<5|(O[18]&254)>>>3,F.dts*=4,F.dts+=(O[18]&6)>>>1)),F.data=O.subarray(9+O[8]))},w=function(O,F,X){var oe=new Uint8Array(O.size),fe={type:F},ae=0,ye=0,nt=!1,Et;if(!(!O.data.length||O.size<9)){for(fe.trackId=O.data[0].pid,ae=0;ae<O.data.length;ae++)Et=O.data[ae],oe.set(Et.data,ye),ye+=Et.data.byteLength;C(oe,fe),nt=F==="video"||fe.packetLength<=O.size,(X||nt)&&(O.size=0,O.data.length=0),nt&&f.trigger("data",fe)}};hs.prototype.init.call(this),this.push=function(M){({pat:function(){},pes:function(){var F,X;switch(M.streamType){case dt.H264_STREAM_TYPE:F=p,X="video";break;case dt.ADTS_STREAM_TYPE:F=v,X="audio";break;case dt.METADATA_STREAM_TYPE:F=T,X="timed-metadata";break;default:return}M.payloadUnitStartIndicator&&w(F,X,!0),F.data.push(M),F.size+=M.data.byteLength},pmt:function(){var F={type:"metadata",tracks:[]};S=M.programMapTable,S.video!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.video,codec:"avc",type:"video"}),S.audio!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.audio,codec:"adts",type:"audio"}),m=!0,f.trigger("data",F)}})[M.type]()},this.reset=function(){p.size=0,p.data.length=0,v.size=0,v.data.length=0,this.trigger("reset")},this.flushStreams_=function(){w(p,"video"),w(v,"audio"),w(T,"timed-metadata")},this.flush=function(){if(!m&&S){var M={type:"metadata",tracks:[]};S.video!==null&&M.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.video,codec:"avc",type:"video"}),S.audio!==null&&M.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.audio,codec:"adts",type:"audio"}),f.trigger("data",M)}m=!1,this.flushStreams_(),this.trigger("done")}},hs.prototype=new e;var Hc={PAT_PID:0,MP2T_PACKET_LENGTH:Gr,TransportPacketStream:fs,TransportParseStream:qn,ElementaryStream:hs,TimestampRolloverStream:iy,CaptionStream:ls.CaptionStream,Cea608Stream:ls.Cea608Stream,Cea708Stream:ls.Cea708Stream,MetadataStream:ty};for(var pl in dt)dt.hasOwnProperty(pl)&&(Hc[pl]=dt[pl]);var Fi=Hc,ry=Ae.ONE_SECOND_IN_TS,ps,Vc=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ps=function(f){var m,p=0;ps.prototype.init.call(this),this.skipWarn_=function(v,T){this.trigger("log",{level:"warn",message:"adts skiping bytes "+v+" to "+T+" in frame "+p+" outside syncword"})},this.push=function(v){var T=0,S,C,w,M,O;if(f||(p=0),v.type==="audio"){m&&m.length?(w=m,m=new Uint8Array(w.byteLength+v.data.byteLength),m.set(w),m.set(v.data,w.byteLength)):m=v.data;for(var F;T+7<m.length;){if(m[T]!==255||(m[T+1]&246)!==240){typeof F!="number"&&(F=T),T++;continue}if(typeof F=="number"&&(this.skipWarn_(F,T),F=null),C=(~m[T+1]&1)*2,S=(m[T+3]&3)<<11|m[T+4]<<3|(m[T+5]&224)>>5,M=((m[T+6]&3)+1)*1024,O=M*ry/Vc[(m[T+2]&60)>>>2],m.byteLength-T<S)break;this.trigger("data",{pts:v.pts+p*O,dts:v.dts+p*O,sampleCount:M,audioobjecttype:(m[T+2]>>>6&3)+1,channelcount:(m[T+2]&1)<<2|(m[T+3]&192)>>>6,samplerate:Vc[(m[T+2]&60)>>>2],samplingfrequencyindex:(m[T+2]&60)>>>2,samplesize:16,data:m.subarray(T+7+C,T+S)}),p++,T+=S}typeof F=="number"&&(this.skipWarn_(F,T),F=null),m=m.subarray(T)}},this.flush=function(){p=0,this.trigger("done")},this.reset=function(){m=void 0,this.trigger("reset")},this.endTimeline=function(){m=void 0,this.trigger("endedtimeline")}},ps.prototype=new e;var zc=ps,Wc;Wc=function(f){var m=f.byteLength,p=0,v=0;this.length=function(){return 8*m},this.bitsAvailable=function(){return 8*m+v},this.loadWord=function(){var T=f.byteLength-m,S=new Uint8Array(4),C=Math.min(4,m);if(C===0)throw new Error("no bytes available");S.set(f.subarray(T,T+C)),p=new DataView(S.buffer).getUint32(0),v=C*8,m-=C},this.skipBits=function(T){var S;v>T?(p<<=T,v-=T):(T-=v,S=Math.floor(T/8),T-=S*8,m-=S,this.loadWord(),p<<=T,v-=T)},this.readBits=function(T){var S=Math.min(v,T),C=p>>>32-S;return v-=S,v>0?p<<=S:m>0&&this.loadWord(),S=T-S,S>0?C<<S|this.readBits(S):C},this.skipLeadingZeros=function(){var T;for(T=0;T<v;++T)if(p&2147483648>>>T)return p<<=T,v-=T,T;return this.loadWord(),T+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var T=this.skipLeadingZeros();return this.readBits(T+1)-1},this.readExpGolomb=function(){var T=this.readUnsignedExpGolomb();return 1&T?1+T>>>1:-1*(T>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var ny=Wc,ms,Xn,Gc;Xn=function(){var f=0,m,p;Xn.prototype.init.call(this),this.push=function(v){var T;p?(T=new Uint8Array(p.byteLength+v.data.byteLength),T.set(p),T.set(v.data,p.byteLength),p=T):p=v.data;for(var S=p.byteLength;f<S-3;f++)if(p[f+2]===1){m=f+5;break}for(;m<S;)switch(p[m]){case 0:if(p[m-1]!==0){m+=2;break}else if(p[m-2]!==0){m++;break}f+3!==m-2&&this.trigger("data",p.subarray(f+3,m-2));do m++;while(p[m]!==1&&m<S);f=m-2,m+=3;break;case 1:if(p[m-1]!==0||p[m-2]!==0){m+=3;break}this.trigger("data",p.subarray(f+3,m-2)),f=m-2,m+=3;break;default:m+=3;break}p=p.subarray(f),m-=f,f=0},this.reset=function(){p=null,f=0,this.trigger("reset")},this.flush=function(){p&&p.byteLength>3&&this.trigger("data",p.subarray(f+3)),p=null,f=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Xn.prototype=new e,Gc={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ms=function(){var f=new Xn,m,p,v,T,S,C,w;ms.prototype.init.call(this),m=this,this.push=function(M){M.type==="video"&&(p=M.trackId,v=M.pts,T=M.dts,f.push(M))},f.on("data",function(M){var O={trackId:p,pts:v,dts:T,data:M,nalUnitTypeCode:M[0]&31};switch(O.nalUnitTypeCode){case 5:O.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:O.nalUnitType="sei_rbsp",O.escapedRBSP=S(M.subarray(1));break;case 7:O.nalUnitType="seq_parameter_set_rbsp",O.escapedRBSP=S(M.subarray(1)),O.config=C(O.escapedRBSP);break;case 8:O.nalUnitType="pic_parameter_set_rbsp";break;case 9:O.nalUnitType="access_unit_delimiter_rbsp";break}m.trigger("data",O)}),f.on("done",function(){m.trigger("done")}),f.on("partialdone",function(){m.trigger("partialdone")}),f.on("reset",function(){m.trigger("reset")}),f.on("endedtimeline",function(){m.trigger("endedtimeline")}),this.flush=function(){f.flush()},this.partialFlush=function(){f.partialFlush()},this.reset=function(){f.reset()},this.endTimeline=function(){f.endTimeline()},w=function(O,F){var X=8,oe=8,fe,ae;for(fe=0;fe<O;fe++)oe!==0&&(ae=F.readExpGolomb(),oe=(X+ae+256)%256),X=oe===0?X:oe},S=function(O){for(var F=O.byteLength,X=[],oe=1,fe,ae;oe<F-2;)O[oe]===0&&O[oe+1]===0&&O[oe+2]===3?(X.push(oe+2),oe+=2):oe++;if(X.length===0)return O;fe=F-X.length,ae=new Uint8Array(fe);var ye=0;for(oe=0;oe<fe;ye++,oe++)ye===X[0]&&(ye++,X.shift()),ae[oe]=O[ye];return ae},C=function(O){var F=0,X=0,oe=0,fe=0,ae,ye,nt,Et,xr,Tl,cf,ff,hf,bl,pf,Qe=[1,1],mf,Er;if(ae=new ny(O),ye=ae.readUnsignedByte(),Et=ae.readUnsignedByte(),nt=ae.readUnsignedByte(),ae.skipUnsignedExpGolomb(),Gc[ye]&&(xr=ae.readUnsignedExpGolomb(),xr===3&&ae.skipBits(1),ae.skipUnsignedExpGolomb(),ae.skipUnsignedExpGolomb(),ae.skipBits(1),ae.readBoolean()))for(pf=xr!==3?8:12,Er=0;Er<pf;Er++)ae.readBoolean()&&(Er<6?w(16,ae):w(64,ae));if(ae.skipUnsignedExpGolomb(),Tl=ae.readUnsignedExpGolomb(),Tl===0)ae.readUnsignedExpGolomb();else if(Tl===1)for(ae.skipBits(1),ae.skipExpGolomb(),ae.skipExpGolomb(),cf=ae.readUnsignedExpGolomb(),Er=0;Er<cf;Er++)ae.skipExpGolomb();if(ae.skipUnsignedExpGolomb(),ae.skipBits(1),ff=ae.readUnsignedExpGolomb(),hf=ae.readUnsignedExpGolomb(),bl=ae.readBits(1),bl===0&&ae.skipBits(1),ae.skipBits(1),ae.readBoolean()&&(F=ae.readUnsignedExpGolomb(),X=ae.readUnsignedExpGolomb(),oe=ae.readUnsignedExpGolomb(),fe=ae.readUnsignedExpGolomb()),ae.readBoolean()&&ae.readBoolean()){switch(mf=ae.readUnsignedByte(),mf){case 1:Qe=[1,1];break;case 2:Qe=[12,11];break;case 3:Qe=[10,11];break;case 4:Qe=[16,11];break;case 5:Qe=[40,33];break;case 6:Qe=[24,11];break;case 7:Qe=[20,11];break;case 8:Qe=[32,11];break;case 9:Qe=[80,33];break;case 10:Qe=[18,11];break;case 11:Qe=[15,11];break;case 12:Qe=[64,33];break;case 13:Qe=[160,99];break;case 14:Qe=[4,3];break;case 15:Qe=[3,2];break;case 16:Qe=[2,1];break;case 255:{Qe=[ae.readUnsignedByte()<<8|ae.readUnsignedByte(),ae.readUnsignedByte()<<8|ae.readUnsignedByte()];break}}Qe&&Qe[0]/Qe[1]}return{profileIdc:ye,levelIdc:nt,profileCompatibility:Et,width:(ff+1)*16-F*2-X*2,height:(2-bl)*(hf+1)*16-oe*2-fe*2,sarRatio:Qe}}},ms.prototype=new e;var ay={H264Stream:ms,NalByteStream:Xn},sy=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],$c=function(f,m){var p=f[m+6]<<21|f[m+7]<<14|f[m+8]<<7|f[m+9],v=f[m+5],T=(v&16)>>4;return p=p>=0?p:0,T?p+20:p+10},oy=function x(f,m){return f.length-m<10||f[m]!=="I".charCodeAt(0)||f[m+1]!=="D".charCodeAt(0)||f[m+2]!=="3".charCodeAt(0)?m:(m+=$c(f,m),x(f,m))},ly=function(f){var m=oy(f,0);return f.length>=m+2&&(f[m]&255)===255&&(f[m+1]&240)===240&&(f[m+1]&22)===16},qc=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},uy=function(f,m,p){var v,T="";for(v=m;v<p;v++)T+="%"+("00"+f[v].toString(16)).slice(-2);return T},dy=function(f,m,p){return unescape(uy(f,m,p))},cy=function(f,m){var p=(f[m+5]&224)>>5,v=f[m+4]<<3,T=f[m+3]&3<<11;return T|v|p},fy=function(f,m){return f[m]==="I".charCodeAt(0)&&f[m+1]==="D".charCodeAt(0)&&f[m+2]==="3".charCodeAt(0)?"timed-metadata":f[m]&!0&&(f[m+1]&240)===240?"audio":null},hy=function(f){for(var m=0;m+5<f.length;){if(f[m]!==255||(f[m+1]&246)!==240){m++;continue}return sy[(f[m+2]&60)>>>2]}return null},py=function(f){var m,p,v,T;m=10,f[5]&64&&(m+=4,m+=qc(f.subarray(10,14)));do{if(p=qc(f.subarray(m+4,m+8)),p<1)return null;if(T=String.fromCharCode(f[m],f[m+1],f[m+2],f[m+3]),T==="PRIV"){v=f.subarray(m+10,m+p+10);for(var S=0;S<v.byteLength;S++)if(v[S]===0){var C=dy(v,0,S);if(C==="com.apple.streaming.transportStreamTimestamp"){var w=v.subarray(S+1),M=(w[3]&1)<<30|w[4]<<22|w[5]<<14|w[6]<<6|w[7]>>>2;return M*=4,M+=w[7]&3,M}break}}m+=10,m+=p}while(m<f.byteLength);return null},gs={isLikelyAacData:ly,parseId3TagSize:$c,parseAdtsSize:cy,parseType:fy,parseSampleRate:hy,parseAacTimestamp:py},vs;vs=function(){var f=new Uint8Array,m=0;vs.prototype.init.call(this),this.setTimestamp=function(p){m=p},this.push=function(p){var v=0,T=0,S,C,w,M;for(f.length?(M=f.length,f=new Uint8Array(p.byteLength+M),f.set(f.subarray(0,M)),f.set(p,M)):f=p;f.length-T>=3;){if(f[T]==="I".charCodeAt(0)&&f[T+1]==="D".charCodeAt(0)&&f[T+2]==="3".charCodeAt(0)){if(f.length-T<10||(v=gs.parseId3TagSize(f,T),T+v>f.length))break;C={type:"timed-metadata",data:f.subarray(T,T+v)},this.trigger("data",C),T+=v;continue}else if((f[T]&255)===255&&(f[T+1]&240)===240){if(f.length-T<7||(v=gs.parseAdtsSize(f,T),T+v>f.length))break;w={type:"audio",data:f.subarray(T,T+v),pts:m,dts:m},this.trigger("data",w),T+=v;continue}T++}S=f.length-T,S>0?f=f.subarray(T):f=new Uint8Array},this.reset=function(){f=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){f=new Uint8Array,this.trigger("endedtimeline")}},vs.prototype=new e;var my=vs,gy=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ml=gy,vy=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],gl=vy,yy=ay.H264Stream,_y=gs.isLikelyAacData,Ty=Ae.ONE_SECOND_IN_TS,Kn,$r,ys,Tr,by=function(f,m){m.stream=f,this.trigger("log",m)},Xc=function(f,m){for(var p=Object.keys(m),v=0;v<p.length;v++){var T=p[v];T==="headOfPipeline"||!m[T].on||m[T].on("log",by.bind(f,T))}},Kc=function(f,m){var p;if(f.length!==m.length)return!1;for(p=0;p<f.length;p++)if(f[p]!==m[p])return!1;return!0},vl=function(f,m,p,v,T,S){var C=p-m,w=v-m,M=T-p;return{start:{dts:f,pts:f+C},end:{dts:f+w,pts:f+M},prependedContentDuration:S,baseMediaDecodeTime:f}};$r=function(f,m){var p=[],v,T=0,S=0,C=1/0;m=m||{},v=m.firstSequenceNumber||0,$r.prototype.init.call(this),this.push=function(w){oi.collectDtsInfo(f,w),f&&ml.forEach(function(M){f[M]=w[M]}),p.push(w)},this.setEarliestDts=function(w){T=w},this.setVideoBaseMediaDecodeTime=function(w){C=w},this.setAudioAppendStart=function(w){S=w},this.flush=function(){var w,M,O,F,X,oe,fe;if(p.length===0){this.trigger("done","AudioSegmentStream");return}w=yr.trimAdtsFramesByEarliestDts(p,f,T),f.baseMediaDecodeTime=oi.calculateTrackBaseMediaDecodeTime(f,m.keepOriginalTimestamps),fe=yr.prefixWithSilence(f,w,S,C),f.samples=yr.generateSampleTable(w),O=qe.mdat(yr.concatenateFrameData(w)),p=[],M=qe.moof(v,[f]),F=new Uint8Array(M.byteLength+O.byteLength),v++,F.set(M),F.set(O,M.byteLength),oi.clearDtsInfo(f),X=Math.ceil(Ty*1024/f.samplerate),w.length&&(oe=w.length*X,this.trigger("segmentTimingInfo",vl(Ae.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),w[0].dts,w[0].pts,w[0].dts+oe,w[0].pts+oe,fe||0)),this.trigger("timingInfo",{start:w[0].pts,end:w[0].pts+oe})),this.trigger("data",{track:f,boxes:F}),this.trigger("done","AudioSegmentStream")},this.reset=function(){oi.clearDtsInfo(f),p=[],this.trigger("reset")}},$r.prototype=new e,Kn=function(f,m){var p,v=[],T=[],S,C;m=m||{},p=m.firstSequenceNumber||0,Kn.prototype.init.call(this),delete f.minPTS,this.gopCache_=[],this.push=function(w){oi.collectDtsInfo(f,w),w.nalUnitType==="seq_parameter_set_rbsp"&&!S&&(S=w.config,f.sps=[w.data],gl.forEach(function(M){f[M]=S[M]},this)),w.nalUnitType==="pic_parameter_set_rbsp"&&!C&&(C=w.data,f.pps=[w.data]),v.push(w)},this.flush=function(){for(var w,M,O,F,X,oe,fe=0,ae,ye;v.length&&v[0].nalUnitType!=="access_unit_delimiter_rbsp";)v.shift();if(v.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(w=J.groupNalsIntoFrames(v),O=J.groupFramesIntoGops(w),O[0][0].keyFrame||(M=this.getGopForFusion_(v[0],f),M?(fe=M.duration,O.unshift(M),O.byteLength+=M.byteLength,O.nalCount+=M.nalCount,O.pts=M.pts,O.dts=M.dts,O.duration+=M.duration):O=J.extendFirstKeyFrame(O)),T.length){var nt;if(m.alignGopsAtEnd?nt=this.alignGopsAtEnd_(O):nt=this.alignGopsAtStart_(O),!nt){this.gopCache_.unshift({gop:O.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}oi.clearDtsInfo(f),O=nt}oi.collectDtsInfo(f,O),f.samples=J.generateSampleTable(O),X=qe.mdat(J.concatenateNalData(O)),f.baseMediaDecodeTime=oi.calculateTrackBaseMediaDecodeTime(f,m.keepOriginalTimestamps),this.trigger("processedGopsInfo",O.map(function(Et){return{pts:Et.pts,dts:Et.dts,byteLength:Et.byteLength}})),ae=O[0],ye=O[O.length-1],this.trigger("segmentTimingInfo",vl(f.baseMediaDecodeTime,ae.dts,ae.pts,ye.dts+ye.duration,ye.pts+ye.duration,fe)),this.trigger("timingInfo",{start:O[0].pts,end:O[O.length-1].pts+O[O.length-1].duration}),this.gopCache_.unshift({gop:O.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.trigger("baseMediaDecodeTime",f.baseMediaDecodeTime),this.trigger("timelineStartInfo",f.timelineStartInfo),F=qe.moof(p,[f]),oe=new Uint8Array(F.byteLength+X.byteLength),p++,oe.set(F),oe.set(X,F.byteLength),this.trigger("data",{track:f,boxes:oe}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),v=[],this.gopCache_.length=0,T.length=0,this.trigger("reset")},this.resetStream_=function(){oi.clearDtsInfo(f),S=void 0,C=void 0},this.getGopForFusion_=function(w){var M=45e3,O=1e4,F=1/0,X,oe,fe,ae,ye;for(ye=0;ye<this.gopCache_.length;ye++)ae=this.gopCache_[ye],fe=ae.gop,!(!(f.pps&&Kc(f.pps[0],ae.pps[0]))||!(f.sps&&Kc(f.sps[0],ae.sps[0])))&&(fe.dts<f.timelineStartInfo.dts||(X=w.dts-fe.dts-fe.duration,X>=-O&&X<=M&&(!oe||F>X)&&(oe=ae,F=X)));return oe?oe.gop:null},this.alignGopsAtStart_=function(w){var M,O,F,X,oe,fe,ae,ye;for(oe=w.byteLength,fe=w.nalCount,ae=w.duration,M=O=0;M<T.length&&O<w.length&&(F=T[M],X=w[O],F.pts!==X.pts);){if(X.pts>F.pts){M++;continue}O++,oe-=X.byteLength,fe-=X.nalCount,ae-=X.duration}return O===0?w:O===w.length?null:(ye=w.slice(O),ye.byteLength=oe,ye.duration=ae,ye.nalCount=fe,ye.pts=ye[0].pts,ye.dts=ye[0].dts,ye)},this.alignGopsAtEnd_=function(w){var M,O,F,X,oe,fe;for(M=T.length-1,O=w.length-1,oe=null,fe=!1;M>=0&&O>=0;){if(F=T[M],X=w[O],F.pts===X.pts){fe=!0;break}if(F.pts>X.pts){M--;continue}M===T.length-1&&(oe=O),O--}if(!fe&&oe===null)return null;var ae;if(fe?ae=O:ae=oe,ae===0)return w;var ye=w.slice(ae),nt=ye.reduce(function(Et,xr){return Et.byteLength+=xr.byteLength,Et.duration+=xr.duration,Et.nalCount+=xr.nalCount,Et},{byteLength:0,duration:0,nalCount:0});return ye.byteLength=nt.byteLength,ye.duration=nt.duration,ye.nalCount=nt.nalCount,ye.pts=ye[0].pts,ye.dts=ye[0].dts,ye},this.alignGopsWith=function(w){T=w}},Kn.prototype=new e,Tr=function(f,m){this.numberOfTracks=0,this.metadataStream=m,f=f||{},typeof f.remux<"u"?this.remuxTracks=!!f.remux:this.remuxTracks=!0,typeof f.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=f.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Tr.prototype.init.call(this),this.push=function(p){if(p.text)return this.pendingCaptions.push(p);if(p.frames)return this.pendingMetadata.push(p);this.pendingTracks.push(p.track),this.pendingBytes+=p.boxes.byteLength,p.track.type==="video"&&(this.videoTrack=p.track,this.pendingBoxes.push(p.boxes)),p.track.type==="audio"&&(this.audioTrack=p.track,this.pendingBoxes.unshift(p.boxes))}},Tr.prototype=new e,Tr.prototype.flush=function(x){var f=0,m={captions:[],captionStreams:{},metadata:[],info:{}},p,v,T,S=0,C;if(this.pendingTracks.length<this.numberOfTracks){if(x!=="VideoSegmentStream"&&x!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(S=this.videoTrack.timelineStartInfo.pts,gl.forEach(function(w){m.info[w]=this.videoTrack[w]},this)):this.audioTrack&&(S=this.audioTrack.timelineStartInfo.pts,ml.forEach(function(w){m.info[w]=this.audioTrack[w]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?m.type=this.pendingTracks[0].type:m.type="combined",this.emittedTracks+=this.pendingTracks.length,T=qe.initSegment(this.pendingTracks),m.initSegment=new Uint8Array(T.byteLength),m.initSegment.set(T),m.data=new Uint8Array(this.pendingBytes),C=0;C<this.pendingBoxes.length;C++)m.data.set(this.pendingBoxes[C],f),f+=this.pendingBoxes[C].byteLength;for(C=0;C<this.pendingCaptions.length;C++)p=this.pendingCaptions[C],p.startTime=Ae.metadataTsToSeconds(p.startPts,S,this.keepOriginalTimestamps),p.endTime=Ae.metadataTsToSeconds(p.endPts,S,this.keepOriginalTimestamps),m.captionStreams[p.stream]=!0,m.captions.push(p);for(C=0;C<this.pendingMetadata.length;C++)v=this.pendingMetadata[C],v.cueTime=Ae.metadataTsToSeconds(v.pts,S,this.keepOriginalTimestamps),m.metadata.push(v);for(m.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",m),C=0;C<m.captions.length;C++)p=m.captions[C],this.trigger("caption",p);for(C=0;C<m.metadata.length;C++)v=m.metadata[C],this.trigger("id3Frame",v)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Tr.prototype.setRemux=function(x){this.remuxTracks=x},ys=function(f){var m=this,p=!0,v,T;ys.prototype.init.call(this),f=f||{},this.baseMediaDecodeTime=f.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="aac",S.metadataStream=new Fi.MetadataStream,S.aacStream=new my,S.audioTimestampRolloverStream=new Fi.TimestampRolloverStream("audio"),S.timedMetadataTimestampRolloverStream=new Fi.TimestampRolloverStream("timed-metadata"),S.adtsStream=new zc,S.coalesceStream=new Tr(f,S.metadataStream),S.headOfPipeline=S.aacStream,S.aacStream.pipe(S.audioTimestampRolloverStream).pipe(S.adtsStream),S.aacStream.pipe(S.timedMetadataTimestampRolloverStream).pipe(S.metadataStream).pipe(S.coalesceStream),S.metadataStream.on("timestamp",function(C){S.aacStream.setTimestamp(C.timeStamp)}),S.aacStream.on("data",function(C){C.type!=="timed-metadata"&&C.type!=="audio"||S.audioSegmentStream||(T=T||{timelineStartInfo:{baseMediaDecodeTime:m.baseMediaDecodeTime},codec:"adts",type:"audio"},S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new $r(T,f),S.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),S.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream),m.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!v}))}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("done",this.trigger.bind(this,"done")),Xc(this,S)},this.setupTsPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="ts",S.metadataStream=new Fi.MetadataStream,S.packetStream=new Fi.TransportPacketStream,S.parseStream=new Fi.TransportParseStream,S.elementaryStream=new Fi.ElementaryStream,S.timestampRolloverStream=new Fi.TimestampRolloverStream,S.adtsStream=new zc,S.h264Stream=new yy,S.captionStream=new Fi.CaptionStream(f),S.coalesceStream=new Tr(f,S.metadataStream),S.headOfPipeline=S.packetStream,S.packetStream.pipe(S.parseStream).pipe(S.elementaryStream).pipe(S.timestampRolloverStream),S.timestampRolloverStream.pipe(S.h264Stream),S.timestampRolloverStream.pipe(S.adtsStream),S.timestampRolloverStream.pipe(S.metadataStream).pipe(S.coalesceStream),S.h264Stream.pipe(S.captionStream).pipe(S.coalesceStream),S.elementaryStream.on("data",function(C){var w;if(C.type==="metadata"){for(w=C.tracks.length;w--;)!v&&C.tracks[w].type==="video"?(v=C.tracks[w],v.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime):!T&&C.tracks[w].type==="audio"&&(T=C.tracks[w],T.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime);v&&!S.videoSegmentStream&&(S.coalesceStream.numberOfTracks++,S.videoSegmentStream=new Kn(v,f),S.videoSegmentStream.on("log",m.getLogTrigger_("videoSegmentStream")),S.videoSegmentStream.on("timelineStartInfo",function(M){T&&!f.keepOriginalTimestamps&&(T.timelineStartInfo=M,S.audioSegmentStream.setEarliestDts(M.dts-m.baseMediaDecodeTime))}),S.videoSegmentStream.on("processedGopsInfo",m.trigger.bind(m,"gopInfo")),S.videoSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"videoSegmentTimingInfo")),S.videoSegmentStream.on("baseMediaDecodeTime",function(M){T&&S.audioSegmentStream.setVideoBaseMediaDecodeTime(M)}),S.videoSegmentStream.on("timingInfo",m.trigger.bind(m,"videoTimingInfo")),S.h264Stream.pipe(S.videoSegmentStream).pipe(S.coalesceStream)),T&&!S.audioSegmentStream&&(S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new $r(T,f),S.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),S.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),S.audioSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"audioSegmentTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream)),m.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!v})}}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("id3Frame",function(C){C.dispatchType=S.metadataStream.dispatchType,m.trigger("id3Frame",C)}),S.coalesceStream.on("caption",this.trigger.bind(this,"caption")),S.coalesceStream.on("done",this.trigger.bind(this,"done")),Xc(this,S)},this.setBaseMediaDecodeTime=function(S){var C=this.transmuxPipeline_;f.keepOriginalTimestamps||(this.baseMediaDecodeTime=S),T&&(T.timelineStartInfo.dts=void 0,T.timelineStartInfo.pts=void 0,oi.clearDtsInfo(T),C.audioTimestampRolloverStream&&C.audioTimestampRolloverStream.discontinuity()),v&&(C.videoSegmentStream&&(C.videoSegmentStream.gopCache_=[]),v.timelineStartInfo.dts=void 0,v.timelineStartInfo.pts=void 0,oi.clearDtsInfo(v),C.captionStream.reset()),C.timestampRolloverStream&&C.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(S){T&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(S)},this.setRemux=function(S){var C=this.transmuxPipeline_;f.remux=S,C&&C.coalesceStream&&C.coalesceStream.setRemux(S)},this.alignGopsWith=function(S){v&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(S)},this.getLogTrigger_=function(S){var C=this;return function(w){w.stream=S,C.trigger("log",w)}},this.push=function(S){if(p){var C=_y(S);C&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!C&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),p=!1}this.transmuxPipeline_.headOfPipeline.push(S)},this.flush=function(){p=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},ys.prototype=new e;var Sy={Transmuxer:ys,VideoSegmentStream:Kn,AudioSegmentStream:$r,AUDIO_PROPERTIES:ml,VIDEO_PROPERTIES:gl,generateSegmentTimingInfo:vl},xy=function(f){return f>>>0},Ey=function(f){return("00"+f.toString(16)).slice(-2)},_s={toUnsigned:xy,toHexString:Ey},Cy=function(f){var m="";return m+=String.fromCharCode(f[0]),m+=String.fromCharCode(f[1]),m+=String.fromCharCode(f[2]),m+=String.fromCharCode(f[3]),m},br=Cy,wy=_s.toUnsigned,Py=function x(f,m){var p=[],v,T,S,C,w;if(!m.length)return null;for(v=0;v<f.byteLength;)T=wy(f[v]<<24|f[v+1]<<16|f[v+2]<<8|f[v+3]),S=br(f.subarray(v+4,v+8)),C=T>1?v+T:f.byteLength,S===m[0]&&(m.length===1?p.push(f.subarray(v+8,C)):(w=x(f.subarray(v+8,C),m.slice(1)),w.length&&(p=p.concat(w)))),v=C;return p},je=Py,Iy=_s.toUnsigned,Ay=t.getUint64,ky=function(f){var m={version:f[0],flags:new Uint8Array(f.subarray(1,4))};return m.version===1?m.baseMediaDecodeTime=Ay(f.subarray(4)):m.baseMediaDecodeTime=Iy(f[4]<<24|f[5]<<16|f[6]<<8|f[7]),m},Yc=ky,Oy=function(f){return{isLeading:(f[0]&12)>>>2,dependsOn:f[0]&3,isDependedOn:(f[1]&192)>>>6,hasRedundancy:(f[1]&48)>>>4,paddingValue:(f[1]&14)>>>1,isNonSyncSample:f[1]&1,degradationPriority:f[2]<<8|f[3]}},Qc=Oy,Dy=function(f){var m={version:f[0],flags:new Uint8Array(f.subarray(1,4)),samples:[]},p=new DataView(f.buffer,f.byteOffset,f.byteLength),v=m.flags[2]&1,T=m.flags[2]&4,S=m.flags[1]&1,C=m.flags[1]&2,w=m.flags[1]&4,M=m.flags[1]&8,O=p.getUint32(4),F=8,X;for(v&&(m.dataOffset=p.getInt32(F),F+=4),T&&O&&(X={flags:Qc(f.subarray(F,F+4))},F+=4,S&&(X.duration=p.getUint32(F),F+=4),C&&(X.size=p.getUint32(F),F+=4),M&&(m.version===1?X.compositionTimeOffset=p.getInt32(F):X.compositionTimeOffset=p.getUint32(F),F+=4),m.samples.push(X),O--);O--;)X={},S&&(X.duration=p.getUint32(F),F+=4),C&&(X.size=p.getUint32(F),F+=4),w&&(X.flags=Qc(f.subarray(F,F+4)),F+=4),M&&(m.version===1?X.compositionTimeOffset=p.getInt32(F):X.compositionTimeOffset=p.getUint32(F),F+=4),m.samples.push(X);return m},Jc=Dy,Ly=function(f){var m=new DataView(f.buffer,f.byteOffset,f.byteLength),p={version:f[0],flags:new Uint8Array(f.subarray(1,4)),trackId:m.getUint32(4)},v=p.flags[2]&1,T=p.flags[2]&2,S=p.flags[2]&8,C=p.flags[2]&16,w=p.flags[2]&32,M=p.flags[0]&65536,O=p.flags[0]&131072,F;return F=8,v&&(F+=4,p.baseDataOffset=m.getUint32(12),F+=4),T&&(p.sampleDescriptionIndex=m.getUint32(F),F+=4),S&&(p.defaultSampleDuration=m.getUint32(F),F+=4),C&&(p.defaultSampleSize=m.getUint32(F),F+=4),w&&(p.defaultSampleFlags=m.getUint32(F)),M&&(p.durationIsEmpty=!0),!v&&O&&(p.baseDataOffsetIsMoof=!0),p},Zc=Ly,ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yn;typeof window<"u"?Yn=window:typeof ef<"u"?Yn=ef:typeof self<"u"?Yn=self:Yn={};var Qn=Yn,My=$n.discardEmulationPreventionBytes,Ry=ls.CaptionStream,Ny=function(f,m){for(var p=f,v=0;v<m.length;v++){var T=m[v];if(p<T.size)return T;p-=T.size}return null},Fy=function(f,m,p){var v=new DataView(f.buffer,f.byteOffset,f.byteLength),T={logs:[],seiNals:[]},S,C,w,M;for(C=0;C+4<f.length;C+=w)if(w=v.getUint32(C),C+=4,!(w<=0))switch(f[C]&31){case 6:var O=f.subarray(C+1,C+1+w),F=Ny(C,m);if(S={nalUnitType:"sei_rbsp",size:w,data:O,escapedRBSP:My(O),trackId:p},F)S.pts=F.pts,S.dts=F.dts,M=F;else if(M)S.pts=M.pts,S.dts=M.dts;else{T.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+C+" for trackId "+p+". See mux.js#223."});break}T.seiNals.push(S);break}return T},By=function(f,m,p){var v=m,T=p.defaultSampleDuration||0,S=p.defaultSampleSize||0,C=p.trackId,w=[];return f.forEach(function(M){var O=Jc(M),F=O.samples;F.forEach(function(X){X.duration===void 0&&(X.duration=T),X.size===void 0&&(X.size=S),X.trackId=C,X.dts=v,X.compositionTimeOffset===void 0&&(X.compositionTimeOffset=0),typeof v=="bigint"?(X.pts=v+Qn.BigInt(X.compositionTimeOffset),v+=Qn.BigInt(X.duration)):(X.pts=v+X.compositionTimeOffset,v+=X.duration)}),w=w.concat(F)}),w},Uy=function(f,m){var p=je(f,["moof","traf"]),v=je(f,["mdat"]),T={},S=[];return v.forEach(function(C,w){var M=p[w];S.push({mdat:C,traf:M})}),S.forEach(function(C){var w=C.mdat,M=C.traf,O=je(M,["tfhd"]),F=Zc(O[0]),X=F.trackId,oe=je(M,["tfdt"]),fe=oe.length>0?Yc(oe[0]).baseMediaDecodeTime:0,ae=je(M,["trun"]),ye,nt;m===X&&ae.length>0&&(ye=By(ae,fe,F),nt=Fy(w,ye,X),T[X]||(T[X]={seiNals:[],logs:[]}),T[X].seiNals=T[X].seiNals.concat(nt.seiNals),T[X].logs=T[X].logs.concat(nt.logs))}),T},jy=function(f,m,p){var v;if(m===null)return null;v=Uy(f,m);var T=v[m]||{};return{seiNals:T.seiNals,logs:T.logs,timescale:p}},Hy=function(){var f=!1,m,p,v,T,S,C;this.isInitialized=function(){return f},this.init=function(w){m=new Ry,f=!0,C=w?w.isPartial:!1,m.on("data",function(M){M.startTime=M.startPts/T,M.endTime=M.endPts/T,S.captions.push(M),S.captionStreams[M.stream]=!0}),m.on("log",function(M){S.logs.push(M)})},this.isNewInit=function(w,M){return w&&w.length===0||M&&typeof M=="object"&&Object.keys(M).length===0?!1:v!==w[0]||T!==M[v]},this.parse=function(w,M,O){var F;if(this.isInitialized()){if(!M||!O)return null;if(this.isNewInit(M,O))v=M[0],T=O[v];else if(v===null||!T)return p.push(w),null}else return null;for(;p.length>0;){var X=p.shift();this.parse(X,M,O)}return F=jy(w,v,T),F&&F.logs&&(S.logs=S.logs.concat(F.logs)),F===null||!F.seiNals?S.logs.length?{logs:S.logs,captions:[],captionStreams:[]}:null:(this.pushNals(F.seiNals),this.flushStream(),S)},this.pushNals=function(w){if(!this.isInitialized()||!w||w.length===0)return null;w.forEach(function(M){m.push(M)})},this.flushStream=function(){if(!this.isInitialized())return null;C?m.partialFlush():m.flush()},this.clearParsedCaptions=function(){S.captions=[],S.captionStreams={},S.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;m.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){p=[],v=null,T=null,S?this.clearParsedCaptions():S={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Vy=Hy,Ts=_s.toUnsigned,Jn=_s.toHexString,zy=t.getUint64,tf,rf,nf,af,sf,yl;tf=function(f){var m={},p=je(f,["moov","trak"]);return p.reduce(function(v,T){var S,C,w,M,O;return S=je(T,["tkhd"])[0],!S||(C=S[0],w=C===0?12:20,M=Ts(S[w]<<24|S[w+1]<<16|S[w+2]<<8|S[w+3]),O=je(T,["mdia","mdhd"])[0],!O)?null:(C=O[0],w=C===0?12:20,v[M]=Ts(O[w]<<24|O[w+1]<<16|O[w+2]<<8|O[w+3]),v)},m)},rf=function(f,m){var p;p=je(m,["moof","traf"]);var v=p.reduce(function(T,S){var C=je(S,["tfhd"])[0],w=Ts(C[4]<<24|C[5]<<16|C[6]<<8|C[7]),M=f[w]||9e4,O=je(S,["tfdt"])[0],F=new DataView(O.buffer,O.byteOffset,O.byteLength),X;O[0]===1?X=zy(O.subarray(4,12)):X=F.getUint32(4);var oe;return typeof X=="bigint"?oe=X/Qn.BigInt(M):typeof X=="number"&&!isNaN(X)&&(oe=X/M),oe<Number.MAX_SAFE_INTEGER&&(oe=Number(oe)),oe<T&&(T=oe),T},1/0);return typeof v=="bigint"||isFinite(v)?v:0},nf=function(f,m){var p=je(m,["moof","traf"]),v=0,T=0,S;if(p&&p.length){var C=je(p[0],["tfhd"])[0],w=je(p[0],["trun"])[0],M=je(p[0],["tfdt"])[0];if(C){var O=Zc(C);S=O.trackId}if(M){var F=Yc(M);v=F.baseMediaDecodeTime}if(w){var X=Jc(w);X.samples&&X.samples.length&&(T=X.samples[0].compositionTimeOffset||0)}}var oe=f[S]||9e4;typeof v=="bigint"&&(T=Qn.BigInt(T),oe=Qn.BigInt(oe));var fe=(v+T)/oe;return typeof fe=="bigint"&&fe<Number.MAX_SAFE_INTEGER&&(fe=Number(fe)),fe},af=function(f){var m=je(f,["moov","trak"]),p=[];return m.forEach(function(v){var T=je(v,["mdia","hdlr"]),S=je(v,["tkhd"]);T.forEach(function(C,w){var M=br(C.subarray(8,12)),O=S[w],F,X,oe;M==="vide"&&(F=new DataView(O.buffer,O.byteOffset,O.byteLength),X=F.getUint8(0),oe=X===0?F.getUint32(12):F.getUint32(20),p.push(oe))})}),p},yl=function(f){var m=f[0],p=m===0?12:20;return Ts(f[p]<<24|f[p+1]<<16|f[p+2]<<8|f[p+3])},sf=function(f){var m=je(f,["moov","trak"]),p=[];return m.forEach(function(v){var T={},S=je(v,["tkhd"])[0],C,w;S&&(C=new DataView(S.buffer,S.byteOffset,S.byteLength),w=C.getUint8(0),T.id=w===0?C.getUint32(12):C.getUint32(20));var M=je(v,["mdia","hdlr"])[0];if(M){var O=br(M.subarray(8,12));O==="vide"?T.type="video":O==="soun"?T.type="audio":T.type=O}var F=je(v,["mdia","minf","stbl","stsd"])[0];if(F){var X=F.subarray(8);T.codec=br(X.subarray(4,8));var oe=je(X,[T.codec])[0],fe,ae;oe&&(/^[asm]vc[1-9]$/i.test(T.codec)?(fe=oe.subarray(78),ae=br(fe.subarray(4,8)),ae==="avcC"&&fe.length>11?(T.codec+=".",T.codec+=Jn(fe[9]),T.codec+=Jn(fe[10]),T.codec+=Jn(fe[11])):T.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(T.codec)?(fe=oe.subarray(28),ae=br(fe.subarray(4,8)),ae==="esds"&&fe.length>20&&fe[19]!==0?(T.codec+="."+Jn(fe[19]),T.codec+="."+Jn(fe[20]>>>2&63).replace(/^0/,"")):T.codec="mp4a.40.2"):T.codec=T.codec.toLowerCase())}var ye=je(v,["mdia","mdhd"])[0];ye&&(T.timescale=yl(ye)),p.push(T)}),p};var of={findBox:je,parseType:br,timescale:tf,startTime:rf,compositionStartTime:nf,videoTrackIds:af,tracks:sf,getTimescaleFromMediaHeader:yl},lf=function(f){var m=f[1]&31;return m<<=8,m|=f[2],m},bs=function(f){return!!(f[1]&64)},Ss=function(f){var m=0;return(f[3]&48)>>>4>1&&(m+=f[4]+1),m},Wy=function(f,m){var p=lf(f);return p===0?"pat":p===m?"pmt":m?"pes":null},Gy=function(f){var m=bs(f),p=4+Ss(f);return m&&(p+=f[p]+1),(f[p+10]&31)<<8|f[p+11]},$y=function(f){var m={},p=bs(f),v=4+Ss(f);if(p&&(v+=f[v]+1),!!(f[v+5]&1)){var T,S,C;T=(f[v+1]&15)<<8|f[v+2],S=3+T-4,C=(f[v+10]&15)<<8|f[v+11];for(var w=12+C;w<S;){var M=v+w;m[(f[M+1]&31)<<8|f[M+2]]=f[M],w+=((f[M+3]&15)<<8|f[M+4])+5}return m}},qy=function(f,m){var p=lf(f),v=m[p];switch(v){case dt.H264_STREAM_TYPE:return"video";case dt.ADTS_STREAM_TYPE:return"audio";case dt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Xy=function(f){var m=bs(f);if(!m)return null;var p=4+Ss(f);if(p>=f.byteLength)return null;var v=null,T;return T=f[p+7],T&192&&(v={},v.pts=(f[p+9]&14)<<27|(f[p+10]&255)<<20|(f[p+11]&254)<<12|(f[p+12]&255)<<5|(f[p+13]&254)>>>3,v.pts*=4,v.pts+=(f[p+13]&6)>>>1,v.dts=v.pts,T&64&&(v.dts=(f[p+14]&14)<<27|(f[p+15]&255)<<20|(f[p+16]&254)<<12|(f[p+17]&255)<<5|(f[p+18]&254)>>>3,v.dts*=4,v.dts+=(f[p+18]&6)>>>1)),v},_l=function(f){switch(f){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Ky=function(f){for(var m=4+Ss(f),p=f.subarray(m),v=0,T=0,S=!1,C;T<p.byteLength-3;T++)if(p[T+2]===1){v=T+5;break}for(;v<p.byteLength;)switch(p[v]){case 0:if(p[v-1]!==0){v+=2;break}else if(p[v-2]!==0){v++;break}T+3!==v-2&&(C=_l(p[T+3]&31),C==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0));do v++;while(p[v]!==1&&v<p.length);T=v-2,v+=3;break;case 1:if(p[v-1]!==0||p[v-2]!==0){v+=3;break}C=_l(p[T+3]&31),C==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0),T=v-2,v+=3;break;default:v+=3;break}return p=p.subarray(T),v-=T,T=0,p&&p.byteLength>3&&(C=_l(p[T+3]&31),C==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0)),S},Yy={parseType:Wy,parsePat:Gy,parsePmt:$y,parsePayloadUnitStartIndicator:bs,parsePesType:qy,parsePesTime:Xy,videoPacketContainsKeyFrame:Ky},qr=Bc.handleRollover,Re={};Re.ts=Yy,Re.aac=gs;var Sr=Ae.ONE_SECOND_IN_TS,xt=188,bi=71,Qy=function(f,m){for(var p=0,v=xt,T,S;v<f.byteLength;){if(f[p]===bi&&f[v]===bi){switch(T=f.subarray(p,v),S=Re.ts.parseType(T,m.pid),S){case"pat":m.pid=Re.ts.parsePat(T);break;case"pmt":var C=Re.ts.parsePmt(T);m.table=m.table||{},Object.keys(C).forEach(function(w){m.table[w]=C[w]});break}p+=xt,v+=xt;continue}p++,v++}},uf=function(f,m,p){for(var v=0,T=xt,S,C,w,M,O,F=!1;T<=f.byteLength;){if(f[v]===bi&&(f[T]===bi||T===f.byteLength)){switch(S=f.subarray(v,T),C=Re.ts.parseType(S,m.pid),C){case"pes":w=Re.ts.parsePesType(S,m.table),M=Re.ts.parsePayloadUnitStartIndicator(S),w==="audio"&&M&&(O=Re.ts.parsePesTime(S),O&&(O.type="audio",p.audio.push(O),F=!0));break}if(F)break;v+=xt,T+=xt;continue}v++,T++}for(T=f.byteLength,v=T-xt,F=!1;v>=0;){if(f[v]===bi&&(f[T]===bi||T===f.byteLength)){switch(S=f.subarray(v,T),C=Re.ts.parseType(S,m.pid),C){case"pes":w=Re.ts.parsePesType(S,m.table),M=Re.ts.parsePayloadUnitStartIndicator(S),w==="audio"&&M&&(O=Re.ts.parsePesTime(S),O&&(O.type="audio",p.audio.push(O),F=!0));break}if(F)break;v-=xt,T-=xt;continue}v--,T--}},Jy=function(f,m,p){for(var v=0,T=xt,S,C,w,M,O,F,X,oe,fe=!1,ae={data:[],size:0};T<f.byteLength;){if(f[v]===bi&&f[T]===bi){switch(S=f.subarray(v,T),C=Re.ts.parseType(S,m.pid),C){case"pes":if(w=Re.ts.parsePesType(S,m.table),M=Re.ts.parsePayloadUnitStartIndicator(S),w==="video"&&(M&&!fe&&(O=Re.ts.parsePesTime(S),O&&(O.type="video",p.video.push(O),fe=!0)),!p.firstKeyFrame)){if(M&&ae.size!==0){for(F=new Uint8Array(ae.size),X=0;ae.data.length;)oe=ae.data.shift(),F.set(oe,X),X+=oe.byteLength;if(Re.ts.videoPacketContainsKeyFrame(F)){var ye=Re.ts.parsePesTime(F);ye?(p.firstKeyFrame=ye,p.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}ae.size=0}ae.data.push(S),ae.size+=S.byteLength}break}if(fe&&p.firstKeyFrame)break;v+=xt,T+=xt;continue}v++,T++}for(T=f.byteLength,v=T-xt,fe=!1;v>=0;){if(f[v]===bi&&f[T]===bi){switch(S=f.subarray(v,T),C=Re.ts.parseType(S,m.pid),C){case"pes":w=Re.ts.parsePesType(S,m.table),M=Re.ts.parsePayloadUnitStartIndicator(S),w==="video"&&M&&(O=Re.ts.parsePesTime(S),O&&(O.type="video",p.video.push(O),fe=!0));break}if(fe)break;v-=xt,T-=xt;continue}v--,T--}},Zy=function(f,m){if(f.audio&&f.audio.length){var p=m;(typeof p>"u"||isNaN(p))&&(p=f.audio[0].dts),f.audio.forEach(function(S){S.dts=qr(S.dts,p),S.pts=qr(S.pts,p),S.dtsTime=S.dts/Sr,S.ptsTime=S.pts/Sr})}if(f.video&&f.video.length){var v=m;if((typeof v>"u"||isNaN(v))&&(v=f.video[0].dts),f.video.forEach(function(S){S.dts=qr(S.dts,v),S.pts=qr(S.pts,v),S.dtsTime=S.dts/Sr,S.ptsTime=S.pts/Sr}),f.firstKeyFrame){var T=f.firstKeyFrame;T.dts=qr(T.dts,v),T.pts=qr(T.pts,v),T.dtsTime=T.dts/Sr,T.ptsTime=T.pts/Sr}}},e_=function(f){for(var m=!1,p=0,v=null,T=null,S=0,C=0,w;f.length-C>=3;){var M=Re.aac.parseType(f,C);switch(M){case"timed-metadata":if(f.length-C<10){m=!0;break}if(S=Re.aac.parseId3TagSize(f,C),S>f.length){m=!0;break}T===null&&(w=f.subarray(C,C+S),T=Re.aac.parseAacTimestamp(w)),C+=S;break;case"audio":if(f.length-C<7){m=!0;break}if(S=Re.aac.parseAdtsSize(f,C),S>f.length){m=!0;break}v===null&&(w=f.subarray(C,C+S),v=Re.aac.parseSampleRate(w)),p++,C+=S;break;default:C++;break}if(m)return null}if(v===null||T===null)return null;var O=Sr/v,F={audio:[{type:"audio",dts:T,pts:T},{type:"audio",dts:T+p*1024*O,pts:T+p*1024*O}]};return F},t_=function(f){var m={pid:null,table:null},p={};Qy(f,m);for(var v in m.table)if(m.table.hasOwnProperty(v)){var T=m.table[v];switch(T){case dt.H264_STREAM_TYPE:p.video=[],Jy(f,m,p),p.video.length===0&&delete p.video;break;case dt.ADTS_STREAM_TYPE:p.audio=[],uf(f,m,p),p.audio.length===0&&delete p.audio;break}}return p},i_=function(f,m){var p=Re.aac.isLikelyAacData(f),v;return p?v=e_(f):v=t_(f),!v||!v.audio&&!v.video?null:(Zy(v,m),v)},r_={inspect:i_,parseAudioPes_:uf},n_=function(f,m){m.on("data",function(p){var v=p.initSegment;p.initSegment={data:v.buffer,byteOffset:v.byteOffset,byteLength:v.byteLength};var T=p.data;p.data=T.buffer,f.postMessage({action:"data",segment:p,byteOffset:T.byteOffset,byteLength:T.byteLength},[p.data])}),m.on("done",function(p){f.postMessage({action:"done"})}),m.on("gopInfo",function(p){f.postMessage({action:"gopInfo",gopInfo:p})}),m.on("videoSegmentTimingInfo",function(p){var v={start:{decode:Ae.videoTsToSeconds(p.start.dts),presentation:Ae.videoTsToSeconds(p.start.pts)},end:{decode:Ae.videoTsToSeconds(p.end.dts),presentation:Ae.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:Ae.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(v.prependedContentDuration=Ae.videoTsToSeconds(p.prependedContentDuration)),f.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:v})}),m.on("audioSegmentTimingInfo",function(p){var v={start:{decode:Ae.videoTsToSeconds(p.start.dts),presentation:Ae.videoTsToSeconds(p.start.pts)},end:{decode:Ae.videoTsToSeconds(p.end.dts),presentation:Ae.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:Ae.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(v.prependedContentDuration=Ae.videoTsToSeconds(p.prependedContentDuration)),f.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:v})}),m.on("id3Frame",function(p){f.postMessage({action:"id3Frame",id3Frame:p})}),m.on("caption",function(p){f.postMessage({action:"caption",caption:p})}),m.on("trackinfo",function(p){f.postMessage({action:"trackinfo",trackInfo:p})}),m.on("audioTimingInfo",function(p){f.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ae.videoTsToSeconds(p.start),end:Ae.videoTsToSeconds(p.end)}})}),m.on("videoTimingInfo",function(p){f.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ae.videoTsToSeconds(p.start),end:Ae.videoTsToSeconds(p.end)}})}),m.on("log",function(p){f.postMessage({action:"log",log:p})})},df=function(){function x(m,p){this.options=p||{},this.self=m,this.init()}var f=x.prototype;return f.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Sy.Transmuxer(this.options),n_(this.self,this.transmuxer)},f.pushMp4Captions=function(p){this.captionParser||(this.captionParser=new Vy,this.captionParser.init());var v=new Uint8Array(p.data,p.byteOffset,p.byteLength),T=this.captionParser.parse(v,p.trackIds,p.timescales);this.self.postMessage({action:"mp4Captions",captions:T&&T.captions||[],logs:T&&T.logs||[],data:v.buffer},[v.buffer])},f.probeMp4StartTime=function(p){var v=p.timescales,T=p.data,S=of.startTime(v,T);this.self.postMessage({action:"probeMp4StartTime",startTime:S,data:T},[T.buffer])},f.probeMp4Tracks=function(p){var v=p.data,T=of.tracks(v);this.self.postMessage({action:"probeMp4Tracks",tracks:T,data:v},[v.buffer])},f.probeTs=function(p){var v=p.data,T=p.baseStartTime,S=typeof T=="number"&&!isNaN(T)?T*Ae.ONE_SECOND_IN_TS:void 0,C=r_.inspect(v,S),w=null;C&&(w={hasVideo:C.video&&C.video.length===2||!1,hasAudio:C.audio&&C.audio.length===2||!1},w.hasVideo&&(w.videoStart=C.video[0].ptsTime),w.hasAudio&&(w.audioStart=C.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:w,data:v},[v.buffer])},f.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},f.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},f.push=function(p){var v=new Uint8Array(p.data,p.byteOffset,p.byteLength);this.transmuxer.push(v)},f.reset=function(){this.transmuxer.reset()},f.setTimestampOffset=function(p){var v=p.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ae.secondsToVideoTs(v)))},f.setAudioAppendStart=function(p){this.transmuxer.setAudioAppendStart(Math.ceil(Ae.secondsToVideoTs(p.appendStart)))},f.setRemux=function(p){this.transmuxer.setRemux(p.remux)},f.flush=function(p){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},f.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},f.alignGopsWith=function(p){this.transmuxer.alignGopsWith(p.gopsToAlignWith.slice())},x}();self.onmessage=function(x){if(x.data.action==="init"&&x.data.options){this.messageHandlers=new df(self,x.data.options);return}this.messageHandlers||(this.messageHandlers=new df(self)),x.data&&x.data.action&&x.data.action!=="init"&&this.messageHandlers[x.data.action]&&this.messageHandlers[x.data.action](x.data)}})),xI=c0(SI),EI=function(e,r,n){var t=e.data.segment,a=t.type,s=t.initSegment,o=t.captions,l=t.captionStreams,u=t.metadata,d=t.videoFrameDtsTime,c=t.videoFramePtsTime;r.buffer.push({captions:o,captionStreams:l,metadata:u});var h=e.data.segment.boxes||{data:e.data.segment.data},g={type:a,data:new Uint8Array(h.data,h.data.byteOffset,h.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof d<"u"&&(g.videoFrameDtsTime=d),typeof c<"u"&&(g.videoFramePtsTime=c),n(g)},CI=function(e){var r=e.transmuxedData,n=e.callback;r.buffer=[],n(r)},wI=function(e,r){r.gopInfo=e.data.gopInfo},p0=function(e){var r=e.transmuxer,n=e.bytes,t=e.audioAppendStart,a=e.gopsToAlignWith,s=e.remux,o=e.onData,l=e.onTrackInfo,u=e.onAudioTimingInfo,d=e.onVideoTimingInfo,c=e.onVideoSegmentTimingInfo,h=e.onAudioSegmentTimingInfo,g=e.onId3,y=e.onCaptions,_=e.onDone,b=e.onEndedTimeline,E=e.onTransmuxerLog,A=e.isEndOfTimeline,I={buffer:[]},k=A,D=function(U){r.currentTransmux===e&&(U.data.action==="data"&&EI(U,I,o),U.data.action==="trackinfo"&&l(U.data.trackInfo),U.data.action==="gopInfo"&&wI(U,I),U.data.action==="audioTimingInfo"&&u(U.data.audioTimingInfo),U.data.action==="videoTimingInfo"&&d(U.data.videoTimingInfo),U.data.action==="videoSegmentTimingInfo"&&c(U.data.videoSegmentTimingInfo),U.data.action==="audioSegmentTimingInfo"&&h(U.data.audioSegmentTimingInfo),U.data.action==="id3Frame"&&g([U.data.id3Frame],U.data.id3Frame.dispatchType),U.data.action==="caption"&&y(U.data.caption),U.data.action==="endedtimeline"&&(k=!1,b()),U.data.action==="log"&&E(U.data.log),U.data.type==="transmuxed"&&(k||(r.onmessage=null,CI({transmuxedData:I,callback:_}),m0(r))))};if(r.onmessage=D,t&&r.postMessage({action:"setAudioAppendStart",appendStart:t}),Array.isArray(a)&&r.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s<"u"&&r.postMessage({action:"setRemux",remux:s}),n.byteLength){var j=n instanceof ArrayBuffer?n:n.buffer,V=n instanceof ArrayBuffer?0:n.byteOffset;r.postMessage({action:"push",data:j,byteOffset:V,byteLength:n.byteLength},[j])}A&&r.postMessage({action:"endTimeline"}),r.postMessage({action:"flush"})},m0=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():p0(e.currentTransmux))},cp=function(e,r){e.postMessage({action:r}),m0(e)},g0=function(e,r){if(!r.currentTransmux){r.currentTransmux=e,cp(r,e);return}r.transmuxQueue.push(cp.bind(null,r,e))},PI=function(e){g0("reset",e)},II=function(e){g0("endTimeline",e)},v0=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,p0(e);return}e.transmuxer.transmuxQueue.push(e)},AI=function(e){var r=new xI;r.currentTransmux=null,r.transmuxQueue=[];var n=r.terminate;return r.terminate=function(){return r.currentTransmux=null,r.transmuxQueue.length=0,n.call(r)},r.postMessage({action:"init",options:e}),r},nu={reset:PI,endTimeline:II,transmux:v0,createTransmuxer:AI},Po=function(e){var r=e.transmuxer,n=e.endAction||e.action,t=e.callback,a=ai({},e,{endAction:null,transmuxer:null,callback:null}),s=function u(d){d.data.action===n&&(r.removeEventListener("message",u),d.data.data&&(d.data.data=new Uint8Array(d.data.data,e.byteOffset||0,e.byteLength||d.data.data.byteLength),e.data&&(e.data=d.data.data)),t(d.data))};if(r.addEventListener("message",s),e.data){var o=e.data instanceof ArrayBuffer;a.byteOffset=o?0:e.data.byteOffset,a.byteLength=e.data.byteLength;var l=[o?e.data:e.data.buffer];r.postMessage(a,l)}else r.postMessage(a)},ki={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Ku=function(e){e.forEach(function(r){r.abort()})},kI=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},OI=function(e){var r=e.target,n=Date.now()-r.requestTime,t={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return t.bytesReceived=e.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3),t},Ac=function(e,r){return r.timedout?{status:r.status,message:"HLS request timed-out at URL: "+r.uri,code:ki.TIMEOUT,xhr:r}:r.aborted?{status:r.status,message:"HLS request aborted at URL: "+r.uri,code:ki.ABORTED,xhr:r}:e?{status:r.status,message:"HLS request errored at URL: "+r.uri,code:ki.FAILURE,xhr:r}:r.responseType==="arraybuffer"&&r.response.byteLength===0?{status:r.status,message:"Empty HLS response at URL: "+r.uri,code:ki.FAILURE,xhr:r}:null},fp=function(e,r,n){return function(t,a){var s=a.response,o=Ac(t,a);if(o)return n(o,e);if(s.byteLength!==16)return n({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:ki.FAILURE,xhr:a},e);for(var l=new DataView(s),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),d=0;d<r.length;d++)r[d].bytes=u;return n(null,e)}},y0=function(e,r){var n=Wd(e.map.bytes);if(n!=="mp4"){var t=e.map.resolvedUri||e.map.uri;return r({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+t,code:ki.FAILURE})}Po({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var o=s.tracks,l=s.data;return e.map.bytes=l,o.forEach(function(u){e.map.tracks=e.map.tracks||{},!e.map.tracks[u.type]&&(e.map.tracks[u.type]=u,typeof u.id=="number"&&u.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[u.id]=u.timescale))}),r(null)}})},DI=function(e){var r=e.segment,n=e.finishProcessingFn;return function(t,a){var s=Ac(t,a);if(s)return n(s,r);var o=new Uint8Array(a.response);if(r.map.key)return r.map.encryptedBytes=o,n(null,r);r.map.bytes=o,y0(r,function(l){if(l)return l.xhr=a,l.status=a.status,n(l,r);n(null,r)})}},LI=function(e){var r=e.segment,n=e.finishProcessingFn,t=e.responseType;return function(a,s){var o=Ac(a,s);if(o)return n(o,r);var l=t==="arraybuffer"||!s.responseText?s.response:TI(s.responseText.substring(r.lastReachedChar||0));return r.stats=kI(s),r.key?r.encryptedBytes=new Uint8Array(l):r.bytes=new Uint8Array(l),n(null,r)}},MI=function(e){var r=e.segment,n=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,d=e.isEndOfTimeline,c=e.endedTimelineFn,h=e.dataFn,g=e.doneFn,y=e.onTransmuxerLog,_=r.map&&r.map.tracks||{},b=Boolean(_.audio&&_.video),E=a.bind(null,r,"audio","start"),A=a.bind(null,r,"audio","end"),I=a.bind(null,r,"video","start"),k=a.bind(null,r,"video","end"),D=function(){return v0({bytes:n,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,remux:b,onData:function(R){R.type=R.type==="combined"?"video":R.type,h(r,R)},onTrackInfo:function(R){t&&(b&&(R.isMuxed=!0),t(r,R))},onAudioTimingInfo:function(R){E&&typeof R.start<"u"&&(E(R.start),E=null),A&&typeof R.end<"u"&&A(R.end)},onVideoTimingInfo:function(R){I&&typeof R.start<"u"&&(I(R.start),I=null),k&&typeof R.end<"u"&&k(R.end)},onVideoSegmentTimingInfo:function(R){s(R)},onAudioSegmentTimingInfo:function(R){o(R)},onId3:function(R,U){l(r,R,U)},onCaptions:function(R){u(r,[R])},isEndOfTimeline:d,onEndedTimeline:function(){c()},onTransmuxerLog:y,onDone:function(R){g&&(R.type=R.type==="combined"?"video":R.type,g(null,r,R))}})};Po({action:"probeTs",transmuxer:r.transmuxer,data:n,baseStartTime:r.baseStartTime,callback:function(V){r.bytes=n=V.data;var R=V.result;R&&(t(r,{hasAudio:R.hasAudio,hasVideo:R.hasVideo,isMuxed:b}),t=null,R.hasAudio&&!b&&E(R.audioStart),R.hasVideo&&I(R.videoStart),E=null,I=null),D()}})},_0=function(e){var r=e.segment,n=e.bytes,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,d=e.isEndOfTimeline,c=e.endedTimelineFn,h=e.dataFn,g=e.doneFn,y=e.onTransmuxerLog,_=new Uint8Array(n);if(iw(_)){r.isFmp4=!0;var b=r.map.tracks,E={isFmp4:!0,hasVideo:!!b.video,hasAudio:!!b.audio};b.audio&&b.audio.codec&&b.audio.codec!=="enca"&&(E.audioCodec=b.audio.codec),b.video&&b.video.codec&&b.video.codec!=="encv"&&(E.videoCodec=b.video.codec),b.video&&b.audio&&(E.isMuxed=!0),t(r,E);var A=function(k){h(r,{data:_,type:E.hasAudio&&!E.isMuxed?"audio":"video"}),k&&k.length&&u(r,k),g(null,r,{})};Po({action:"probeMp4StartTime",timescales:r.map.timescales,data:_,transmuxer:r.transmuxer,callback:function(k){var D=k.data,j=k.startTime;if(n=D.buffer,r.bytes=_=D,E.hasAudio&&!E.isMuxed&&a(r,"audio","start",j),E.hasVideo&&a(r,"video","start",j),!b.video||!D.byteLength||!r.transmuxer){A();return}Po({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:r.transmuxer,data:_,timescales:r.map.timescales,trackIds:[b.video.id],callback:function(R){n=R.data.buffer,r.bytes=_=R.data,R.logs.forEach(function(U){y(N.mergeOptions(U,{stream:"mp4CaptionParser"}))}),A(R.captions)}})}});return}if(!r.transmuxer){g(null,r,{});return}if(typeof r.container>"u"&&(r.container=Wd(_)),r.container!=="ts"&&r.container!=="aac"){t(r,{hasAudio:!1,hasVideo:!1}),g(null,r,{});return}MI({segment:r,bytes:n,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:d,endedTimelineFn:c,dataFn:h,doneFn:g,onTransmuxerLog:y})},T0=function(e,r){var n=e.id,t=e.key,a=e.encryptedBytes,s=e.decryptionWorker,o=function u(d){if(d.data.source===n){s.removeEventListener("message",u);var c=d.data.decrypted;r(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};s.addEventListener("message",o);var l;t.bytes.slice?l=t.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(t.bytes)),s.postMessage(a0({source:n,encrypted:a,key:l,iv:t.iv}),[a.buffer,l.buffer])},RI=function(e){var r=e.decryptionWorker,n=e.segment,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,d=e.isEndOfTimeline,c=e.endedTimelineFn,h=e.dataFn,g=e.doneFn,y=e.onTransmuxerLog;T0({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:r},function(_){n.bytes=_,_0({segment:n,bytes:n.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:d,endedTimelineFn:c,dataFn:h,doneFn:g,onTransmuxerLog:y})})},NI=function(e){var r=e.activeXhrs,n=e.decryptionWorker,t=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,d=e.isEndOfTimeline,c=e.endedTimelineFn,h=e.dataFn,g=e.doneFn,y=e.onTransmuxerLog,_=0,b=!1;return function(E,A){if(!b){if(E)return b=!0,Ku(r),g(E,A);if(_+=1,_===r.length){var I=function(){if(A.encryptedBytes)return RI({decryptionWorker:n,segment:A,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:d,endedTimelineFn:c,dataFn:h,doneFn:g,onTransmuxerLog:y});_0({segment:A,bytes:A.bytes,trackInfoFn:t,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:d,endedTimelineFn:c,dataFn:h,doneFn:g,onTransmuxerLog:y})};if(A.endOfAllRequests=Date.now(),A.map&&A.map.encryptedBytes&&!A.map.bytes)return T0({decryptionWorker:n,id:A.requestId+"-init",encryptedBytes:A.map.encryptedBytes,key:A.map.key},function(k){A.map.bytes=k,y0(A,function(D){if(D)return Ku(r),g(D,A);I()})});I()}}}},FI=function(e){var r=e.loadendState,n=e.abortFn;return function(t){var a=t.target;a.aborted&&n&&!r.calledAbortFn&&(n(),r.calledAbortFn=!0)}},BI=function(e){var r=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(t){var a=t.target;if(!a.aborted)return r.stats=N.mergeOptions(r.stats,OI(t)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),n(t,r)}},UI=function(e){var r=e.xhr,n=e.xhrOptions,t=e.decryptionWorker,a=e.segment,s=e.abortFn,o=e.progressFn,l=e.trackInfoFn,u=e.timingInfoFn,d=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,h=e.id3Fn,g=e.captionsFn,y=e.isEndOfTimeline,_=e.endedTimelineFn,b=e.dataFn,E=e.doneFn,A=e.onTransmuxerLog,I=[],k=NI({activeXhrs:I,decryptionWorker:t,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:c,id3Fn:h,captionsFn:g,isEndOfTimeline:y,endedTimelineFn:_,dataFn:b,doneFn:E,onTransmuxerLog:A});if(a.key&&!a.key.bytes){var D=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&D.push(a.map.key);var j=N.mergeOptions(n,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),V=fp(a,D,k),R=r(j,V);I.push(R)}if(a.map&&!a.map.bytes){var U=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(U){var H=N.mergeOptions(n,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),z=fp(a,[a.map.key],k),G=r(H,z);I.push(G)}var K=N.mergeOptions(n,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:qu(a.map)}),de=DI({segment:a,finishProcessingFn:k}),Y=r(K,de);I.push(Y)}var W=N.mergeOptions(n,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:qu(a)}),$=LI({segment:a,finishProcessingFn:k,responseType:W.responseType}),ne=r(W,$);ne.addEventListener("progress",BI({segment:a,progressFn:o,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:c,id3Fn:h,captionsFn:g,isEndOfTimeline:y,endedTimelineFn:_,dataFn:b})),I.push(ne);var _e={};return I.forEach(function(be){be.addEventListener("loadend",FI({loadendState:_e,abortFn:s}))}),function(){return Ku(I)}},jI=_i("CodecUtils"),HI=function(e){var r=e.attributes||{};if(r.CODECS)return Ei(r.CODECS)},b0=function(e,r){var n=r.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},VI=function(e,r){if(!b0(e,r))return!0;var n=r.attributes||{},t=e.mediaGroups.AUDIO[n.AUDIO];for(var a in t)if(!t[a].uri&&!t[a].playlists)return!0;return!1},Io=function(e){var r={};return e.forEach(function(n){var t=n.mediaType,a=n.type,s=n.details;r[t]=r[t]||[],r[t].push(Hm(""+a+s))}),Object.keys(r).forEach(function(n){if(r[n].length>1){jI("multiple "+n+" codecs found as attributes: "+r[n].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),r[n]=null;return}r[n]=r[n][0]}),r},hp=function(e){var r=0;return e.audio&&r++,e.video&&r++,r},xa=function(e,r){var n=r.attributes||{},t=Io(HI(r)||[]);if(b0(e,r)&&!t.audio&&!VI(e,r)){var a=Io(oE(e,n.AUDIO)||[]);a.audio&&(t.audio=a.audio)}return t},Us=_i("PlaylistSelector"),pp=function(e){if(!(!e||!e.playlist)){var r=e.playlist;return JSON.stringify({id:r.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:r.attributes&&r.attributes.CODECS||""})}},Ao=function(e,r){if(!e)return"";var n=P.getComputedStyle(e);return n?n[r]:""},gn=function(e,r){var n=e.slice();e.sort(function(t,a){var s=r(t,a);return s===0?n.indexOf(t)-n.indexOf(a):s})},kc=function(e,r){var n,t;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||P.Number.MAX_VALUE,r.attributes.BANDWIDTH&&(t=r.attributes.BANDWIDTH),t=t||P.Number.MAX_VALUE,n-t},zI=function(e,r){var n,t;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||P.Number.MAX_VALUE,r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&(t=r.attributes.RESOLUTION.width),t=t||P.Number.MAX_VALUE,n===t&&e.attributes.BANDWIDTH&&r.attributes.BANDWIDTH?e.attributes.BANDWIDTH-r.attributes.BANDWIDTH:n-t},S0=function(e,r,n,t,a,s){if(e){var o={bandwidth:r,width:n,height:t,limitRenditionByPlayerDimensions:a},l=e.playlists;jt.isAudioOnly(e)&&(l=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=l.map(function(H){var z,G=H.attributes&&H.attributes.RESOLUTION&&H.attributes.RESOLUTION.width,K=H.attributes&&H.attributes.RESOLUTION&&H.attributes.RESOLUTION.height;return z=H.attributes&&H.attributes.BANDWIDTH,z=z||P.Number.MAX_VALUE,{bandwidth:z,width:G,height:K,playlist:H}});gn(u,function(H,z){return H.bandwidth-z.bandwidth}),u=u.filter(function(H){return!jt.isIncompatible(H.playlist)});var d=u.filter(function(H){return jt.isEnabled(H.playlist)});d.length||(d=u.filter(function(H){return!jt.isDisabled(H.playlist)}));var c=d.filter(function(H){return H.bandwidth*at.BANDWIDTH_VARIANCE<r}),h=c[c.length-1],g=c.filter(function(H){return H.bandwidth===h.bandwidth})[0];if(a===!1){var y=g||d[0]||u[0];if(y&&y.playlist){var _="sortedPlaylistReps";return g&&(_="bandwidthBestRep"),d[0]&&(_="enabledPlaylistReps"),Us("choosing "+pp(y)+" using "+_+" with options",o),y.playlist}return Us("could not choose a playlist with options",o),null}var b=c.filter(function(H){return H.width&&H.height});gn(b,function(H,z){return H.width-z.width});var E=b.filter(function(H){return H.width===n&&H.height===t});h=E[E.length-1];var A=E.filter(function(H){return H.bandwidth===h.bandwidth})[0],I,k,D;A||(I=b.filter(function(H){return H.width>n||H.height>t}),k=I.filter(function(H){return H.width===I[0].width&&H.height===I[0].height}),h=k[k.length-1],D=k.filter(function(H){return H.bandwidth===h.bandwidth})[0]);var j;if(s.experimentalLeastPixelDiffSelector){var V=b.map(function(H){return H.pixelDiff=Math.abs(H.width-n)+Math.abs(H.height-t),H});gn(V,function(H,z){return H.pixelDiff===z.pixelDiff?z.bandwidth-H.bandwidth:H.pixelDiff-z.pixelDiff}),j=V[0]}var R=j||D||A||g||d[0]||u[0];if(R&&R.playlist){var U="sortedPlaylistReps";return j?U="leastPixelDiffRep":D?U="resolutionPlusOneRep":A?U="resolutionBestRep":g?U="bandwidthBestRep":d[0]&&(U="enabledPlaylistReps"),Us("choosing "+pp(R)+" using "+U+" with options",o),R.playlist}return Us("could not choose a playlist with options",o),null}},mp=function(){var e=this.useDevicePixelRatio&&P.devicePixelRatio||1;return S0(this.playlists.master,this.systemBandwidth,parseInt(Ao(this.tech_.el(),"width"),10)*e,parseInt(Ao(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},WI=function(e){var r=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var t=this.useDevicePixelRatio&&P.devicePixelRatio||1;return r<0&&(r=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(r=e*this.systemBandwidth+(1-e)*r,n=this.systemBandwidth),S0(this.playlists.master,r,parseInt(Ao(this.tech_.el(),"width"),10)*t,parseInt(Ao(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},GI=function(e){var r=e.master,n=e.currentTime,t=e.bandwidth,a=e.duration,s=e.segmentDuration,o=e.timeUntilRebuffer,l=e.currentTimeline,u=e.syncController,d=r.playlists.filter(function(_){return!jt.isIncompatible(_)}),c=d.filter(jt.isEnabled);c.length||(c=d.filter(function(_){return!jt.isDisabled(_)}));var h=c.filter(jt.hasAttribute.bind(null,"BANDWIDTH")),g=h.map(function(_){var b=u.getSyncPoint(_,a,l,n),E=b?1:2,A=jt.estimateSegmentRequestTime(s,t,_),I=A*E-o;return{playlist:_,rebufferingImpact:I}}),y=g.filter(function(_){return _.rebufferingImpact<=0});return gn(y,function(_,b){return kc(b.playlist,_.playlist)}),y.length?y[0]:(gn(g,function(_,b){return _.rebufferingImpact-b.rebufferingImpact}),g[0]||null)},$I=function(){var e=this,r=this.playlists.master.playlists.filter(jt.isEnabled);gn(r,function(t,a){return kc(t,a)});var n=r.filter(function(t){return!!xa(e.playlists.master,t).video});return n[0]||null},qI=function(e){var r=0,n;return e.bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(function(t){n.set(t,r),r+=t.byteLength})),n},XI=function(e,r,n){if(!e[n]){r.trigger({type:"usage",name:"vhs-608"}),r.trigger({type:"usage",name:"hls-608"});var t=n;/^cc708_/.test(n)&&(t="SERVICE"+n.split("_")[1]);var a=r.textTracks().getTrackById(t);if(a)e[n]=a;else{var s=r.options_.vhs&&r.options_.vhs.captionServices||{},o=n,l=n,u=!1,d=s[t];d&&(o=d.label,l=d.language,u=d.default),e[n]=r.addRemoteTextTrack({kind:"captions",id:t,default:u,label:o,language:l},!1).track}}},KI=function(e){var r=e.inbandTextTracks,n=e.captionArray,t=e.timestampOffset;if(n){var a=P.WebKitDataCue||P.VTTCue;n.forEach(function(s){var o=s.stream;r[o].addCue(new a(s.startTime+t,s.endTime+t,s.text))})}},YI=function(e){Object.defineProperties(e.frame,{id:{get:function(){return N.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return N.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return N.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},QI=function(e){var r=e.inbandTextTracks,n=e.metadataArray,t=e.timestampOffset,a=e.videoDuration;if(n){var s=P.WebKitDataCue||P.VTTCue,o=r.metadataTrack_;if(o&&(n.forEach(function(g){var y=g.cueTime+t;typeof y!="number"||P.isNaN(y)||y<0||!(y<1/0)||g.frames.forEach(function(_){var b=new s(y,y,_.value||_.url||_.data||"");b.frame=_,b.value=_,YI(b),o.addCue(b)})}),!(!o.cues||!o.cues.length))){for(var l=o.cues,u=[],d=0;d<l.length;d++)l[d]&&u.push(l[d]);var c=u.reduce(function(g,y){var _=g[y.startTime]||[];return _.push(y),g[y.startTime]=_,g},{}),h=Object.keys(c).sort(function(g,y){return Number(g)-Number(y)});h.forEach(function(g,y){var _=c[g],b=Number(h[y+1])||a;_.forEach(function(E){E.endTime=b})})}}},JI=function(e,r,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=r)},pa=function(e,r,n){var t,a;if(n&&n.cues)for(t=n.cues.length;t--;)a=n.cues[t],a.startTime>=e&&a.endTime<=r&&n.removeCue(a)},ZI=function(e){var r=e.cues;if(r)for(var n=0;n<r.length;n++){for(var t=[],a=0,s=0;s<r.length;s++)r[n].startTime===r[s].startTime&&r[n].endTime===r[s].endTime&&r[n].text===r[s].text&&(a++,a>1&&t.push(r[s]));t.length&&t.forEach(function(o){return e.removeCue(o)})}},eA=function(e,r,n){if(typeof r>"u"||r===null||!e.length)return[];var t=Math.ceil((r-n+3)*po.ONE_SECOND_IN_TS),a;for(a=0;a<e.length&&!(e[a].pts>t);a++);return e.slice(a)},tA=function(e,r,n){if(!r.length)return e;if(n)return r.slice();var t=r[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=t);a++);return e.slice(0,a).concat(r)},iA=function(e,r,n,t){for(var a=Math.ceil((r-t)*po.ONE_SECOND_IN_TS),s=Math.ceil((n-t)*po.ONE_SECOND_IN_TS),o=e.slice(),l=e.length;l--&&!(e[l].pts<=s););if(l===-1)return o;for(var u=l+1;u--&&!(e[u].pts<=a););return u=Math.max(u,0),o.splice(u,l-u+1),o},rA=function(e,r){if(!e&&!r||!e&&r||e&&!r)return!1;if(e===r)return!0;var n=Object.keys(e).sort(),t=Object.keys(r).sort();if(n.length!==t.length)return!1;for(var a=0;a<n.length;a++){var s=n[a];if(s!==t[a]||e[s]!==r[s])return!1}return!0},x0=22,nA=function(e,r,n){r=r||[];for(var t=[],a=0,s=0;s<r.length;s++){var o=r[s];if(e===o.timeline&&(t.push(s),a+=o.duration,a>n))return s}return t.length===0?0:t[t.length-1]},sa=1,aA=500,gp=function(e){return typeof e=="number"&&isFinite(e)},js=1/60,sA=function(e,r,n){return e!=="main"||!r||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":r.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},oA=function(e,r,n){var t=r-at.BACK_BUFFER_LENGTH;e.length&&(t=Math.max(t,e.start(0)));var a=r-n;return Math.min(a,t)},tn=function(e){var r=e.startOfSegment,n=e.duration,t=e.segment,a=e.part,s=e.playlist,o=s.mediaSequence,l=s.id,u=s.segments,d=u===void 0?[]:u,c=e.mediaIndex,h=e.partIndex,g=e.timeline,y=d.length-1,_="mediaIndex/partIndex increment";e.getMediaInfoForTime?_="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(_="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(_+=" with independent "+e.independent);var b=typeof h=="number",E=e.segment.uri?"segment":"pre-segment",A=b?Gv({preloadSegment:t})-1:0;return E+" ["+(o+c)+"/"+(o+y)+"]"+(b?" part ["+h+"/"+A+"]":"")+(" segment start/end ["+t.start+" => "+t.end+"]")+(b?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+r+"]")+(" duration ["+n+"]")+(" timeline ["+g+"]")+(" selected by ["+_+"]")+(" playlist ["+l+"]")},vp=function(e){return e+"TimingInfo"},lA=function(e){var r=e.segmentTimeline,n=e.currentTimeline,t=e.startOfSegment,a=e.buffered,s=e.overrideCheck;return!s&&r===n?null:r<n?t:a.length?a.end(a.length-1):t},yp=function(e){var r=e.timelineChangeController,n=e.currentTimeline,t=e.segmentTimeline,a=e.loaderType,s=e.audioDisabled;if(n===t)return!1;if(a==="audio"){var o=r.lastTimelineChange({type:"main"});return!o||o.to!==t}if(a==="main"&&s){var l=r.pendingTimelineChange({type:"audio"});return!(l&&l.to===t)}return!1},uA=function(e){var r=0;return["video","audio"].forEach(function(n){var t=e[n+"TimingInfo"];if(t){var a=t.start,s=t.end,o;typeof a=="bigint"||typeof s=="bigint"?o=P.BigInt(s)-P.BigInt(a):typeof a=="number"&&typeof s=="number"&&(o=s-a),typeof o<"u"&&o>r&&(r=o)}}),typeof r=="bigint"&&r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r},_p=function(e){var r=e.segmentDuration,n=e.maxDuration;return r?Math.round(r)>n+mr:!1},dA=function(e,r){if(r!=="hls")return null;var n=uA({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;var t=e.playlist.targetDuration,a=_p({segmentDuration:n,maxDuration:t*2}),s=_p({segmentDuration:n,maxDuration:t}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+n+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+t+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:o}:null},Yu=function(i){se(e,i);function e(n,t){var a;if(a=i.call(this)||this,!n)throw new TypeError("Initialization settings are required");if(typeof n.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!n.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=n.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=n.hasPlayed,a.currentTime_=n.currentTime,a.seekable_=n.seekable,a.seeking_=n.seeking,a.duration_=n.duration,a.mediaSource_=n.mediaSource,a.vhs_=n.vhs,a.loaderType_=n.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=n.segmentMetadataTrack,a.goalBufferLength_=n.goalBufferLength,a.sourceType_=n.sourceType,a.sourceUpdater_=n.sourceUpdater,a.inbandTextTracks_=n.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=n.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=n.parse708captions,a.useDtsForTimestampOffset_=n.useDtsForTimestampOffset,a.captionServices_=n.captionServices,a.experimentalExactManifestTimings=n.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=N.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=n.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=n.decrypter,a.syncController_=n.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=_i("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(Se(a),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var r=e.prototype;return r.createTransmuxer_=function(){return nu.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},r.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},r.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&P.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},r.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},r.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},r.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,P.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},r.checkForAbort_=function(t){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==t},r.error=function(t){return typeof t<"u"&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},r.endOfStream=function(){this.ended_=!0,this.transmuxer_&&nu.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},r.buffered_=function(){var t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return N.createTimeRanges();if(this.loaderType_==="main"){var a=t.hasAudio,s=t.hasVideo,o=t.isMuxed;if(s&&a&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},r.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=wo(t),o=this.initSegments_[s];return a&&!o&&t.bytes&&(this.initSegments_[s]=o={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),o||t},r.segmentKey=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=s0(t),o=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!o&&t.bytes&&(this.keyCache_[s]=o={resolvedUri:t.resolvedUri,bytes:t.bytes});var l={resolvedUri:(o||t).resolvedUri};return o&&(l.bytes=o.bytes),l},r.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},r.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.playlist=function(t,a){if(a===void 0&&(a={}),!!t){var s=this.playlist_,o=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=a,this.state==="INIT"&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(t));var l=null;if(s&&(s.id?l=s.id:s.uri&&(l=s.uri)),this.logger_("playlist update ["+l+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==t.uri){this.mediaIndex!==null&&(t.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var u=t.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+u+"]"),this.mediaIndex!==null)if(this.mediaIndex-=u,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var d=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!d.parts||!d.parts.length||!d.parts[this.partIndex])){var c=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=c}}o&&(o.mediaIndex-=u,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=t.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,t)}},r.pause=function(){this.checkBufferTimeout_&&(P.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},r.paused=function(){return this.checkBufferTimeout_===null},r.resetEverything=function(t){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},r.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},r.resyncLoader=function(){this.transmuxer_&&nu.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},r.remove=function(t,a,s,o){if(s===void 0&&(s=function(){}),o===void 0&&(o=!1),a===1/0&&(a=this.duration_()),a<=t){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,u=function(){l--,l===0&&s()};(o||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(t,a,u)),(o||this.loaderType_==="main")&&(this.gopBuffer_=iA(this.gopBuffer_,t,a,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(t,a,u));for(var d in this.inbandTextTracks_)pa(t,a,this.inbandTextTracks_[d]);pa(t,a,this.segmentMetadataTrack_),u()},r.monitorBuffer_=function(){this.checkBufferTimeout_&&P.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=P.setTimeout(this.monitorBufferTick_.bind(this),1)},r.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&P.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=P.setTimeout(this.monitorBufferTick_.bind(this),aA)},r.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var t=this.chooseNextRequest_();t&&(typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t))}},r.isEndOfStream_=function(t,a,s){if(t===void 0&&(t=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var o=typeof t=="number"&&a.segments[t],l=t+1===a.segments.length,u=!o||!o.parts||s+1===o.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&l&&u},r.chooseNextRequest_=function(){var t=this.buffered_(),a=sp(t)||0,s=Ec(t,this.currentTime_()),o=!this.hasPlayed_()&&s>=1,l=s>=this.goalBufferLength_(),u=this.playlist_.segments;if(!u.length||o||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var d={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(d.isSyncRequest)d.mediaIndex=nA(this.currentTimeline_,u,a);else if(this.mediaIndex!==null){var c=u[this.mediaIndex],h=typeof this.partIndex=="number"?this.partIndex:-1;d.startOfSegment=c.end?c.end:a,c.parts&&c.parts[h+1]?(d.mediaIndex=this.mediaIndex,d.partIndex=h+1):d.mediaIndex=this.mediaIndex+1}else{var g=jt.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),y=g.segmentIndex,_=g.startTime,b=g.partIndex;d.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),d.mediaIndex=y,d.startOfSegment=_,d.partIndex=b}var E=u[d.mediaIndex],A=E&&typeof d.partIndex=="number"&&E.parts&&E.parts[d.partIndex];if(!E||typeof d.partIndex=="number"&&!A)return null;if(typeof d.partIndex!="number"&&E.parts&&(d.partIndex=0,A=E.parts[0]),!s&&A&&!A.independent)if(d.partIndex===0){var I=u[d.mediaIndex-1],k=I.parts&&I.parts.length&&I.parts[I.parts.length-1];k&&k.independent&&(d.mediaIndex-=1,d.partIndex=I.parts.length-1,d.independent="previous segment")}else E.parts[d.partIndex-1].independent&&(d.partIndex-=1,d.independent="previous part");var D=this.mediaSource_&&this.mediaSource_.readyState==="ended";return d.mediaIndex>=u.length-1&&D&&!this.seeking_()?null:this.generateSegmentInfo_(d)},r.generateSegmentInfo_=function(t){var a=t.independent,s=t.playlist,o=t.mediaIndex,l=t.startOfSegment,u=t.isSyncRequest,d=t.partIndex,c=t.forceTimestampOffset,h=t.getMediaInfoForTime,g=s.segments[o],y=typeof d=="number"&&g.parts[d],_={requestId:"segment-loader-"+Math.random(),uri:y&&y.resolvedUri||g.resolvedUri,mediaIndex:o,partIndex:y?d:null,isSyncRequest:u,startOfSegment:l,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:g.timeline,duration:y&&y.duration||g.duration,segment:g,part:y,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:h,independent:a},b=typeof c<"u"?c:this.isPendingTimestampOffset_;_.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:g.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:b});var E=sp(this.sourceUpdater_.audioBuffered());return typeof E=="number"&&(_.audioAppendStart=E-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(_.gopsToAlignWith=eA(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),_},r.timestampOffsetForSegment_=function(t){return lA(t)},r.earlyAbortWhenNeeded_=function(t){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=t.bandwidth,o=this.pendingSegment_.duration,l=jt.estimateSegmentRequestTime(o,s,this.playlist_,t.bytesReceived),u=MP(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(l<=u)){var d=GI({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:u,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(d){var c=l-u,h=c-d.rebufferingImpact,g=.5;u<=mr&&(g=1),!(!d.playlist||d.playlist.uri===this.playlist_.uri||h<g)&&(this.bandwidth=d.playlist.attributes.BANDWIDTH*at.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},r.handleAbort_=function(t){this.logger_("Aborting "+tn(t)),this.mediaRequestsAborted+=1},r.handleProgress_=function(t,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},r.handleTrackInfo_=function(t,a){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},rA(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(t.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},r.handleTimingInfo_=function(t,a,s,o){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var l=this.pendingSegment_,u=vp(a);l[u]=l[u]||{},l[u][s]=o,this.logger_("timinginfo: "+a+" - "+s+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},r.handleCaptions_=function(t,a){var s=this;if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,a));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),u={};a.forEach(function(d){u[d.stream]=u[d.stream]||{startTime:1/0,captions:[],endTime:0};var c=u[d.stream];c.startTime=Math.min(c.startTime,d.startTime+l),c.endTime=Math.max(c.endTime,d.endTime+l),c.captions.push(d)}),Object.keys(u).forEach(function(d){var c=u[d],h=c.startTime,g=c.endTime,y=c.captions,_=s.inbandTextTracks_;s.logger_("adding cues from "+h+" -> "+g+" for "+d),XI(_,s.vhs_.tech_,d),pa(h,g,_[d]),KI({captionArray:y,inbandTextTracks:_,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},r.handleId3_=function(t,a,s){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,a,s));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();JI(this.inbandTextTracks_,s,this.vhs_.tech_),QI({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:l,videoDuration:this.duration_()})}},r.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(t){return t()}),this.metadataQueue_.caption.forEach(function(t){return t()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},r.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach(function(a){return a()})},r.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach(function(a){return a()})},r.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var t=this.pendingSegment_;return t?this.getCurrentMediaInfo_()?!yp({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},r.getCurrentMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),t&&t.trackInfo||this.currentMediaInfo_},r.getMediaInfo_=function(t){return t===void 0&&(t=this.pendingSegment_),this.getCurrentMediaInfo_(t)||this.startingMediaInfo_},r.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var t=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!t||!a)return!1;var s=a.hasAudio,o=a.hasVideo,l=a.isMuxed;return!(o&&!t.videoTimingInfo||s&&!this.audioDisabled_&&!l&&!t.audioTimingInfo||yp({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},r.handleData_=function(t,a){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,t,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),s.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),s.isFmp4=t.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[vp(a.type)].start;else{var o=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&o&&o.hasVideo,u;l&&(u=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:u,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var d=this.chooseNextRequest_();if(d.mediaIndex!==s.mediaIndex||d.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},r.updateAppendInitSegmentStatus=function(t,a){this.loaderType_==="main"&&typeof t.timestampOffset=="number"&&!t.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==t.playlist&&(this.appendInitSegment_[a]=!0)},r.getInitSegmentAndUpdateState_=function(t){var a=t.type,s=t.initSegment,o=t.map,l=t.playlist;if(o){var u=wo(o);if(this.activeInitSegmentId_===u)return null;s=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=u}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=l,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},r.handleQuotaExceededError_=function(t,a){var s=this,o=t.segmentInfo,l=t.type,u=t.bytes,d=this.sourceUpdater_.audioBuffered(),c=this.sourceUpdater_.videoBuffered();d.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Lr(d).join(", ")),c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Lr(c).join(", "));var h=d.length?d.start(0):0,g=d.length?d.end(d.length-1):0,y=c.length?c.start(0):0,_=c.length?c.end(c.length-1):0;if(g-h<=sa&&_-y<=sa){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+u.byteLength+", ")+("audio buffer: "+Lr(d).join(", ")+", ")+("video buffer: "+Lr(c).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:l,bytes:u}));var b=this.currentTime_(),E=b-sa;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+E),this.remove(0,E,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+sa+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=P.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},sa*1e3)},!0)},r.handleAppendError_=function(t,a){var s=t.segmentInfo,o=t.type,l=t.bytes;if(a){if(a.code===x0){this.handleQuotaExceededError_({segmentInfo:s,type:o,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(o+" append of "+l.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},r.appendToSourceBuffer_=function(t){var a=t.segmentInfo,s=t.type,o=t.initSegment,l=t.data,u=t.bytes;if(!u){var d=[l],c=l.byteLength;o&&(d.unshift(o),c+=o.byteLength),u=qI({bytes:c,segments:d})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:u}))},r.handleSegmentTimingInfo_=function(t,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,l=t+"TimingInfo";o[l]||(o[l]={}),o[l].transmuxerPrependedSeconds=s.prependedContentDuration||0,o[l].transmuxedPresentationStart=s.start.presentation,o[l].transmuxedDecodeStart=s.start.decode,o[l].transmuxedPresentationEnd=s.end.presentation,o[l].transmuxedDecodeEnd=s.end.decode,o[l].baseMediaDecodeTime=s.baseMediaDecodeTime}},r.appendData_=function(t,a){var s=a.type,o=a.data;if(!(!o||!o.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:s,initSegment:l,data:o})}},r.loadSegment_=function(t){var a=this;if(this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),typeof t.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=ai({},t,{forceTimestampOffset:!0});ai(t,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(t)});return}this.updateTransmuxerAndRequestSegment_(t)},r.updateTransmuxerAndRequestSegment_=function(t){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var s=this.createSimplifiedSegmentObj_(t),o=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex),l=this.mediaIndex!==null,u=t.timeline!==this.currentTimeline_&&t.timeline>0,d=o||l&&u;this.logger_("Requesting "+tn(t)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=UI({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:d,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(h){var g=h.message,y=h.level,_=h.stream;a.logger_(tn(t)+" logged from transmuxer stream "+_+" as a "+y+": "+g)}})},r.trimBackBuffer_=function(t){var a=oA(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},r.createSimplifiedSegmentObj_=function(t){var a=t.segment,s=t.part,o={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part},l=t.playlist.segments[t.mediaIndex-1];if(l&&l.timeline===a.timeline&&(l.videoTimingInfo?o.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(o.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),a.key){var u=a.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);o.key=this.segmentKey(a.key),o.key.iv=u}return a.map&&(o.map=this.initSegmentForMap(a.map)),o},r.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},r.saveBandwidthRelatedStats_=function(t,a){if(this.pendingSegment_.byteLength=a.bytesReceived,t<js){this.logger_("Ignoring segment's bandwidth because its duration of "+t+(" is less than the min to record "+js));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},r.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},r.segmentRequestFinished_=function(t,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===ki.ABORTED)return;if(this.pause(),t.code===ki.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(t),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,a.stats),o.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=tA(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},r.setTimeMapping_=function(t){var a=this.syncController_.mappingForTimeline(t);a!==null&&(this.timeMapping_=a)},r.updateMediaSecondsLoaded_=function(t){typeof t.start=="number"&&typeof t.end=="number"?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},r.shouldUpdateTransmuxerTimestampOffset_=function(t){return t===null?!1:this.loaderType_==="main"&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset()},r.trueSegmentStart_=function(t){var a=t.currentStart,s=t.playlist,o=t.mediaIndex,l=t.firstVideoFrameTimeForData,u=t.currentVideoTimestampOffset,d=t.useVideoTimingInfo,c=t.videoTimingInfo,h=t.audioTimingInfo;if(typeof a<"u")return a;if(!d)return h.start;var g=s.segments[o-1];return o===0||!g||typeof g.start>"u"||g.end!==l+u?l:c.start},r.waitForAppendsToComplete_=function(t){var a=this.getCurrentMediaInfo_(t);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,o=a.hasVideo,l=a.isMuxed,u=this.loaderType_==="main"&&o,d=!this.audioDisabled_&&s&&!l;if(t.waitingOnAppends=0,!t.hasAppendedData_){!t.timingInfo&&typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),this.checkAppendsDone_(t);return}u&&t.waitingOnAppends++,d&&t.waitingOnAppends++,u&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),d&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},r.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,t.waitingOnAppends===0&&this.handleAppendsDone_())},r.checkForIllegalMediaSwitch=function(t){var a=sA(this.loaderType_,this.getCurrentMediaInfo_(),t);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},r.updateSourceBufferTimestampOffset_=function(t){if(!(t.timestampOffset===null||typeof t.timingInfo.start!="number"||t.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;t.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t.segment.videoTimingInfo,audioTimingInfo:t.segment.audioTimingInfo,timingInfo:t.timingInfo}),t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),a=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},r.getSegmentStartTimeForTimestampOffsetCalculation_=function(t){var a=t.videoTimingInfo,s=t.audioTimingInfo,o=t.timingInfo;return this.useDtsForTimestampOffset_?a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:o.start:o.start},r.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,o=s&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;o&&(t.timingInfo.end=typeof o.end=="number"?o.end:o.start+t.duration)},r.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var t=this.pendingSegment_;this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=dA(t,this.sourceType_);if(a&&(a.severity==="warn"?N.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest&&(this.trigger("syncinfoupdate"),!t.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+tn(t));return}this.logger_("Appended "+tn(t)),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var s=t.segment,o=t.part,l=s.end&&this.currentTime_()-s.end>t.playlist.targetDuration*3,u=o&&o.end&&this.currentTime_()-o.end>t.playlist.partTargetDuration*3;if(l||u){this.logger_("bad "+(l?"segment":"part")+" "+tn(t)),this.resetEverything();return}var d=this.mediaIndex!==null;d&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},r.recordThroughput_=function(t){if(t.duration<js){this.logger_("Ignoring segment's throughput because its duration of "+t.duration+(" is less than the min to record "+js));return}var a=this.throughput.rate,s=Date.now()-t.endOfAllRequests+1,o=Math.floor(t.byteLength/s*8*1e3);this.throughput.rate+=(o-a)/++this.throughput.count},r.addSegmentMetadataCue_=function(t){if(this.segmentMetadataTrack_){var a=t.segment,s=a.start,o=a.end;if(!(!gp(s)||!gp(o))){pa(s,o,this.segmentMetadataTrack_);var l=P.WebKitDataCue||P.VTTCue,u={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:s,end:o},d=JSON.stringify(u),c=new l(s,o,d);c.value=u,this.segmentMetadataTrack_.addCue(c)}}},e}(N.EventTarget);function zi(){}var E0=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},cA=["video","audio"],Qu=function(e,r){var n=r[e+"Buffer"];return n&&n.updating||r.queuePending[e]},fA=function(e,r){for(var n=0;n<r.length;n++){var t=r[n];if(t.type==="mediaSource")return null;if(t.type===e)return n}return null},Oc=function i(e,r){if(r.queue.length!==0){var n=0,t=r.queue[n];if(t.type==="mediaSource"){!r.updating()&&r.mediaSource.readyState!=="closed"&&(r.queue.shift(),t.action(r),t.doneFn&&t.doneFn(),i("audio",r),i("video",r));return}if(e!=="mediaSource"&&!(!r.ready()||r.mediaSource.readyState==="closed"||Qu(e,r))){if(t.type!==e){if(n=fA(e,r.queue),n===null)return;t=r.queue[n]}if(r.queue.splice(n,1),r.queuePending[e]=t,t.action(e,r),!t.doneFn){r.queuePending[e]=null,i(e,r);return}}}},C0=function(e,r){var n=r[e+"Buffer"],t=E0(e);n&&(n.removeEventListener("updateend",r["on"+t+"UpdateEnd_"]),n.removeEventListener("error",r["on"+t+"Error_"]),r.codecs[e]=null,r[e+"Buffer"]=null)},wi=function(e,r){return e&&r&&Array.prototype.indexOf.call(e.sourceBuffers,r)!==-1},Wt={appendBuffer:function(e,r,n){return function(t,a){var s=a[t+"Buffer"];if(wi(a.mediaSource,s)){a.logger_("Appending segment "+r.mediaIndex+"'s "+e.length+" bytes to "+t+"Buffer");try{s.appendBuffer(e)}catch(o){a.logger_("Error with code "+o.code+" "+(o.code===x0?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+r.mediaIndex+" to "+t+"Buffer")),a.queuePending[t]=null,n(o)}}}},remove:function(e,r){return function(n,t){var a=t[n+"Buffer"];if(wi(t.mediaSource,a)){t.logger_("Removing "+e+" to "+r+" from "+n+"Buffer");try{a.remove(e,r)}catch{t.logger_("Remove "+e+" to "+r+" from "+n+"Buffer failed")}}}},timestampOffset:function(e){return function(r,n){var t=n[r+"Buffer"];wi(n.mediaSource,t)&&(n.logger_("Setting "+r+"timestampOffset to "+e),t.timestampOffset=e)}},callback:function(e){return function(r,n){e()}},endOfStream:function(e){return function(r){if(r.mediaSource.readyState==="open"){r.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{r.mediaSource.endOfStream(e)}catch(n){N.log.warn("Failed to call media source endOfStream",n)}}}},duration:function(e){return function(r){r.logger_("Setting mediaSource duration to "+e);try{r.mediaSource.duration=e}catch(n){N.log.warn("Failed to set media source duration",n)}}},abort:function(){return function(e,r){if(r.mediaSource.readyState==="open"){var n=r[e+"Buffer"];if(wi(r.mediaSource,n)){r.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(t){N.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},addSourceBuffer:function(e,r){return function(n){var t=E0(e),a=La(r);n.logger_("Adding "+e+"Buffer with codec "+r+" to mediaSource");var s=n.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",n["on"+t+"UpdateEnd_"]),s.addEventListener("error",n["on"+t+"Error_"]),n.codecs[e]=r,n[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(r){var n=r[e+"Buffer"];if(C0(e,r),!!wi(r.mediaSource,n)){r.logger_("Removing "+e+"Buffer with codec "+r.codecs[e]+" from mediaSource");try{r.mediaSource.removeSourceBuffer(n)}catch(t){N.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},changeType:function(e){return function(r,n){var t=n[r+"Buffer"],a=La(e);wi(n.mediaSource,t)&&n.codecs[r]!==e&&(n.logger_("changing "+r+"Buffer codec from "+n.codecs[r]+" to "+e),t.changeType(a),n.codecs[r]=e)}}},Gt=function(e){var r=e.type,n=e.sourceUpdater,t=e.action,a=e.doneFn,s=e.name;n.queue.push({type:r,action:t,doneFn:a,name:s}),Oc(r,n)},Tp=function(e,r){return function(n){if(r.queuePending[e]){var t=r.queuePending[e].doneFn;r.queuePending[e]=null,t&&t(r[e+"Error_"])}Oc(e,r)}},w0=function(i){se(e,i);function e(n){var t;return t=i.call(this)||this,t.mediaSource=n,t.sourceopenListener_=function(){return Oc("mediaSource",Se(t))},t.mediaSource.addEventListener("sourceopen",t.sourceopenListener_),t.logger_=_i("SourceUpdater"),t.audioTimestampOffset_=0,t.videoTimestampOffset_=0,t.queue=[],t.queuePending={audio:null,video:null},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!1,t.codecs={},t.onVideoUpdateEnd_=Tp("video",Se(t)),t.onAudioUpdateEnd_=Tp("audio",Se(t)),t.onVideoError_=function(a){t.videoError_=a},t.onAudioError_=function(a){t.audioError_=a},t.createdSourceBuffers_=!1,t.initializedEme_=!1,t.triggeredReady_=!1,t}var r=e.prototype;return r.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},r.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},r.hasInitializedAnyEme=function(){return this.initializedEme_},r.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},r.createSourceBuffers=function(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},r.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},r.addSourceBuffer=function(t,a){Gt({type:"mediaSource",sourceUpdater:this,action:Wt.addSourceBuffer(t,a),name:"addSourceBuffer"})},r.abort=function(t){Gt({type:t,sourceUpdater:this,action:Wt.abort(t),name:"abort"})},r.removeSourceBuffer=function(t){if(!this.canRemoveSourceBuffer()){N.log.error("removeSourceBuffer is not supported!");return}Gt({type:"mediaSource",sourceUpdater:this,action:Wt.removeSourceBuffer(t),name:"removeSourceBuffer"})},r.canRemoveSourceBuffer=function(){return!N.browser.IE_VERSION&&!N.browser.IS_FIREFOX&&P.MediaSource&&P.MediaSource.prototype&&typeof P.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return P.SourceBuffer&&P.SourceBuffer.prototype&&typeof P.SourceBuffer.prototype.changeType=="function"},r.canChangeType=function(){return this.constructor.canChangeType()},r.changeType=function(t,a){if(!this.canChangeType()){N.log.error("changeType is not supported!");return}Gt({type:t,sourceUpdater:this,action:Wt.changeType(a),name:"changeType"})},r.addOrChangeSourceBuffers=function(t){var a=this;if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(function(s){var o=t[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,o);a.canChangeType()&&a.changeType(s,o)})},r.appendBuffer=function(t,a){var s=this,o=t.segmentInfo,l=t.type,u=t.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([t,a]),this.logger_("delayed audio append of "+u.length+" until video append");return}var d=a;if(Gt({type:l,sourceUpdater:this,action:Wt.appendBuffer(u,o||{mediaIndex:-1},d),doneFn:a,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var c=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+c.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,c.forEach(function(h){s.appendBuffer.apply(s,h)})}},r.audioBuffered=function(){return wi(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:N.createTimeRange()},r.videoBuffered=function(){return wi(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:N.createTimeRange()},r.buffered=function(){var t=wi(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=wi(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!t?this.audioBuffered():t&&!a?this.videoBuffered():LP(this.audioBuffered(),this.videoBuffered())},r.setDuration=function(t,a){a===void 0&&(a=zi),Gt({type:"mediaSource",sourceUpdater:this,action:Wt.duration(t),name:"duration",doneFn:a})},r.endOfStream=function(t,a){t===void 0&&(t=null),a===void 0&&(a=zi),typeof t!="string"&&(t=void 0),Gt({type:"mediaSource",sourceUpdater:this,action:Wt.endOfStream(t),name:"endOfStream",doneFn:a})},r.removeAudio=function(t,a,s){if(s===void 0&&(s=zi),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}Gt({type:"audio",sourceUpdater:this,action:Wt.remove(t,a),doneFn:s,name:"remove"})},r.removeVideo=function(t,a,s){if(s===void 0&&(s=zi),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}Gt({type:"video",sourceUpdater:this,action:Wt.remove(t,a),doneFn:s,name:"remove"})},r.updating=function(){return!!(Qu("audio",this)||Qu("video",this))},r.audioTimestampOffset=function(t){return typeof t<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Gt({type:"audio",sourceUpdater:this,action:Wt.timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},r.videoTimestampOffset=function(t){return typeof t<"u"&&this.videoBuffer&&this.videoTimestampOffset!==t&&(Gt({type:"video",sourceUpdater:this,action:Wt.timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},r.audioQueueCallback=function(t){this.audioBuffer&&Gt({type:"audio",sourceUpdater:this,action:Wt.callback(t),name:"callback"})},r.videoQueueCallback=function(t){this.videoBuffer&&Gt({type:"video",sourceUpdater:this,action:Wt.callback(t),name:"callback"})},r.dispose=function(){var t=this;this.trigger("dispose"),cA.forEach(function(a){t.abort(a),t.canRemoveSourceBuffer()?t.removeSourceBuffer(a):t[a+"QueueCallback"](function(){return C0(a,t)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(N.EventTarget),bp=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Sp=new Uint8Array(`

`.split("").map(function(i){return i.charCodeAt(0)})),hA=function(i){se(e,i);function e(){return i.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return e}(Du(Error)),pA=function(i){se(e,i);function e(n,t){var a;return t===void 0&&(t={}),a=i.call(this,n,t)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=n.featuresNativeTextTracks,a.loadVttJs=n.loadVttJs,a.shouldSaveSegmentTimingInfo_=!1,a}var r=e.prototype;return r.createTransmuxer_=function(){return null},r.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return N.createTimeRanges();var t=this.subtitlesTrack_.cues,a=t[0].startTime,s=t[t.length-1].startTime;return N.createTimeRanges([[a,s]])},r.initSegmentForMap=function(t,a){if(a===void 0&&(a=!1),!t)return null;var s=wo(t),o=this.initSegments_[s];if(a&&!o&&t.bytes){var l=Sp.byteLength+t.bytes.byteLength,u=new Uint8Array(l);u.set(t.bytes),u.set(Sp,t.bytes.byteLength),this.initSegments_[s]=o={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:u}}return o||t},r.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.track=function(t){return typeof t>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},r.remove=function(t,a){pa(t,a,this.subtitlesTrack_)},r.fillBuffer_=function(){var t=this,a=this.chooseNextRequest_();if(a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){t.state="READY",t.paused()||t.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},r.timestampOffsetForSegment_=function(){return null},r.chooseNextRequest_=function(){return this.skipEmptySegments_(i.prototype.chooseNextRequest_.call(this))},r.skipEmptySegments_=function(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t},r.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},r.segmentRequestFinished_=function(t,a,s){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(t){t.code===ki.TIMEOUT&&this.handleTimeout_(),t.code===ki.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(t);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,a.stats),a.key&&this.segmentKey(a.key,!0),this.state="APPENDING",this.trigger("appending");var u=l.segment;if(u.map&&(u.map.bytes=a.map.bytes),l.bytes=a.bytes,typeof P.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return o.segmentRequestFinished_(t,a,s)},function(){return o.stopForError({message:"Error loading vtt.js"})});return}u.requested=!0;try{this.parseVTTCues_(l)}catch(d){this.stopForError({message:d.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=u.duration,l.cues.forEach(function(d){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new P.VTTCue(d.startTime,d.endTime,d.text):d)}),ZI(this.subtitlesTrack_),this.handleAppendsDone_()},r.handleData_=function(){},r.updateTimingInfoEnd_=function(){},r.parseVTTCues_=function(t){var a,s=!1;if(typeof P.WebVTT!="function")throw new hA;typeof P.TextDecoder=="function"?a=new P.TextDecoder("utf8"):(a=P.WebVTT.StringDecoder(),s=!0);var o=new P.WebVTT.Parser(P,P.vttjs,a);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=t.cues.push.bind(t.cues),o.ontimestampmap=function(d){t.timestampmap=d},o.onparsingerror=function(d){N.log.warn("Error encountered when parsing cues: "+d.message)},t.segment.map){var l=t.segment.map.bytes;s&&(l=bp(l)),o.parse(l)}var u=t.bytes;s&&(u=bp(u)),o.parse(u),o.flush()},r.updateTimeMapping_=function(t,a,s){var o=t.segment;if(a){if(!t.cues.length){o.empty=!0;return}var l=t.timestampmap,u=l.MPEGTS/po.ONE_SECOND_IN_TS-l.LOCAL+a.mapping;if(t.cues.forEach(function(h){h.startTime+=u,h.endTime+=u}),!s.syncInfo){var d=t.cues[0].startTime,c=t.cues[t.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+t.mediaIndex,time:Math.min(d,c-o.duration)}}}},e}(Yu),mA=function(e,r){for(var n=e.cues,t=0;t<n.length;t++){var a=n[t];if(r>=a.adStartTime&&r<=a.adEndTime)return a}return null},gA=function(e,r,n){if(n===void 0&&(n=0),!!e.segments)for(var t=n,a,s=0;s<e.segments.length;s++){var o=e.segments[s];if(a||(a=mA(r,t+o.duration/2)),a){if("cueIn"in o){a.endTime=t,a.adEndTime=t,t+=o.duration,a=null;continue}if(t<a.endTime){t+=o.duration;continue}a.endTime+=o.duration}else if("cueOut"in o&&(a=new P.VTTCue(t,t+o.duration,o.cueOut),a.adStartTime=t,a.adEndTime=t+parseFloat(o.cueOut),r.addCue(a)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),u=l[0],d=l[1];a=new P.VTTCue(t,t+o.duration,""),a.adStartTime=t-u,a.adEndTime=a.adStartTime+d,r.addCue(a)}t+=o.duration}},vA=86400,xp=[{name:"VOD",run:function(e,r,n,t,a){if(n!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,r,n,t,a){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,o=null,l=Vu(r);a=a||0;for(var u=0;u<l.length;u++){var d=r.endList||a===0?u:l.length-(u+1),c=l[d],h=c.segment,g=e.timelineToDatetimeMappings[h.timeline];if(!(!g||!h.dateTimeObject)){var y=h.dateTimeObject.getTime()/1e3,_=y+g;if(h.parts&&typeof c.partIndex=="number")for(var b=0;b<c.partIndex;b++)_+=h.parts[b].duration;var E=Math.abs(a-_);if(o!==null&&(E===0||o<E))break;o=E,s={time:_,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}}return s}},{name:"Segment",run:function(e,r,n,t,a){var s=null,o=null;a=a||0;for(var l=Vu(r),u=0;u<l.length;u++){var d=r.endList||a===0?u:l.length-(u+1),c=l[d],h=c.segment,g=c.part&&c.part.start||h&&h.start;if(h.timeline===t&&typeof g<"u"){var y=Math.abs(a-g);if(o!==null&&o<y)break;(!s||o===null||o>=y)&&(o=y,s={time:g,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:function(e,r,n,t,a){var s=null;if(a=a||0,r.discontinuityStarts&&r.discontinuityStarts.length)for(var o=null,l=0;l<r.discontinuityStarts.length;l++){var u=r.discontinuityStarts[l],d=r.discontinuitySequence+l+1,c=e.discontinuities[d];if(c){var h=Math.abs(a-c.time);if(o!==null&&o<h)break;(!s||o===null||o>=h)&&(o=h,s={time:c.time,segmentIndex:u,partIndex:null})}}return s}},{name:"Playlist",run:function(e,r,n,t,a){if(r.syncInfo){var s={time:r.syncInfo.time,segmentIndex:r.syncInfo.mediaSequence-r.mediaSequence,partIndex:null};return s}return null}}],yA=function(i){se(e,i);function e(n){var t;return t=i.call(this)||this,t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=_i("SyncController"),t}var r=e.prototype;return r.getSyncPoint=function(t,a,s,o){var l=this.runStrategies_(t,a,s,o);return l.length?this.selectSyncPoint_(l,{key:"time",value:o}):null},r.getExpiredTime=function(t,a){if(!t||!t.segments)return null;var s=this.runStrategies_(t,a,t.discontinuitySequence,0);if(!s.length)return null;var o=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+Sa({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:o.segmentIndex,endIndex:0}))},r.runStrategies_=function(t,a,s,o){for(var l=[],u=0;u<xp.length;u++){var d=xp[u],c=d.run(this,t,a,s,o);c&&(c.strategy=d.name,l.push({strategy:d.name,syncPoint:c}))}return l},r.selectSyncPoint_=function(t,a){for(var s=t[0].syncPoint,o=Math.abs(t[0].syncPoint[a.key]-a.value),l=t[0].strategy,u=1;u<t.length;u++){var d=Math.abs(t[u].syncPoint[a.key]-a.value);d<o&&(o=d,s=t[u].syncPoint,l=t[u].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+l+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},r.saveExpiredSegmentInfo=function(t,a){var s=a.mediaSequence-t.mediaSequence;if(s>vA){N.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var o=s-1;o>=0;o--){var l=t.segments[o];if(l&&typeof l.start<"u"){a.syncInfo={mediaSequence:t.mediaSequence+o,time:l.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},r.setDateTimeMappingForStart=function(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var a=t.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},r.saveSegmentTimingInfo=function(t){var a=t.segmentInfo,s=t.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),l=a.segment;o&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:l.start}));var u=l.dateTimeObject;l.discontinuity&&s&&u&&(this.timelineToDatetimeMappings[l.timeline]=-(u.getTime()/1e3))},r.timestampOffsetForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].time},r.mappingForTimeline=function(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].mapping},r.calculateSegmentTimeMapping_=function(t,a,s){var o=t.segment,l=t.part,u=this.timelines[t.timeline],d,c;if(typeof t.timestampOffset=="number")u={time:t.startOfSegment,mapping:t.startOfSegment-a.start},s&&(this.timelines[t.timeline]=u,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": "+("[time: "+u.time+"] [mapping: "+u.mapping+"]"))),d=t.startOfSegment,c=a.end+u.mapping;else if(u)d=a.start+u.mapping,c=a.end+u.mapping;else return!1;return l&&(l.start=d,l.end=c),(!o.start||d<o.start)&&(o.start=d),o.end=c,!0},r.saveDiscontinuitySyncInfo_=function(t){var a=t.playlist,s=t.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var o=0;o<a.discontinuityStarts.length;o++){var l=a.discontinuityStarts[o],u=a.discontinuitySequence+o+1,d=l-t.mediaIndex,c=Math.abs(d);if(!this.discontinuities[u]||this.discontinuities[u].accuracy>c){var h=void 0;d<0?h=s.start-Sa({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex,endIndex:l}):h=s.end+Sa({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:t.mediaIndex+1,endIndex:l}),this.discontinuities[u]={time:h,accuracy:c}}}},r.dispose=function(){this.trigger("dispose"),this.off()},e}(N.EventTarget),_A=function(i){se(e,i);function e(){var n;return n=i.call(this)||this,n.pendingTimelineChanges_={},n.lastTimelineChanges_={},n}var r=e.prototype;return r.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},r.pendingTimelineChange=function(t){var a=t.type,s=t.from,o=t.to;return typeof s=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},r.lastTimelineChange=function(t){var a=t.type,s=t.from,o=t.to;return typeof s=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:o},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},r.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(N.EventTarget),TA=f0(h0(function(){var i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(k,D,j){return j={path:D,exports:{},require:function(R,U){return r(R,U??j.path)}},k(j,j.exports),j.exports}function r(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var n=e(function(k){function D(V,R){for(var U=0;U<R.length;U++){var H=R[U];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(V,H.key,H)}}function j(V,R,U){return R&&D(V.prototype,R),U&&D(V,U),V}k.exports=j,k.exports.default=k.exports,k.exports.__esModule=!0}),t=e(function(k){function D(j,V){return k.exports=D=Object.setPrototypeOf||function(U,H){return U.__proto__=H,U},k.exports.default=k.exports,k.exports.__esModule=!0,D(j,V)}k.exports=D,k.exports.default=k.exports,k.exports.__esModule=!0}),a=e(function(k){function D(j,V){j.prototype=Object.create(V.prototype),j.prototype.constructor=j,t(j,V)}k.exports=D,k.exports.default=k.exports,k.exports.__esModule=!0}),s=function(){function k(){this.listeners={}}var D=k.prototype;return D.on=function(V,R){this.listeners[V]||(this.listeners[V]=[]),this.listeners[V].push(R)},D.off=function(V,R){if(!this.listeners[V])return!1;var U=this.listeners[V].indexOf(R);return this.listeners[V]=this.listeners[V].slice(0),this.listeners[V].splice(U,1),U>-1},D.trigger=function(V){var R=this.listeners[V];if(R)if(arguments.length===2)for(var U=R.length,H=0;H<U;++H)R[H].call(this,arguments[1]);else for(var z=Array.prototype.slice.call(arguments,1),G=R.length,K=0;K<G;++K)R[K].apply(this,z)},D.dispose=function(){this.listeners={}},D.pipe=function(V){this.on("data",function(R){V.push(R)})},k}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function o(k){return k.subarray(0,k.byteLength-k[k.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var l=function(){var D=[[[],[],[],[],[]],[[],[],[],[],[]]],j=D[0],V=D[1],R=j[4],U=V[4],H,z,G,K=[],de=[],Y,W,$,ne,_e,be;for(H=0;H<256;H++)de[(K[H]=H<<1^(H>>7)*283)^H]=H;for(z=G=0;!R[z];z^=Y||1,G=de[G]||1)for(ne=G^G<<1^G<<2^G<<3^G<<4,ne=ne>>8^ne&255^99,R[z]=ne,U[ne]=z,$=K[W=K[Y=K[z]]],be=$*16843009^W*65537^Y*257^z*16843008,_e=K[ne]*257^ne*16843008,H=0;H<4;H++)j[H][z]=_e=_e<<24^_e>>>8,V[H][ne]=be=be<<24^be>>>8;for(H=0;H<5;H++)j[H]=j[H].slice(0),V[H]=V[H].slice(0);return D},u=null,d=function(){function k(j){u||(u=l()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var V,R,U,H=this._tables[0][4],z=this._tables[1],G=j.length,K=1;if(G!==4&&G!==6&&G!==8)throw new Error("Invalid aes key size");var de=j.slice(0),Y=[];for(this._key=[de,Y],V=G;V<4*G+28;V++)U=de[V-1],(V%G===0||G===8&&V%G===4)&&(U=H[U>>>24]<<24^H[U>>16&255]<<16^H[U>>8&255]<<8^H[U&255],V%G===0&&(U=U<<8^U>>>24^K<<24,K=K<<1^(K>>7)*283)),de[V]=de[V-G]^U;for(R=0;V;R++,V--)U=de[R&3?V:V-4],V<=4||R<4?Y[R]=U:Y[R]=z[0][H[U>>>24]]^z[1][H[U>>16&255]]^z[2][H[U>>8&255]]^z[3][H[U&255]]}var D=k.prototype;return D.decrypt=function(V,R,U,H,z,G){var K=this._key[1],de=V^K[0],Y=H^K[1],W=U^K[2],$=R^K[3],ne,_e,be,$e=K.length/4-2,he,we=4,Be=this._tables[1],ut=Be[0],qe=Be[1],Rt=Be[2],ei=Be[3],mt=Be[4];for(he=0;he<$e;he++)ne=ut[de>>>24]^qe[Y>>16&255]^Rt[W>>8&255]^ei[$&255]^K[we],_e=ut[Y>>>24]^qe[W>>16&255]^Rt[$>>8&255]^ei[de&255]^K[we+1],be=ut[W>>>24]^qe[$>>16&255]^Rt[de>>8&255]^ei[Y&255]^K[we+2],$=ut[$>>>24]^qe[de>>16&255]^Rt[Y>>8&255]^ei[W&255]^K[we+3],we+=4,de=ne,Y=_e,W=be;for(he=0;he<4;he++)z[(3&-he)+G]=mt[de>>>24]<<24^mt[Y>>16&255]<<16^mt[W>>8&255]<<8^mt[$&255]^K[we++],ne=de,de=Y,Y=W,W=$,$=ne},k}(),c=function(k){a(D,k);function D(){var V;return V=k.call(this,s)||this,V.jobs=[],V.delay=1,V.timeout_=null,V}var j=D.prototype;return j.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},j.push=function(R){this.jobs.push(R),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},D}(s),h=function(D){return D<<24|(D&65280)<<8|(D&16711680)>>8|D>>>24},g=function(D,j,V){var R=new Int32Array(D.buffer,D.byteOffset,D.byteLength>>2),U=new d(Array.prototype.slice.call(j)),H=new Uint8Array(D.byteLength),z=new Int32Array(H.buffer),G,K,de,Y,W,$,ne,_e,be;for(G=V[0],K=V[1],de=V[2],Y=V[3],be=0;be<R.length;be+=4)W=h(R[be]),$=h(R[be+1]),ne=h(R[be+2]),_e=h(R[be+3]),U.decrypt(W,$,ne,_e,z,be),z[be]=h(z[be]^G),z[be+1]=h(z[be+1]^K),z[be+2]=h(z[be+2]^de),z[be+3]=h(z[be+3]^Y),G=W,K=$,de=ne,Y=_e;return H},y=function(){function k(j,V,R,U){var H=k.STEP,z=new Int32Array(j.buffer),G=new Uint8Array(j.byteLength),K=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(z.subarray(K,K+H),V,R,G)),K=H;K<z.length;K+=H)R=new Uint32Array([h(z[K-4]),h(z[K-3]),h(z[K-2]),h(z[K-1])]),this.asyncStream_.push(this.decryptChunk_(z.subarray(K,K+H),V,R,G));this.asyncStream_.push(function(){U(null,o(G))})}var D=k.prototype;return D.decryptChunk_=function(V,R,U,H){return function(){var z=g(V,R,U);H.set(z,V.byteOffset)}},n(k,null,[{key:"STEP",get:function(){return 32e3}}]),k}(),_;typeof window<"u"?_=window:typeof i<"u"?_=i:typeof self<"u"?_=self:_={};var b=_,E=function(D){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(D):D&&D.buffer instanceof ArrayBuffer},A=b.BigInt||Number;A("0x1"),A("0x100"),A("0x10000"),A("0x1000000"),A("0x100000000"),A("0x10000000000"),A("0x1000000000000"),A("0x100000000000000"),A("0x10000000000000000");var I=function(D){var j={};return Object.keys(D).forEach(function(V){var R=D[V];E(R)?j[V]={bytes:R.buffer,byteOffset:R.byteOffset,byteLength:R.byteLength}:j[V]=R}),j};self.onmessage=function(k){var D=k.data,j=new Uint8Array(D.encrypted.bytes,D.encrypted.byteOffset,D.encrypted.byteLength),V=new Uint32Array(D.key.bytes,D.key.byteOffset,D.key.byteLength/4),R=new Uint32Array(D.iv.bytes,D.iv.byteOffset,D.iv.byteLength/4);new y(j,V,R,function(U,H){self.postMessage(I({source:D.source,decrypted:H}),[H.buffer])})}})),bA=c0(TA),SA=function(e){var r=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(r="main-desc"),r},ko=function(e,r){e.abort(),e.pause(),r&&r.activePlaylistLoader&&(r.activePlaylistLoader.pause(),r.activePlaylistLoader=null)},Ju=function(e,r){r.activePlaylistLoader=e,e.load()},xA=function(e,r){return function(){var n=r.segmentLoaders,t=n[e],a=n.main,s=r.mediaTypes[e],o=s.activeTrack(),l=s.getActiveGroup(),u=s.activePlaylistLoader,d=s.lastGroup_;if(!(l&&d&&l.id===d.id)&&(s.lastGroup_=l,s.lastTrack_=o,ko(t,s),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){u&&a.resetEverything();return}t.resyncLoader(),Ju(l.playlistLoader,s)}}},EA=function(e,r){return function(){var n=r.segmentLoaders[e],t=r.mediaTypes[e];t.lastGroup_=null,n.abort(),n.pause()}},CA=function(e,r){return function(){var n=r.masterPlaylistLoader,t=r.segmentLoaders,a=t[e],s=t.main,o=r.mediaTypes[e],l=o.activeTrack(),u=o.getActiveGroup(),d=o.activePlaylistLoader,c=o.lastTrack_;if(!(c&&l&&c.id===l.id)&&(o.lastGroup_=u,o.lastTrack_=l,ko(a,o),!!u)){if(u.isMasterPlaylist){if(!l||!c||l.id===c.id)return;var h=r.vhs.masterPlaylistController_,g=h.selectPlaylist();if(h.media()===g)return;o.logger_("track change. Switching master audio from "+c.id+" to "+l.id),n.pause(),s.resetEverything(),h.fastQualityChange_(g);return}if(e==="AUDIO"){if(!u.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(d===u.playlistLoader){Ju(u.playlistLoader,o);return}a.track&&a.track(l),a.resetEverything(),Ju(u.playlistLoader,o)}}},Oo={AUDIO:function(e,r){return function(){var n=r.segmentLoaders[e],t=r.mediaTypes[e],a=r.blacklistCurrentPlaylist;ko(n,t);var s=t.activeTrack(),o=t.activeGroup(),l=(o.filter(function(c){return c.default})[0]||o[0]).id,u=t.tracks[l];if(s===u){a({message:"Problem encountered loading the default audio track."});return}N.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var d in t.tracks)t.tracks[d].enabled=t.tracks[d]===u;t.onTrackChanged()}},SUBTITLES:function(e,r){return function(){var n=r.segmentLoaders[e],t=r.mediaTypes[e];N.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ko(n,t);var a=t.activeTrack();a&&(a.mode="disabled"),t.onTrackChanged()}}},Ep={AUDIO:function(e,r,n){if(r){var t=n.tech,a=n.requestOptions,s=n.segmentLoaders[e];r.on("loadedmetadata",function(){var o=r.media();s.playlist(o,a),(!t.paused()||o.endList&&t.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),a),t.paused()||s.load()}),r.on("error",Oo[e](e,n))}},SUBTITLES:function(e,r,n){var t=n.tech,a=n.requestOptions,s=n.segmentLoaders[e],o=n.mediaTypes[e];r.on("loadedmetadata",function(){var l=r.media();s.playlist(l,a),s.track(o.activeTrack()),(!t.paused()||l.endList&&t.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),a),t.paused()||s.load()}),r.on("error",Oo[e](e,n))}},wA={AUDIO:function(e,r){var n=r.vhs,t=r.sourceType,a=r.segmentLoaders[e],s=r.requestOptions,o=r.master.mediaGroups,l=r.mediaTypes[e],u=l.groups,d=l.tracks,c=l.logger_,h=r.masterPlaylistLoader,g=es(h.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},g&&(o[e].main.default.playlists=h.master.playlists));for(var y in o[e]){u[y]||(u[y]=[]);for(var _ in o[e][y]){var b=o[e][y][_],E=void 0;if(g?(c("AUDIO group '"+y+"' label '"+_+"' is a master playlist"),b.isMasterPlaylist=!0,E=null):t==="vhs-json"&&b.playlists?E=new on(b.playlists[0],n,s):b.resolvedUri?E=new on(b.resolvedUri,n,s):b.playlists&&t==="dash"?E=new Xu(b.playlists[0],n,s,h):E=null,b=N.mergeOptions({id:_,playlistLoader:E},b),Ep[e](e,b.playlistLoader,r),u[y].push(b),typeof d[_]>"u"){var A=new N.AudioTrack({id:_,kind:SA(b),enabled:!1,language:b.language,default:b.default,label:_});d[_]=A}}}a.on("error",Oo[e](e,r))},SUBTITLES:function(e,r){var n=r.tech,t=r.vhs,a=r.sourceType,s=r.segmentLoaders[e],o=r.requestOptions,l=r.master.mediaGroups,u=r.mediaTypes[e],d=u.groups,c=u.tracks,h=r.masterPlaylistLoader;for(var g in l[e]){d[g]||(d[g]=[]);for(var y in l[e][g])if(!l[e][g][y].forced){var _=l[e][g][y],b=void 0;if(a==="hls")b=new on(_.resolvedUri,t,o);else if(a==="dash"){var E=_.playlists.filter(function(I){return I.excludeUntil!==1/0});if(!E.length)return;b=new Xu(_.playlists[0],t,o,h)}else a==="vhs-json"&&(b=new on(_.playlists?_.playlists[0]:_.resolvedUri,t,o));if(_=N.mergeOptions({id:y,playlistLoader:b},_),Ep[e](e,_.playlistLoader,r),d[g].push(_),typeof c[y]>"u"){var A=n.addRemoteTextTrack({id:y,kind:"subtitles",default:_.default&&_.autoselect,language:_.language,label:y},!1).track;c[y]=A}}}s.on("error",Oo[e](e,r))},"CLOSED-CAPTIONS":function(e,r){var n=r.tech,t=r.master.mediaGroups,a=r.mediaTypes[e],s=a.groups,o=a.tracks;for(var l in t[e]){s[l]||(s[l]=[]);for(var u in t[e][l]){var d=t[e][l][u];if(/^(?:CC|SERVICE)/.test(d.instreamId)){var c=n.options_.vhs&&n.options_.vhs.captionServices||{},h={label:u,language:d.language,instreamId:d.instreamId,default:d.default&&d.autoselect};if(c[h.instreamId]&&(h=N.mergeOptions(h,c[h.instreamId])),h.default===void 0&&delete h.default,s[l].push(N.mergeOptions({id:u},d)),typeof o[u]>"u"){var g=n.addRemoteTextTrack({id:h.instreamId,kind:"captions",default:h.default,language:h.language,label:h.label},!1).track;o[u]=g}}}}}},PA=function i(e,r){for(var n=0;n<e.length;n++)if(Pc(r,e[n])||e[n].playlists&&i(e[n].playlists,r))return!0;return!1},IA=function(e,r){return function(n){var t=r.masterPlaylistLoader,a=r.mediaTypes[e].groups,s=t.media();if(!s)return null;var o=null;s.attributes[e]&&(o=a[s.attributes[e]]);var l=Object.keys(a);if(!o)if(e==="AUDIO"&&l.length>1&&es(r.master))for(var u=0;u<l.length;u++){var d=a[l[u]];if(PA(d,s)){o=d;break}}else a.main?o=a.main:l.length===1&&(o=a[l[0]]);return typeof n>"u"?o:n===null||!o?null:o.filter(function(c){return c.id===n.id})[0]||null}},AA={AUDIO:function(e,r){return function(){var n=r.mediaTypes[e].tracks;for(var t in n)if(n[t].enabled)return n[t];return null}},SUBTITLES:function(e,r){return function(){var n=r.mediaTypes[e].tracks;for(var t in n)if(n[t].mode==="showing"||n[t].mode==="hidden")return n[t];return null}}},kA=function(e,r){var n=r.mediaTypes;return function(){var t=n[e].activeTrack();return t?n[e].activeGroup(t):null}},OA=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(y){wA[y](y,e)});var r=e.mediaTypes,n=e.masterPlaylistLoader,t=e.tech,a=e.vhs,s=e.segmentLoaders,o=s.AUDIO,l=s.main;["AUDIO","SUBTITLES"].forEach(function(y){r[y].activeGroup=IA(y,e),r[y].activeTrack=AA[y](y,e),r[y].onGroupChanged=xA(y,e),r[y].onGroupChanging=EA(y,e),r[y].onTrackChanged=CA(y,e),r[y].getActiveGroup=kA(y,e)});var u=r.AUDIO.activeGroup();if(u){var d=(u.filter(function(y){return y.default})[0]||u[0]).id;r.AUDIO.tracks[d].enabled=!0,r.AUDIO.onGroupChanged(),r.AUDIO.onTrackChanged();var c=r.AUDIO.getActiveGroup();c.playlistLoader?(l.setAudio(!1),o.setAudio(!0)):l.setAudio(!0)}n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(y){return r[y].onGroupChanged()})}),n.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(y){return r[y].onGroupChanging()})});var h=function(){r.AUDIO.onTrackChanged(),t.trigger({type:"usage",name:"vhs-audio-change"}),t.trigger({type:"usage",name:"hls-audio-change"})};t.audioTracks().addEventListener("change",h),t.remoteTextTracks().addEventListener("change",r.SUBTITLES.onTrackChanged),a.on("dispose",function(){t.audioTracks().removeEventListener("change",h),t.remoteTextTracks().removeEventListener("change",r.SUBTITLES.onTrackChanged)}),t.clearTracks("audio");for(var g in r.AUDIO.tracks)t.audioTracks().addTrack(r.AUDIO.tracks[g])},DA=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(r){e[r]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:zi,activeTrack:zi,getActiveGroup:zi,onGroupChanged:zi,onTrackChanged:zi,lastTrack_:null,logger_:_i("MediaGroups["+r+"]")}}),e},LA=60*2,Bi,MA=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],RA=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},NA=function(e){var r=e.currentPlaylist,n=e.buffered,t=e.currentTime,a=e.nextPlaylist,s=e.bufferLowWaterLine,o=e.bufferHighWaterLine,l=e.duration,u=e.experimentalBufferBasedABR,d=e.log;if(!a)return N.log.warn("We received no playlist to switch to. Please check your stream."),!1;var c="allowing switch "+(r&&r.id||"null")+" -> "+a.id;if(!r)return d(c+" as current playlist is not set"),!0;if(a.id===r.id)return!1;var h=Boolean(sn(n,t).length);if(!r.endList)return!h&&typeof r.partTargetDuration=="number"?(d("not "+c+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(d(c+" as current playlist is live"),!0);var g=Ec(n,t),y=u?at.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:at.MAX_BUFFER_LOW_WATER_LINE;if(l<y)return d(c+" as duration < max low water line ("+l+" < "+y+")"),!0;var _=a.attributes.BANDWIDTH,b=r.attributes.BANDWIDTH;if(_<b&&(!u||g<o)){var E=c+" as next bandwidth < current bandwidth ("+_+" < "+b+")";return u&&(E+=" and forwardBuffer < bufferHighWaterLine ("+g+" < "+o+")"),d(E),!0}if((!u||_>b)&&g>=s){var A=c+" as forwardBuffer >= bufferLowWaterLine ("+g+" >= "+s+")";return u&&(A+=" and next bandwidth > current bandwidth ("+_+" > "+b+")"),d(A),!0}return d("not "+c+" as no switching criteria met"),!1},FA=function(i){se(e,i);function e(n){var t;t=i.call(this)||this;var a=n.src,s=n.handleManifestRedirects,o=n.withCredentials,l=n.tech,u=n.bandwidth,d=n.externVhs,c=n.useCueTags,h=n.blacklistDuration,g=n.enableLowInitialPlaylist,y=n.sourceType,_=n.cacheEncryptionKeys,b=n.experimentalBufferBasedABR,E=n.experimentalLeastPixelDiffSelector,A=n.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var I=n.maxPlaylistRetries;(I===null||typeof I>"u")&&(I=1/0),Bi=d,t.experimentalBufferBasedABR=Boolean(b),t.experimentalLeastPixelDiffSelector=Boolean(E),t.withCredentials=o,t.tech_=l,t.vhs_=l.vhs,t.sourceType_=y,t.useCueTags_=c,t.blacklistDuration=h,t.maxPlaylistRetries=I,t.enableLowInitialPlaylist=g,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:o,handleManifestRedirects:s,maxPlaylistRetries:I,timeout:null},t.on("error",t.pauseLoading),t.mediaTypes_=DA(),t.mediaSource=new P.MediaSource,t.handleDurationChange_=t.handleDurationChange_.bind(Se(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(Se(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(Se(t)),t.mediaSource.addEventListener("durationchange",t.handleDurationChange_),t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_),t.mediaSource.addEventListener("sourceended",t.handleSourceEnded_),t.seekable_=N.createTimeRanges(),t.hasPlayed_=!1,t.syncController_=new yA(n),t.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new bA,t.sourceUpdater_=new w0(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=new _A;var k={vhs:t.vhs_,parse708captions:n.parse708captions,useDtsForTimestampOffset:n.useDtsForTimestampOffset,captionServices:A,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.duration()},hasPlayed:function(){return t.hasPlayed_},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:u,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:_,sourceUpdater:t.sourceUpdater_,timelineChangeController:t.timelineChangeController_,experimentalExactManifestTimings:n.experimentalExactManifestTimings};t.masterPlaylistLoader_=t.sourceType_==="dash"?new Xu(a,t.vhs_,t.requestOptions_):new on(a,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new Yu(N.mergeOptions(k,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),n),t.audioSegmentLoader_=new Yu(N.mergeOptions(k,{loaderType:"audio"}),n),t.subtitleSegmentLoader_=new pA(N.mergeOptions(k,{loaderType:"vtt",featuresNativeTextTracks:t.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(V,R){function U(){l.off("vttjserror",H),V()}function H(){l.off("vttjsloaded",U),R()}l.one("vttjsloaded",U),l.one("vttjserror",H),l.addWebVttScript_()})}}),n),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&&(t.masterPlaylistLoader_.one("loadedplaylist",function(){return t.startABRTimer_()}),t.tech_.on("pause",function(){return t.stopABRTimer_()}),t.tech_.on("play",function(){return t.startABRTimer_()})),MA.forEach(function(j){t[j+"_"]=RA.bind(Se(t),j)}),t.logger_=_i("MPC"),t.triggeredFmp4Usage=!1,t.tech_.preload()==="none"?(t.loadOnPlay_=function(){t.loadOnPlay_=null,t.masterPlaylistLoader_.load()},t.tech_.one("play",t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=-1,t.mainAppendsToLoadedData__=-1,t.audioAppendsToLoadedData__=-1;var D=t.tech_.preload()==="none"?"play":"loadstart";return t.tech_.one(D,function(){var j=Date.now();t.tech_.one("loadeddata",function(){t.timeToLoadedData__=Date.now()-j,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}var r=e.prototype;return r.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},r.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},r.appendsToLoadedData_=function(){var t=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return t===-1||a===-1?-1:t+a},r.timeToLoadedData_=function(){return this.timeToLoadedData__},r.checkABR_=function(t){t===void 0&&(t="abr");var a=this.selectPlaylist();a&&this.shouldSwitchToMedia_(a)&&this.switchMedia_(a,t)},r.switchMedia_=function(t,a,s){var o=this.media(),l=o&&(o.id||o.uri),u=t.id||t.uri;l&&l!==u&&(this.logger_("switch media "+l+" -> "+u+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(t,s)},r.startABRTimer_=function(){var t=this;this.stopABRTimer_(),this.abrTimer_=P.setInterval(function(){return t.checkABR_()},250)},r.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(P.clearInterval(this.abrTimer_),this.abrTimer_=null)},r.getAudioTrackPlaylists_=function(){var t=this.master(),a=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return a;var s=t.mediaGroups.AUDIO,o=Object.keys(s),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var u=s.main||o.length&&s[o[0]];for(var d in u)if(u[d].default){l={label:d};break}}if(!l)return a;var c=[];for(var h in s)if(s[h][l.label]){var g=s[h][l.label];if(g.playlists&&g.playlists.length)c.push.apply(c,g.playlists);else if(g.uri)c.push(g);else if(t.playlists.length)for(var y=0;y<t.playlists.length;y++){var _=t.playlists[y];_.attributes&&_.attributes.AUDIO&&_.attributes.AUDIO===h&&c.push(_)}}return c.length?c:a},r.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;zu(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,a.endList&&t.tech_.preload()!=="none"&&(t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load()),OA({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),a),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){t.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){t.loadOnPlay_&&t.tech_.off("play",t.loadOnPlay_);var a=t.masterPlaylistLoader_.media();if(!a){t.excludeUnsupportedVariants_();var s;if(t.enableLowInitialPlaylist&&(s=t.selectInitialPlaylist()),s||(s=t.selectPlaylist()),!s||!t.shouldSwitchToMedia_(s))return;t.initialMedia_=s,t.switchMedia_(t.initialMedia_,"initial");var o=t.sourceType_==="vhs-json"&&t.initialMedia_.segments;if(!o)return;a=t.initialMedia_}t.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=t.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;zu(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=s,t.masterPlaylistLoader_.load(),t.mainSegmentLoader_.playlist(a,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=t.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=t.stuckAtPlaylistEnd_(a);s&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),t.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},r.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},r.triggerPresenceUsage_=function(t,a){var s=t.mediaGroups||{},o=!0,l=Object.keys(s.AUDIO);for(var u in s.AUDIO)for(var d in s.AUDIO[u]){var c=s.AUDIO[u][d];c.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Bi.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(s.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},r.shouldSwitchToMedia_=function(t){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),o=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),u=this.tech_.buffered();return NA({buffered:u,currentTime:s,currentPlaylist:a,nextPlaylist:t,bufferLowWaterLine:o,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},r.setupSegmentLoaderListeners_=function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){t.checkABR_("bandwidthupdate"),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){t.experimentalBufferBasedABR&&t.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){t.logger_("main segment loader ended"),t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},LA))});var a=function(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var o=t.getCodecsOrExclude_();o&&t.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()})},r.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},r.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},r.smoothQualityChange_=function(t){t===void 0&&(t=this.selectPlaylist()),this.fastQualityChange_(t)},r.fastQualityChange_=function(t){var a=this;if(t===void 0&&(t=this.selectPlaylist()),t===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){N.browser.IE_VERSION||N.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},r.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0))return this.tech_.setCurrentTime(t.end(t.length-1))}},r.setupFirstPlay=function(){var t=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(N.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(s.end(0)),t.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},r.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();typeof t<"u"&&typeof t.then=="function"&&t.then(null,function(a){})}this.trigger("sourceopen")},r.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(!(!t||!t.length)){var a=this.duration();t[t.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},r.handleDurationChange_=function(){this.tech_.trigger("durationchange")},r.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?t=t&&this.audioSegmentLoader_.ended_:t=this.audioSegmentLoader_.ended_}t&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},r.stuckAtPlaylistEnd_=function(t){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(t,this.duration());if(s===null)return!1;var o=Bi.Playlist.playlistEnd(t,s),l=this.tech_.currentTime(),u=this.tech_.buffered();if(!u.length)return o-l<=Ai;var d=u.end(u.length-1);return d-l<=Ai&&o-d<=Ai},r.blacklistCurrentPlaylist=function(t,a){t===void 0&&(t={});var s=t.playlist||this.masterPlaylistLoader_.media();if(a=a||t.blacklistDuration||this.blacklistDuration,!s){this.error=t,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,l=o.filter(dl),u=l.length===1&&l[0]===s;if(o.length===1&&a!==1/0)return N.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u);if(u){var d=!1;o.forEach(function(E){if(E!==s){var A=E.excludeUntil;typeof A<"u"&&A!==1/0&&(d=!0,delete E.excludeUntil)}}),d&&(N.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var c;s.playlistErrors_>this.maxPlaylistRetries?c=1/0:c=Date.now()+a*1e3,s.excludeUntil=c,t.reason&&(s.lastExcludeReason_=t.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var h=this.selectPlaylist();if(!h){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var g=t.internal?this.logger_:N.log.warn,y=t.message?" "+t.message:"";g((t.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(y+" Switching to playlist "+h.id+".")),h.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),h.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var _=h.targetDuration/2*1e3||5*1e3,b=typeof h.lastRequest=="number"&&Date.now()-h.lastRequest<=_;return this.switchMedia_(h,"exclude",u||b)},r.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},r.delegateLoaders_=function(t,a){var s=this,o=[],l=t==="all";(l||t==="main")&&o.push(this.masterPlaylistLoader_);var u=[];(l||t==="audio")&&u.push("AUDIO"),(l||t==="subtitle")&&(u.push("CLOSED-CAPTIONS"),u.push("SUBTITLES")),u.forEach(function(d){var c=s.mediaTypes_[d]&&s.mediaTypes_[d].activePlaylistLoader;c&&o.push(c)}),["main","audio","subtitle"].forEach(function(d){var c=s[d+"SegmentLoader_"];c&&(t===d||t==="all")&&o.push(c)}),o.forEach(function(d){return a.forEach(function(c){typeof d[c]=="function"&&d[c]()})})},r.setCurrentTime=function(t){var a=sn(this.tech_.buffered(),t);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return t;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},r.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:Bi.Playlist.duration(t):1/0:0},r.seekable=function(){return this.seekable_},r.onSyncInfoUpdate_=function(){var t;if(this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var o=this.masterPlaylistLoader_.master,l=Bi.Playlist.seekable(a,s,Bi.Playlist.liveEdgeDelay(o,a));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(t=Bi.Playlist.seekable(a,s,Bi.Playlist.liveEdgeDelay(o,a)),t.length===0)))){var u,d;this.seekable_&&this.seekable_.length&&(u=this.seekable_.end(0),d=this.seekable_.start(0)),t?t.start(0)>l.end(0)||l.start(0)>t.end(0)?this.seekable_=l:this.seekable_=N.createTimeRanges([[t.start(0)>l.start(0)?t.start(0):l.start(0),t.end(0)<l.end(0)?t.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===u&&this.seekable_.start(0)===d)&&(this.logger_("seekable updated ["+zv(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},r.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,t),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(t){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),o=Bi.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(o=Math.max(o,s.end(s.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},r.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=t.mediaTypes_[a].groups;for(var o in s)s[o].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},r.master=function(){return this.masterPlaylistLoader_.master},r.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},r.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=t?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},r.getCodecsOrExclude_=function(){var t=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};a.video=a.main;var s=xa(this.master(),this.media()),o={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(o.video=s.video||a.main.videoCodec||uE),a.main.isMuxed&&(o.video+=","+(s.audio||a.main.audioCodec||oh)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||l)&&(o.audio=s.audio||a.main.audioCodec||a.audio.audioCodec||oh,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!o.audio&&!o.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var u=function(b,E){return b?Gs(E):jl(E)},d={},c;if(["video","audio"].forEach(function(_){if(o.hasOwnProperty(_)&&!u(a[_].isFmp4,o[_])){var b=a[_].isFmp4?"browser":"muxer";d[b]=d[b]||[],d[b].push(o[_]),_==="audio"&&(c=b)}}),l&&c&&this.media().attributes.AUDIO){var h=this.media().attributes.AUDIO;this.master().playlists.forEach(function(_){var b=_.attributes&&_.attributes.AUDIO;b===h&&_!==t.media()&&(_.excludeUntil=1/0)}),this.logger_("excluding audio group "+h+" as "+c+' does not support codec(s): "'+o.audio+'"')}if(Object.keys(d).length){var g=Object.keys(d).reduce(function(_,b){return _&&(_+=", "),_+=b+' does not support codec(s): "'+d[b].join(",")+'"',_},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:g,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var y=[];if(["video","audio"].forEach(function(_){var b=(Ei(t.sourceUpdater_.codecs[_]||"")[0]||{}).type,E=(Ei(o[_]||"")[0]||{}).type;b&&E&&b.toLowerCase()!==E.toLowerCase()&&y.push('"'+t.sourceUpdater_.codecs[_]+'" -> "'+o[_]+'"')}),y.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+y.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return o},r.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(t){this.sourceUpdater_.createSourceBuffers(t);var a=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},r.excludeUnsupportedVariants_=function(){var t=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(o){var l=a[o];if(s.indexOf(l.id)===-1){s.push(l.id);var u=xa(t.master,l),d=[];u.audio&&!jl(u.audio)&&!Gs(u.audio)&&d.push("audio codec "+u.audio),u.video&&!jl(u.video)&&!Gs(u.video)&&d.push("video codec "+u.video),u.text&&u.text==="stpp.ttml.im1t"&&d.push("text codec "+u.text),d.length&&(l.excludeUntil=1/0,t.logger_("excluding "+l.id+" for unsupported: "+d.join(", ")))}})},r.excludeIncompatibleVariants_=function(t){var a=this,s=[],o=this.master().playlists,l=Io(Ei(t)),u=hp(l),d=l.video&&Ei(l.video)[0]||null,c=l.audio&&Ei(l.audio)[0]||null;Object.keys(o).forEach(function(h){var g=o[h];if(!(s.indexOf(g.id)!==-1||g.excludeUntil===1/0)){s.push(g.id);var y=[],_=xa(a.masterPlaylistLoader_.master,g),b=hp(_);if(!(!_.audio&&!_.video)){if(b!==u&&y.push('codec count "'+b+'" !== "'+u+'"'),!a.sourceUpdater_.canChangeType()){var E=_.video&&Ei(_.video)[0]||null,A=_.audio&&Ei(_.audio)[0]||null;E&&d&&E.type.toLowerCase()!==d.type.toLowerCase()&&y.push('video codec "'+E.type+'" !== "'+d.type+'"'),A&&c&&A.type.toLowerCase()!==c.type.toLowerCase()&&y.push('audio codec "'+A.type+'" !== "'+c.type+'"')}y.length&&(g.excludeUntil=1/0,a.logger_("blacklisting "+g.id+": "+y.join(" && ")))}}})},r.updateAdCues_=function(t){var a=0,s=this.seekable();s.length&&(a=s.start(0)),gA(t,this.cueTagsTrack_,a)},r.goalBufferLength=function(){var t=this.tech_.currentTime(),a=at.GOAL_BUFFER_LENGTH,s=at.GOAL_BUFFER_LENGTH_RATE,o=Math.max(a,at.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+t*s,o)},r.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),a=at.BUFFER_LOW_WATER_LINE,s=at.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(a,at.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(a,at.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+t*s,this.experimentalBufferBasedABR?l:o)},r.bufferHighWaterLine=function(){return at.BUFFER_HIGH_WATER_LINE},e}(N.EventTarget),BA=function(e,r,n){return function(t){var a=e.master.playlists[r],s=wc(a),o=dl(a);return typeof t>"u"?o:(t?delete a.disabled:a.disabled=!0,t!==o&&!s&&(n(),t?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),t)}},UA=function(e,r,n){var t=e.masterPlaylistController_,a=e.options_.smoothQualityChange,s=a?"smooth":"fast",o=t[s+"QualityChange_"].bind(t);if(r.attributes){var l=r.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=xa(t.master(),r),this.playlist=r,this.id=n,this.enabled=BA(e.playlists,r.id,o)},jA=function(e){e.representations=function(){var r=e.masterPlaylistController_.master(),n=es(r)?e.masterPlaylistController_.getAudioTrackPlaylists_():r.playlists;return n?n.filter(function(t){return!wc(t)}).map(function(t,a){return new UA(e,t,t.id)}):[]}},Cp=["seeking","seeked","pause","playing","error"],HA=function(){function i(r){var n=this;this.masterPlaylistController_=r.masterPlaylistController,this.tech_=r.tech,this.seekable=r.seekable,this.allowSeeksWithinUnsafeLiveWindow=r.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=r.liveRangeSafeTimeDelta,this.media=r.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=_i("PlaybackWatcher"),this.logger_("initialize");var t=function(){return n.monitorCurrentTime_()},a=function(){return n.monitorCurrentTime_()},s=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},l=this.masterPlaylistController_,u=["main","subtitle","audio"],d={};u.forEach(function(h){d[h]={reset:function(){return n.resetSegmentDownloads_(h)},updateend:function(){return n.checkSegmentDownloads_(h)}},l[h+"SegmentLoader_"].on("appendsdone",d[h].updateend),l[h+"SegmentLoader_"].on("playlistupdate",d[h].reset),n.tech_.on(["seeked","seeking"],d[h].reset)});var c=function(g){["main","audio"].forEach(function(y){l[y+"SegmentLoader_"][g]("appended",n.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){n.fixesBadSeeks_()&&(n.consecutiveUpdates=0,n.lastRecordedTime=n.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=function(){return c("off")},this.watchForBadSeeking_=function(){n.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(Cp,o),this.tech_.on("canplay",a),this.tech_.one("play",t),this.dispose=function(){n.clearSeekingAppendCheck_(),n.logger_("dispose"),n.tech_.off("waiting",s),n.tech_.off(Cp,o),n.tech_.off("canplay",a),n.tech_.off("play",t),n.tech_.off("seeking",n.watchForBadSeeking_),n.tech_.off("seeked",n.clearSeekingAppendCheck_),u.forEach(function(h){l[h+"SegmentLoader_"].off("appendsdone",d[h].updateend),l[h+"SegmentLoader_"].off("playlistupdate",d[h].reset),n.tech_.off(["seeked","seeking"],d[h].reset)}),n.checkCurrentTimeTimeout_&&P.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var e=i.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&P.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=P.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(n){var t=this.masterPlaylistController_[n+"SegmentLoader_"];this[n+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+n+" loader"),this[n+"StalledDownloads_"]=0,this[n+"Buffered_"]=t.buffered_()},e.checkSegmentDownloads_=function(n){var t=this.masterPlaylistController_,a=t[n+"SegmentLoader_"],s=a.buffered_(),o=RP(this[n+"Buffered_"],s);if(this[n+"Buffered_"]=s,o){this.resetSegmentDownloads_(n);return}this[n+"StalledDownloads_"]++,this.logger_("found #"+this[n+"StalledDownloads_"]+" "+n+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:Lr(s)}),!(this[n+"StalledDownloads_"]<10)&&(this.logger_(n+" loader stalled download exclusion"),this.resetSegmentDownloads_(n),this.tech_.trigger({type:"usage",name:"vhs-"+n+"-download-exclusion"}),n!=="subtitle"&&t.blacklistCurrentPlaylist({message:"Excessive "+n+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var n=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===n&&(!t.length||n+Ai>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&n===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):n===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=n)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var n=this.tech_.seeking();if(!n)return!1;var t=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(t,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(s){var l=t.end(t.length-1);o=l}if(this.beforeSeekableWindow_(t,a)){var u=t.start(0);o=u+(u===t.end(0)?0:Ai)}if(typeof o<"u")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+zv(t)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var d=this.masterPlaylistController_.sourceUpdater_,c=this.tech_.buffered(),h=d.audioBuffer?d.audioBuffered():null,g=d.videoBuffer?d.videoBuffered():null,y=this.media(),_=y.partTargetDuration?y.partTargetDuration:(y.targetDuration-mr)*2,b=[h,g],E=0;E<b.length;E++)if(b[E]){var A=Ec(b[E],a);if(A<_)return!1}var I=Bs(c,a);return I.length===0?!1:(o=I.start(0)+Ai,this.logger_("Buffered region starts ("+I.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var n=this.tech_.currentTime(),t=this.tech_.buffered(),a=sn(t,n);if(a.length&&n+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(n),this.logger_("Stopped at "+n+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var n=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(n,t)){var a=n.end(n.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:t});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var u=Bs(o,t);if(u.length>0){var d=u.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+d+", seeking "+("to "+u.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),d*1e3,t),!0}return!1},e.afterSeekableWindow_=function(n,t,a,s){if(s===void 0&&(s=!1),!n.length)return!1;var o=n.end(n.length-1)+Ai,l=!a.endList;return l&&s&&(o=n.end(n.length-1)+a.targetDuration*3),t>o},e.beforeSeekableWindow_=function(n,t){return!!(n.length&&n.start(0)>0&&t<n.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(n){var t=n.videoBuffered,a=n.audioBuffered,s=n.currentTime;if(t){var o;if(t.length&&a.length){var l=sn(t,s-3),u=sn(t,s),d=sn(a,s);d.length&&!u.length&&l.length&&(o={start:l.end(0),end:d.end(0)})}else{var c=Bs(t,s);c.length||(o=this.gapFromVideoUnderflow_(t,s))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(n){var t=this.tech_.buffered(),a=this.tech_.currentTime(),s=Bs(t,a);this.cancelTimer_(),!(s.length===0||a!==n)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",n,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+mr),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(n,t){for(var a=DP(n),s=0;s<a.length;s++){var o=a.start(s),l=a.end(s);if(t-o<4&&t-o>2)return{start:o,end:l}}return null},i}(),VA={errorInterval:30,getSource:function(e){var r=this.tech({IWillNotUseThisInPlugins:!0}),n=r.currentSource_||this.currentSource();return e(n)}},zA=function i(e,r){var n=0,t=0,a=N.mergeOptions(VA,r);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){t&&e.currentTime(t)},o=function(h){h!=null&&(t=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(h),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-n<a.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){N.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),a.getSource.call(e,o)},u=function c(){e.off("loadedmetadata",s),e.off("error",l),e.off("dispose",c)},d=function(h){u(),i(e,h)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=d},WA=function(e){zA(this,e)},P0="2.16.0",GA="6.0.1",$A="0.22.1",qA="4.8.0",XA="3.1.3",pt={PlaylistLoader:on,Playlist:jt,utils:aI,STANDARD_PLAYLIST_SELECTOR:mp,INITIAL_PLAYLIST_SELECTOR:$I,lastBandwidthSelector:mp,movingAverageBandwidthSelector:WI,comparePlaylistBandwidth:kc,comparePlaylistResolution:zI,xhr:n0()};Object.keys(at).forEach(function(i){Object.defineProperty(pt,i,{get:function(){return N.log.warn("using Vhs."+i+" is UNSAFE be sure you know what you are doing"),at[i]},set:function(r){if(N.log.warn("using Vhs."+i+" is UNSAFE be sure you know what you are doing"),typeof r!="number"||r<0){N.log.warn("value of Vhs."+i+" must be greater than or equal to 0");return}at[i]=r}})});var I0="videojs-vhs",A0=function(e,r){for(var n=r.media(),t=-1,a=0;a<e.length;a++)if(e[a].id===n.id){t=a;break}e.selectedIndex_=t,e.trigger({selectedIndex:t,type:"change"})},KA=function(e,r){r.representations().forEach(function(n){e.addQualityLevel(n)}),A0(e,r.playlists)};pt.canPlaySource=function(){return N.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var YA=function(e,r,n){if(!e)return e;var t={};r&&r.attributes&&r.attributes.CODECS&&(t=Io(Ei(r.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(t.audio=n.attributes.CODECS);var a=La(t.video),s=La(t.audio),o={};for(var l in e)o[l]={},s&&(o[l].audioContentType=s),a&&(o[l].videoContentType=a),r.contentProtection&&r.contentProtection[l]&&r.contentProtection[l].pssh&&(o[l].pssh=r.contentProtection[l].pssh),typeof e[l]=="string"&&(o[l].url=e[l]);return N.mergeOptions(e,o)},QA=function(e,r){return e.reduce(function(n,t){if(!t.contentProtection)return n;var a=r.reduce(function(s,o){var l=t.contentProtection[o];return l&&l.pssh&&(s[o]={pssh:l.pssh}),s},{});return Object.keys(a).length&&n.push(a),n},[])},JA=function(e){var r=e.player,n=e.sourceKeySystems,t=e.audioMedia,a=e.mainPlaylists;if(!r.eme.initializeMediaKeys)return Promise.resolve();var s=t?a.concat([t]):a,o=QA(s,Object.keys(n)),l=[],u=[];return o.forEach(function(d){u.push(new Promise(function(c,h){r.tech_.one("keysessioncreated",c)})),l.push(new Promise(function(c,h){r.eme.initializeMediaKeys({keySystems:d},function(g){if(g){h(g);return}c()})}))}),Promise.race([Promise.all(l),Promise.race(u)])},ZA=function(e){var r=e.player,n=e.sourceKeySystems,t=e.media,a=e.audioMedia,s=YA(n,t,a);return s?(r.currentSource().keySystems=s,s&&!r.eme?(N.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},k0=function(){if(!P.localStorage)return null;var e=P.localStorage.getItem(I0);if(!e)return null;try{return JSON.parse(e)}catch{return null}},e1=function(e){if(!P.localStorage)return!1;var r=k0();r=r?N.mergeOptions(r,e):e;try{P.localStorage.setItem(I0,JSON.stringify(r))}catch{return!1}return r},t1=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};pt.supportsNativeHls=function(){if(!ie||!ie.createElement)return!1;var i=ie.createElement("video");if(!N.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(r){return/maybe|probably/i.test(i.canPlayType(r))})}();pt.supportsNativeDash=function(){return!ie||!ie.createElement||!N.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(ie.createElement("video").canPlayType("application/dash+xml"))}();pt.supportsTypeNatively=function(i){return i==="hls"?pt.supportsNativeHls:i==="dash"?pt.supportsNativeDash:!1};pt.isSupported=function(){return N.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var i1=N.getComponent("Component"),Dc=function(i){se(e,i);function e(n,t,a){var s;if(s=i.call(this,t,N.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&N.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=_i("VhsHandler"),t.options_&&t.options_.playerId){var o=N(t.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return N.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"hls-player-access"}),Se(s)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return N.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"vhs-player-access"}),Se(s)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return N.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Se(s)},configurable:!0}),s.player_=o}if(s.tech_=t,s.source_=n,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on(ie,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var u=ie.fullscreenElement||ie.webkitFullscreenElement||ie.mozFullScreenElement||ie.msFullscreenElement;u&&u.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var r=e.prototype;return r.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=k0();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=at.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===at.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof t.source_[s]<"u"&&(t.options_[s]=t.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(t,a){var s=this;if(t){this.setOptions_(),this.options_.src=t1(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=pt,this.options_.sourceType=zm(a),this.options_.seekTo=function(u){s.tech_.setCurrentTime(u)},this.options_.smoothQualityChange&&N.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new FA(this.options_);var o=N.mergeOptions({liveRangeSafeTimeDelta:Ai},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new HA(o),this.masterPlaylistController_.on("error",function(){var u=N.players[s.tech_.options_.playerId],d=s.masterPlaylistController_.error;typeof d=="object"&&!d.code?d.code=3:typeof d=="string"&&(d={message:d,code:3}),u.error(d)});var l=this.options_.experimentalBufferBasedABR?pt.movingAverageBandwidthSelector(.55):pt.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=pt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(d){this.masterPlaylistController_.selectPlaylist=d.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=d,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var d=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,c=P.navigator.connection||P.navigator.mozConnection||P.navigator.webkitConnection,h=1e7;if(this.options_.useNetworkInformationApi&&c){var g=c.downlink*1e3*1e3;g>=h&&d>=h?d=Math.max(d,g):d=g}return d},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=d,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var d=1/(this.bandwidth||1),c;this.throughput>0?c=1/this.throughput:c=0;var h=Math.floor(1/(d+c));return h},set:function(){N.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Lr(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Lr(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&e1({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){jA(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=P.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},r.createKeySessions_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),JA({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){t.logger_("error while creating EME key session",s),t.player_.error({message:"Failed to initialize media keys for EME",code:3})})},r.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},r.setupEme_=function(){var t=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=ZA({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(o){if(o.status==="output-restricted"){var l=t.masterPlaylistController_.master();if(!(!l||!l.playlists)){var u=[];if(l.playlists.forEach(function(c){c&&c.attributes&&c.attributes.RESOLUTION&&c.attributes.RESOLUTION.height>=720&&(!c.excludeUntil||c.excludeUntil<1/0)&&(c.excludeUntil=1/0,u.push(c))}),u.length){var d;(d=N.log).warn.apply(d,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(u)),t.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),N.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},r.setupQualityLevels_=function(){var t=this,a=N.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){KA(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){A0(t.qualityLevels_,t.playlists)}))},e.version=function(){return{"@videojs/http-streaming":P0,"mux.js":GA,"mpd-parser":$A,"m3u8-parser":qA,"aes-decrypter":XA}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return w0.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&P.URL.revokeObjectURL&&(P.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),i.prototype.dispose.call(this)},r.convertToProgramTime=function(t,a){return fI({playlist:this.masterPlaylistController_.media(),time:t,callback:a})},r.seekToProgramTime=function(t,a,s,o){return s===void 0&&(s=!0),o===void 0&&(o=2),hI({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},e}(i1),Va={name:"videojs-http-streaming",VERSION:P0,canHandleSource:function(e,r){r===void 0&&(r={});var n=N.mergeOptions(N.options,r);return Va.canPlayType(e.type,n)},handleSource:function(e,r,n){n===void 0&&(n={});var t=N.mergeOptions(N.options,n);return r.vhs=new Dc(e,r,t),N.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return N.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),r.vhs},configurable:!0}),r.vhs.xhr=n0(),r.vhs.src(e.src,e.type),r.vhs},canPlayType:function(e,r){var n=zm(e);if(!n)return"";var t=Va.getOverrideNative(r),a=pt.supportsTypeNatively(n),s=!a||t;return s?"maybe":""},getOverrideNative:function(e){e===void 0&&(e={});var r=e,n=r.vhs,t=n===void 0?{}:n,a=r.hls,s=a===void 0?{}:a,o=!(N.browser.IS_ANY_SAFARI||N.browser.IS_IOS),l=t.overrideNative,u=l===void 0?o:l,d=s.overrideNative,c=d===void 0?!1:d;return c||u}},r1=function(){return Gs("avc1.4d400d,mp4a.40.2")};r1()&&N.getTech("Html5").registerSourceHandler(Va,0);N.VhsHandler=Dc;Object.defineProperty(N,"HlsHandler",{get:function(){return N.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Dc},configurable:!0});N.VhsSourceHandler=Va;Object.defineProperty(N,"HlsSourceHandler",{get:function(){return N.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Va},configurable:!0});N.Vhs=pt;Object.defineProperty(N,"Hls",{get:function(){return N.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),pt},configurable:!0});N.use||(N.registerComponent("Hls",pt),N.registerComponent("Vhs",pt));N.options.vhs=N.options.vhs||{};N.options.hls=N.options.hls||{};if(!N.getPlugin||!N.getPlugin("reloadSourceOnError")){var n1=N.registerPlugin||N.plugin;n1("reloadSourceOnError",WA)}function au(i,e){var r={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(r[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var t=0;for(n=Object.getOwnPropertySymbols(i);t<n.length;t++)e.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(i,n[t])&&(r[n[t]]=i[n[t]])}return r}var a1={src:{type:String,onChange:function(i,e){return i.src(e)}},width:{type:Number,onChange:function(i,e){return i.width(e)},onEvent:function(i,e){i.on(["playerresize","resize"],function(){return e(i.width())})}},height:{type:Number,onChange:function(i,e){return i.height(e)},onEvent:function(i,e){i.on(["playerresize","resize"],function(){return e(i.height())})}},preload:{type:String,onChange:function(i,e){return i.preload(e)}},loop:{type:Boolean,onChange:function(i,e){return i.loop(e)}},muted:{type:Boolean,onChange:function(i,e){return i.muted(e)},onEvent:function(i,e){return i.on("volumechange",function(){return e(i.muted())})}},poster:{type:String,onChange:function(i,e){return i.poster(e)},onEvent:function(i,e){return i.on("posterchange",function(){return e(i.poster())})}},controls:{type:Boolean,onChange:function(i,e){return i.controls(e)},onEvent:function(i,e){i.on("controlsenabled",function(){return e(!0)}),i.on("controlsdisabled",function(){return e(!1)})}},autoplay:{type:[Boolean,String],onChange:function(i,e){return i.autoplay(e)}},crossorigin:{type:String,onChange:function(i,e){return i.crossOrigin(e)}},crossOrigin:{type:String,onChange:function(i,e){return i.crossOrigin(e)}},playsinline:{type:Boolean,onChange:function(i,e){return i.playsinline(e)}},playsInline:{type:Boolean,onChange:function(i,e){return i.playsinline(e)}}},s1={id:{type:String},sources:{type:Array,onChange:function(i,e){return i.src(e)}},tracks:{type:Array,onChange:function(i,e){for(var r=i.remoteTextTracks(),n=(r==null?void 0:r.length)||0;n--;)i.removeRemoteTextTrack(r[n]);i.ready(function(){e.forEach(function(t){return i.addRemoteTextTrack(t,!1)})})}},textTrackSettings:{type:Object,onChange:function(i,e){return i.textTrackSettings.options(e)}},language:{type:String,onChange:function(i,e){return i.language(e)},onEvent:function(i,e){return i.on("languagechange",function(){return e(i.language())})}},languages:{type:Object},playbackRates:{type:Array,onChange:function(i,e){return i.playbackRates(e??[])},onEvent:function(i,e){i.on("playbackrateschange",function(){return e(i.playbackRates())})}},audioOnlyMode:{type:Boolean,onChange:function(i,e){return i.audioOnlyMode(e)}},audioPosterMode:{type:Boolean,onChange:function(i,e){return i.audioPosterMode(e)}},responsive:{type:Boolean,onChange:function(i,e){return i.responsive(e)}},breakpoints:{type:Object,onChange:function(i,e){return i.breakpoints(e)}},fluid:{type:Boolean,onChange:function(i,e){return i.fluid(e)}},fill:{type:Boolean,onChange:function(i,e){return i.fill(e)}},aspectRatio:{type:String,onChange:function(i,e){return i.aspectRatio(e)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(i,e){return i.disablePictureInPicture(e)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},o1={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(i,e){return i.controlBar.options(e)}}},l1={html5:{type:Object}},u1={volume:{type:Number,onChange:function(i,e){return i.volume(e)},onEvent:function(i,e){return i.on("volumechange",function(){return e(i.volume())})}},playbackRate:{type:Number,onChange:function(i,e){i.playbackRate(e),i.defaultPlaybackRate(e)},onEvent:function(i,e){i.on("ratechange",function(){e(i.playbackRate())})}},options:{type:Object}},za=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a1),s1),o1),l1),u1),Lc=Object.keys(za),O0=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),D0=Object.keys(O0);Object.values(O0);var su=function(i){var e,r=i==null?void 0:i.trim().replace(/\s+/g," ");return r&&(e=r.split(" "))!==null&&e!==void 0?e:[]},ou={src:{getter:function(i){return i.src()}},currentSrc:{getter:function(i){return i.currentSrc()}},currentSource:{getter:function(i){return i.currentSource()}},width:{events:["resize","playerresize"],getter:function(i){return i.width()}},height:{events:["resize","playerresize"],getter:function(i){return i.height()}},currentWidth:{events:["resize","playerresize"],getter:function(i){return i.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(i){return i.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(i){return i.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(i){return i.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(i){return i.controls()}},volume:{events:["volumechange"],getter:function(i){return i.volume()}},muted:{events:["volumechange"],getter:function(i){return i.muted()}},poster:{events:["posterchange"],getter:function(i){return i.poster()}},seeking:{events:["seeking"],getter:function(i){return i.seeking()}},paused:{events:["pause","play","playing"],getter:function(i){return i.paused()}},ended:{events:["ended","play"],getter:function(i){return i.ended()}},currentTime:{events:["timeupdate"],getter:function(i){return i.currentTime()}},duration:{events:["durationchange"],getter:function(i){return i.duration()}},playbackRate:{events:["ratechange"],getter:function(i){return i.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(i){return i.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(i){return i.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(i){return i.isInPictureInPicture()}},isLive:{getter:function(i){var e;return(e=i.liveTracker)===null||e===void 0?void 0:e.isLive()}},language:{events:["languagechange"],getter:function(i){return i.language()}},userActive:{events:["useractive","userinactive"],getter:function(i){return i.userActive()}},readyState:{events:["loadeddata"],getter:function(i){return i.readyState()}},networkState:{events:["loadeddata","error"],getter:function(i){return i.networkState()}},error:{events:["loadeddata","error"],getter:function(i){return i.error()}},buffered:{events:["progress"],getter:function(i){return i.buffered()}},bufferedPercent:{events:["progress"],getter:function(i){return i.bufferedPercent()}},played:{events:["timeupdate"],getter:function(i){return i.played()}},seekable:{events:["progress","seeked"],getter:function(i){return i.seekable()}},audioTracks:{getter:function(i){var e;return(e=i.audioTracks)===null||e===void 0?void 0:e.call(i)}},videoTracks:{getter:function(i){var e;return(e=i.videoTracks)===null||e===void 0?void 0:e.call(i)}},textTracks:{getter:function(i){var e;return(e=i.textTracks)===null||e===void 0?void 0:e.call(i)}}},L0=Lc.filter(function(i){return Boolean(za[i].onEvent)}),M0=function(i){return"update:"+i},d1=D0.concat(L0.map(M0)),c1=Lc.reduce(function(i,e){var r,n=za[e],t=Array.isArray(n.type)?n.type:[n.type],a=Object.assign({},n);return t.includes(Boolean)&&(a.default=void 0),Object.assign(Object.assign({},i),((r={})[e]=a,r))},{}),f1=Fn({name:"VueVideoPlayer",props:Object.assign(Object.assign({},c1),{class:[String,Object,Array]}),emits:d1.concat(["mounted"],["unmounted"]),setup:function(i,e){var r=Le(i),n=r.class,t=au(r,["class"]),a=El(!1),s=El(null),o=El(null),l=ro(function(){return o.value?o.value.player:null}),u=tt(null),d=ro(function(){return u.value?cd(u.value):null});return Ho(function(){var c,h=function(g){var y,_=g.props,b=g.element,E=g.className,A=g.onEvent,I=_.options;I===void 0&&(I={});var k=au(_,["options"]),D={};Object.keys(k).forEach(function(K){var de=k[K];de!==void 0&&(D[K]=de)});var j=Object.assign(Object.assign({},D),I),V=j.volume,R=j.playbackRate,U=au(j,["volume","playbackRate"]),H=Object.assign(Object.assign({},U),{playsinline:(y=U.playsinline)!==null&&y!==void 0?y:U.playsInline}),z=N(b,H,function(){var K=this;D0.forEach(function(de){K.on(de,function(Y){A(de,Y)})}),U.src&&!U.sources&&this.src(U.src),V&&Number.isFinite(V)&&this.volume(V),R&&Number.isFinite(R)&&(this.defaultPlaybackRate(R),setTimeout(function(){K.playbackRate(R)},0))});E&&su(E).map(function(K){return z.addClass(K)});var G=function(K){var de;(de=z.options)===null||de===void 0||de.call(z,K??{})};return{player:z,dispose:function(){return z.dispose()},updateClassNames:function(K,de){su(K).map(function(Y){return z.removeClass(Y)}),su(de).map(function(Y){return z.addClass(Y)})},updateOptions:G,updatePropOption:function(K,de){var Y,W,$;G(((Y={})[K]=de,Y)),($=(W=za[K])===null||W===void 0?void 0:W.onChange)===null||$===void 0||$.call(W,z,de)}}}({element:s.value,props:t,onEvent:e.emit});c={player:h.player,onEvent:e.emit},L0.forEach(function(g){var y,_;(_=(y=za[g])===null||y===void 0?void 0:y.onEvent)===null||_===void 0||_.call(y,c.player,function(b){c.onEvent(M0(g),b)})}),pi(function(){return i.class},function(g,y){var _=ln(y),b=ln(g);h.updateClassNames(_,b)},{immediate:!0}),pi(function(){return i.options},function(g){return h.updateOptions(g??{})},{deep:!0}),Lc.filter(function(g){return g!=="options"}).forEach(function(g){pi(function(){return i[g]},function(y){return h.updatePropOption(g,y)},{deep:!0})}),function(g,y){var _=Object.keys(ou),b=_.reduce(function(A,I){var k;return Object.assign(Object.assign({},A),((k={})[I]=ou[I].getter(g),k))},{playing:!1,waiting:!1}),E=function(A,I){b[A]=I,y.onUpdate(A,I,Object.assign({},b))};g.on(["pause","ended"],function(){E("playing",!1)}),g.on(["play","playing"],function(){E("playing",!0)}),g.on("waiting",function(){E("waiting",!0);var A=g.currentTime(),I=function(){A!==g.currentTime()&&(E("waiting",!1),g.off("timeupdate",I))};g.on("timeupdate",I)}),_.forEach(function(A){var I,k=ou[A];g.on(["loadstart","loadedmetadata"].concat((I=k.events)!==null&&I!==void 0?I:[]),function(){E(A,k.getter(g))})}),y.onInit(Object.assign({},b))}(h.player,{onInit:function(g){u.value=g},onUpdate:function(g,y){u.value&&(u.value[g]=y)}}),o.value=h,a.value=!0,e.emit("mounted",{video:s.value,player:l.value,state:d.value})}),Vo(function(){o.value&&(o.value.dispose(),o.value=null,u.value=null,e.emit("unmounted"))}),function(){var c,h;return Xt("div",{"data-vjs-player":"",class:ln(n)},[Xt("video",{class:["video-js","v-video-player"],ref:s}),a.value&&((h=(c=e.slots).default)===null||h===void 0?void 0:h.call(c,{video:s.value,player:l.value,state:d.value}))])}}}),h1=f1;/*! @name videojs-errors @version 6.0.0 @license Apache-2.0 */var R0="6.0.0";const wp=N.getComponent("Flash"),p1=!N.browser.IS_IPHONE,m1=N.registerPlugin||N.plugin,N0={header:"",code:"",message:"",timeout:45*1e3,backgroundTimeout:300*1e3,dismiss:p1,errors:{1:{type:"MEDIA_ERR_ABORTED",headline:"The video download was cancelled"},2:{type:"MEDIA_ERR_NETWORK",headline:"The video connection was lost, please confirm you are connected to the internet"},3:{type:"MEDIA_ERR_DECODE",headline:"The video is bad or in a format that cannot be played on your browser"},4:{type:"MEDIA_ERR_SRC_NOT_SUPPORTED",headline:"This video is either unavailable or not supported in this browser"},5:{type:"MEDIA_ERR_ENCRYPTED",headline:"The video you are trying to watch is encrypted and we do not know how to decrypt it"},unknown:{type:"MEDIA_ERR_UNKNOWN",headline:"An unanticipated problem was encountered, check back soon and try again"},"-1":{type:"PLAYER_ERR_NO_SRC",headline:"No video has been loaded"},"-2":{type:"PLAYER_ERR_TIMEOUT",headline:"It looks like you're having playback issues. Reloading the video may help."},PLAYER_ERR_DOMAIN_RESTRICTED:{headline:"This video is restricted from playing on your current domain"},PLAYER_ERR_IP_RESTRICTED:{headline:"This video is restricted at your current IP address"},PLAYER_ERR_GEO_RESTRICTED:{headline:"This video is restricted from playing in your current geographic region"},FLASHLS_ERR_CROSS_DOMAIN:{headline:"The video could not be loaded: crossdomain access denied."}}},F0=function(i,e){let r,n,t;const a=[],s=function(_){e.errors=N.mergeOptions(e.errors,_),Object.keys(e.errors).forEach(b=>{const E=e.errors[b];E.type||(E.type=b)})};s();const o=function(){i.error()&&i.error().code===-2&&i.error(null),i.clearTimeout(n),i.clearTimeout(r),t&&(t=!1,i.removeClass("vjs-waiting"));const _=[1/0,-1],b=(E,A)=>E.indexOf(A)!==-1;ie.visibilityState==="hidden"&&(i.muted()||b(_,e.backgroundTimeout))||ie.visibilityState==="visible"&&b(_,e.timeout)||(n=i.setTimeout(function(){i.error()||i.paused()||i.ended()||(t=!0,i.addClass("vjs-waiting"))},1e3),r=i.setTimeout(function(){i.error()||i.paused()||i.ended()||i.error({code:-2,type:"PLAYER_ERR_TIMEOUT"})},ie.visibilityState==="hidden"?e.backgroundTimeout:e.timeout))},l=function(){let _;for(;a.length;)_=a.shift(),i.off(_[0],_[1]);i.clearTimeout(r),i.clearTimeout(n)},u=function(_,b){const E=function(){if(!i.error()){const A=i.$(".vjs-tech");if(A&&A.type==="application/x-shockwave-flash"&&!A.vjs_getProperty){i.error({code:-2,type:"PLAYER_ERR_TIMEOUT"});return}if(i.paused()||i.ended())return o()}b.call(this)};i.on(_,E),a.push([_,E])},d=function(){let _=0;l(),o(),u(["timeupdate","adtimeupdate"],function(){const b=i.currentTime();b!==_&&(_=b,o())}),i.off(ie,"visibilitychange",d),i.on(ie,"visibilitychange",d)},c=function(){i.currentSrc()||i.error({code:-1,type:"PLAYER_ERR_NO_SRC"})},h=function(){let _="",b=i.error();const E=ie.createElement("div");let A="";if(!b)return;if(i.off(ie,"visibilitychange",d),b=N.mergeOptions(b,e.errors[b.code||b.type||0]),b.message&&(_=`<div class="vjs-errors-details">${i.localize("Technical details")}
        : <div class="vjs-errors-message">${i.localize(b.message)}</div>
        </div>`),b.code===4&&wp&&!wp.isSupported()){const V=i.localize("If you are using an older browser please try upgrading or installing Flash.");_+=`<span class="vjs-errors-flashmessage">${V}</span>`}const I=i.getChild("errorDisplay");E.className="vjs-errors-dialog";const k=`<div class="vjs-errors-code"><b>${this.localize("Error Code")}:</b> ${b.type||b.code}</div>`,D=b.code===-2;A=`<div class="vjs-errors-content-container">
        <h2 class="vjs-errors-headline">${this.localize(b.headline)}</h2>
        ${D?"":k}
        ${D?"":_}
      </div>`;const j=I.closeable(!("dismiss"in b)||b.dismiss);if(D){A+=`<div class="vjs-errors-timeout-button-container">
         <button>${this.localize("Reload Video")}</button>
         <button>${this.localize("Dismiss")}</button>
       </div>`,E.innerHTML=A,I.fillWith(E),I.getChild("closeButton").hide();const V=I.el().querySelector(".vjs-errors-timeout-button-container > button:first-child"),R=I.el().querySelector(".vjs-errors-timeout-button-container > button:last-child");i.on(V,"click",function(){const U=i.currentSource();i.reset(),i.src(U)}),i.on(R,"click",function(){I.close()}),I.one("modalclose",()=>{i.off(V),i.off(R)})}else if(j){A+=`<div class="vjs-errors-ok-button-container">
          <button class="vjs-errors-ok-button">${this.localize("OK")}</button>
        </div>`,E.innerHTML=A,I.fillWith(E),I.contentEl().firstChild.appendChild(I.getChild("closeButton").el());const V=I.el().querySelector(".vjs-errors-ok-button");i.on(V,"click",function(){I.close()})}else E.innerHTML=A,I.fillWith(E);(i.currentWidth()<=600||i.currentHeight()<=250)&&I.addClass("vjs-xs"),I.one("modalclose",()=>i.error(null))},g=function(){l(),i.removeClass("vjs-errors"),i.off("play",d),i.off(ie,"visibilitychange",d),i.off("play",c),i.off("dispose",g),i.off(["aderror","error"],h)},y=function(_){g(),F0(i,N.mergeOptions(N0,_))};y.extend=_=>s(_),y.getAll=()=>N.mergeOptions(e.errors),y.timeout=function(_){if(typeof _>"u")return e.timeout;_!==e.timeout&&(e.timeout=_,i.paused()||d())},y.backgroundTimeout=function(_){if(typeof _>"u")return e.backgroundTimeout;_!==e.backgroundTimeout&&(e.backgroundTimeout=_,i.paused()||d())},y.disableProgress=()=>{},i.on("play",d),i.on("play",c),i.on("dispose",g),i.on(["aderror","contenterror","error"],h),i.ready(()=>{i.addClass("vjs-errors")}),i.paused()||d(),y.VERSION=R0,i.errors=y},Mc=function(i){F0(this,N.mergeOptions(N0,i))};["extend","getAll"].forEach(i=>{Mc[i]=function(){N.log.warn(`The errors.${i}() method is not available until the plugin has been initialized!`)}});Mc.VERSION=R0;m1("errors",Mc);const g1={class:"swiper-zoom-container"},v1=Fn({__name:"VideoSlide",props:{slide:null,active:{type:Boolean}},emits:["playStarted","playFinished"],setup(i,{emit:e}){const r=i,n=tt();function t({video:l,player:u}){n.value=u,l.classList.add("swiper-zoom-target"),u.errors()}function a(l){!r.active||!n.value||l.code==="Space"&&(n.value.paused()?n.value.play():n.value.pause())}document.addEventListener("keydown",a),yd(()=>document.removeEventListener("keydown",a)),pi(()=>r.active,()=>{r.active&&e("playStarted"),n.value&&(r.active?(n.value.play(),n.value.error()&&setTimeout(()=>e("playFinished"),3e3)):n.value.pause())});const s={userActions:{click:!1,doubleClick:!1},crossorigin:"anonymous",playsinline:!0,controls:!0,sources:[{src:r.slide.src,...r.slide.mimeType?{type:r.slide.mimeType}:{}}],volume:.4,children:["mediaLoader","posterImage","bigPlayButton","loadingSpinner","errorDisplay","controlBar","textTrackDisplay"],controlBar:{volumePanel:!1}};function o(){r.active&&setTimeout(()=>e("playFinished"),3e3)}return(l,u)=>(ri(),yn("div",g1,[ht(Zs(h1),xd(s,{class:"video-player vjs-theme-forest vjs-big-play-centered vjs-fluid",onMounted:t,onEnded:u[0]||(u[0]=d=>e("playFinished")),onError:o}),null,16)]))}});const cl=(i,e)=>{const r=i.__vccOpts||i;for(const[n,t]of e)r[n]=t;return r},y1=cl(v1,[["__scopeId","data-v-c806545e"]]),_1=Fn({__name:"slide-item",props:{slide:null},setup(i){const e={image:Jf,video:y1};return(r,n)=>(ri(),_n(TT(e[i.slide.type??"image"]??Jf),{slide:i.slide},null,8,["slide"]))}}),B0=i=>(iT("data-v-e55f960c"),i=i(),rT(),i),T1=["aria-checked","onKeydown"],b1=B0(()=>Kt("span",{class:"label"}," Autoplay Slides ",-1)),S1=B0(()=>Kt("span",{class:"switch"},null,-1)),x1={class:"label"},E1=Fn({__name:"AutoPlaySwitch",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(i,{emit:e}){const r=i;function n(){e("update:modelValue",!r.modelValue)}return(t,a)=>(ri(),yn("div",{role:"switch","aria-checked":i.modelValue,tabindex:"0",onClick:n,onKeydown:[Vf(n,["enter"]),Vf(n,["space"])]},[b1,S1,Kt("span",x1,Ys(i.modelValue?"On":"Off"),1)],40,T1))}});const C1=cl(E1,[["__scopeId","data-v-e55f960c"]]),w1={class:"big-shot"},P1={class:"toolbar"},I1={class:"text"},A1=Fn({__name:"big-shot",props:{slideData:null},emits:["beforeSlideChangeHook"],setup(i,{emit:e}){const r=i,n=tt(!1),t=tt(),a={virtual:!0,slidesPerView:1,modules:[HS,VS,zS,WS],keyboard:!0,spaceBetween:50,zoom:!0,loop:!0,autoplay:!1,speed:1},s=tt(0);pi(t,()=>{if(!t.value)return;n.value||t.value.autoplay.stop(),t.value.on("autoplayStop",function(){n.value&&(n.value=!1)}),t.value.on("autoplayStart",function(){n.value||(n.value=!0)});let d=0;t.value.on("slideChange",()=>{s.value=t.value.realIndex;const c=t.value.realIndex,g=r.slideData.length-1;if(d===c)return;const y=c-d,_=y>0?y:g-d+(c+1),b=y<0?Math.abs(y):d+1+g-c;let E;_<b?E=_:E=b*-1,e("beforeSlideChangeHook",{currentIndex:d,newIndex:c,delta:E,length:r.slideData.length}),d=t.value.realIndex})});const o=tt(!1);function l(){o.value=!0}function u(){o.value=!1}return pi(n,()=>{n.value?o.value||t.value.autoplay.start():t.value.autoplay.stop()}),pi(o,()=>{t.value&&n.value&&(o.value?n.value&&(t.value.animating?t.value.once("slideChangeTransitionEnd",()=>t.value.autoplay.pause()):t.value.autoplay.pause()):(t.value.slideNext(),t.value.autoplay.start()))}),(d,c)=>(ri(),yn("div",w1,[i.slideData.length>0?(ri(),_n(Zs(QS),xd({key:0},a,{ref:"swiperElm",onSwiper:c[1]||(c[1]=h=>t.value=h)}),{"container-start":ma(()=>[Kt("div",P1,[Kt("div",null,[Kt("span",I1,Ys(s.value+1)+" / "+Ys(i.slideData.length),1)]),Kt("div",null,[ST(d.$slots,"center-header",{currentSlide:i.slideData[s.value]},void 0,!0)]),Kt("div",null,[ht(C1,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=h=>n.value=h)},null,8,["modelValue"])])])]),default:ma(()=>[(ri(!0),yn(qt,null,bT(i.slideData.filter(h=>h),(h,g)=>(ri(),_n(Zs(JS),{key:g,"virtual-index":g},{default:ma(()=>[ht(_1,{slide:h,active:s.value===g,onPlayStarted:l,onPlayFinished:u},null,8,["slide","active"])]),_:2},1032,["virtual-index"]))),128))]),_:3},16)):bm("",!0)]))}});const k1=cl(A1,[["__scopeId","data-v-d9e6fe27"]]);const O1={name:"BigShotExample",components:{BigShot:k1},props:{},data(){return{slideData:[{src:"media/factory.jpg"},{src:"media/sunset.jpg"},{src:"media/santa.mp4",type:"video"},{src:"media/tree.jpg"},{src:"media/tunnels.jpg"}],showSlideShow:!0}}};function D1(i,e,r,n,t,a){const s=_T("BigShot");return ri(),yn(qt,null,[t.showSlideShow?(ri(),_n(s,{key:0,"slide-data":t.slideData},{"center-header":ma(({currentSlide:o})=>[Kt("h1",null,Ys(o.src),1)]),_:1},8,["slide-data"])):bm("",!0),Kt("button",{onClick:e[0]||(e[0]=()=>t.showSlideShow=!0)}," Open Slide Show ")],64)}const L1=cl(O1,[["render",D1]]),M1=Sb(L1);M1.mount("#app");
