var U=Object.defineProperty,R=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var I=(e,n,i)=>n in e?U(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,S=(e,n)=>{for(var i in n||(n={}))E.call(n,i)&&I(e,i,n[i]);if(v)for(var i of v(n))$.call(n,i)&&I(e,i,n[i]);return e},T=(e,n)=>R(e,Z(n));var M=(e,n)=>{var i={};for(var a in e)E.call(e,a)&&n.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&v)for(var a of v(e))n.indexOf(a)<0&&$.call(e,a)&&(i[a]=e[a]);return i};import{g as x,o as L,c as y,r as B,n as K,H as G,a as m,b as f,d as c,e as C,t as D,F as _,f as H,h as O,m as X,p as J,i as Q,j as z,k as Y,l as ee,q as P,s as W,u as V,v as te}from"./vendor.40716946.js";const ne=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerpolicy&&(t.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?t.credentials="include":s.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(s){if(s.ep)return;s.ep=!0;const t=i(s);fetch(s.href,t)}};ne();const j=2,ie=3;function oe(e,n){var l;const i=x().proxy;L(()=>{t()});const a=y(()=>{var o;return((o=e.slideData)==null?void 0:o.length)||0}),s=new WeakMap;function t(){for(const o of i.loadedSlides){if(!o.elm){if(o.elm=i.$refs[`slide-${o.id}`],!o.elm)throw new Error("Something went wrong. Can't access slide element.");if(o.mediaElm=o.elm?o.elm.querySelector(".media"):null,!o.mediaElm)throw new Error("Something went wrong. Can't access media element.");i.executeOnceMediaDimensionsKnown(o,()=>{i.positionLoadedSlide(o,i.getInitialScale(o))}),o.mediaElm.addEventListener("click",()=>{i.toggleScaleMode(i.currentSlide)}),o.mediaElm.addEventListener("play",()=>{o.elm.querySelector(".play-button").classList.remove("show")}),o.mediaElm.addEventListener("pause",()=>{o.elm.querySelector(".play-button").classList.add("show")}),o.mediaElm.addEventListener("transitionend",()=>{o.elmClasses&&(o.elmClasses=o.elmClasses.filter(d=>d!=="animate-zoom"),i.$forceUpdate())})}o.index===i.currentSlideIndex&&n.emit("newSlideLoaded",o)}}const r=y(()=>{const o=[];for(const[d,u]of e.slideData.entries()){s.has(u)||s.set(u,{data:u,type:(u==null?void 0:u.type)||"image",mediaHeight:void 0,mediaWidth:void 0,biggerThanContainer:void 0,scale:void 0,id:d+Math.random()});const g=s.get(u);g.index=d,o.push(g)}return o}),h=y(function(){const o=Math.min(a.value,j+1+ie),d=[];for(let u=0;u<o;u+=1){const g=i.wrapIndex(u+i.currentSlideIndex-j);d.push(r.value[g])}return K(()=>t()),d}),p=y(()=>r.value.filter(o=>!h.value.some(d=>d===o)));return{currentSlideIndex:B(((l=e.slideData)==null?void 0:l.length)>0?0:-1),slides:r,loadedSlides:h,notLoadedSlides:p,numOfSlides:a,setupLoadedSlides:t}}function se(e,n,i,a){L(()=>{const d=x().proxy.$el.querySelector(".loop-indicator");d.addEventListener("transitionend",u=>{u.propertyName==="opacity"&&d.classList.remove("animate")})});function s(){return this.changeCurrentSlideBy(1)}function t(){return this.changeCurrentSlideBy(-1)}async function r(o){var b;let d=i.value+o;const u=this.loadedSlides;let g=!1;const k=this.$el.querySelector(".loading-indicator"),F=setTimeout(()=>{k.classList.add("animate"),g=!0},300);if(await((b=e.beforeSlideChangeHook)==null?void 0:b.call(e,{currentIndex:i.value,newIndex:this.wrapIndex(d),delta:o,length:this.numOfSlides})),clearTimeout(F),g&&k.classList.remove("animate"),d=i.value+o,d<0||d>this.numOfSlides-1){const w=this.$el.querySelector(".loop-indicator");w.classList.contains("animate")?(w.classList.remove("animate"),setTimeout(()=>w.classList.add("animate"),50)):w.classList.add("animate")}return u===this.loadedSlides?this.changeCurrentSlideTo(this.wrapIndex(d),o):new Promise(w=>this.$nextTick(()=>w(this.changeCurrentSlideTo(this.wrapIndex(d),o))))}function h(o,d){this.$emit("slideChanged",{newIndex:o,oldIndex:i.value,delta:d||o-i.value}),a.emit("unloadSlide",this.currentSlide),i.value=o}function p(){window.location.hash="",this.$emit("exited")}const l=y(()=>n.value[i.value]);return{nextSlide:s,previousSlide:t,changeCurrentSlideBy:r,changeCurrentSlideTo:h,closeSlideShow:p,currentSlide:l}}function ae(){function e(t){const r=this.getPositionForLoadedSlide(t);t.elmStyle=T(S({},t.elmStyle),{transform:r.join(" ")}),this.$forceUpdate()}function n(){for(const t of this.loadedSlides)t!==this.currentSlide&&(t.scale=this.getInitialScale(t)),this.executeOnceMediaDimensionsKnown(t,()=>this.positionLoadedSlide(t))}function i(t){const{container:r,media:h}=this.getSlideDimensions(t),p=r.height/2-h.height/2,l=r.width/2-h.width/2,o=r.width/h.width,d=r.height/h.height,u=Math.min(o,d),g=[];return g.push(`translate(${l}px, ${p}px)`),t.scale==="contain"&&g.push(`scale(${u})`),g}function a(t){const r={container:{height:this.$el.clientHeight,width:this.$el.clientWidth},media:{height:t.data.height||t.mediaHeight,width:t.data.width||t.mediaWidth}};if(!r.container.height)throw new Error("Could not get container height");if(!r.container.width)throw new Error("Could not get container width");if(!r.media.height)throw console.warn(t),new Error("Could not get media height");if(!r.media.width)throw new Error("Could not get media width");return r}function s(t){const{container:r,media:h}=this.getSlideDimensions(t);return!(h.height<r.height&&h.width<r.width)}return{positionLoadedSlide:e,positionAllLoadedSlides:n,getPositionForLoadedSlide:i,getSlideDimensions:a,naturalSlideSizeBiggerThanContainer:s}}function re(){const e=B(void 0);function n(t){const r=this.nextToggledScaleMode(t);t.scale!==r&&(t.scale=r,t===this.currentSlide?(t.elmClasses=[...t.elmClasses||[],"animate-zoom"],this.$forceUpdate(),this.positionLoadedSlide(t),e.value=r,this.positionAllLoadedSlides()):this.positionLoadedSlide(t))}function i(t){return t.biggerThanContainer||this.rememberScale==="contain"?t.scale==="contain"?"natural":"contain":"natural"}function a(t){if(t.scale===this.nextToggledScaleMode(t))return null;if(t.scale==="contain"&&this.nextToggledScaleMode(t)==="natural")return t.biggerThanContainer?"in":"out";if(t.scale==="natural"&&this.nextToggledScaleMode(t)==="contain")return t.biggerThanContainer?"out":"in"}function s(t,r){return this.rememberScale&&!r&&(this.rememberScale===e.value||this.rememberScale===!0)?e.value:t.biggerThanContainer?"contain":"natural"}return{toggleScaleMode:n,nextToggledScaleMode:i,nextToggledScaleModeZoomDirection:a,getInitialScale:s}}function le(){L(()=>{const e=x();new G(e.proxy.$el,{}).on("swipe",i=>{i.deltaX<0?e.proxy.nextSlide():e.proxy.previousSlide()})})}function de(e){function n(a){var s;((s=a.mediaElm)==null?void 0:s.play)&&(a.mediaElm.play(),setTimeout(()=>{a.mediaElm.paused&&a.elm.querySelector(".play-button").classList.add("show")},50))}function i(a){var s,t;(t=(s=a.mediaElm)==null?void 0:s.pause)==null||t.call(s)}return e.on("newSlideLoaded",n),e.on("unloadSlide",i),{playVideo:n}}const ce={xmlns:"http://www.w3.org/2000/svg",width:"310",height:"270",viewBox:"0 0 82.021 71.438"},ue=c("path",{style:{fill:"none",stroke:"#000","stroke-width":".264583px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"},d:"M-136.94-67.294c18.018 45.581-1.094 25.217 4.344 22.858 5.438-2.36 17.599 67.312 17.599 67.312"},null,-1),he=c("path",{style:{fill:"#000","fill-opacity":"1",stroke:"none","stroke-width":".264583px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"},d:"M10.583 44.98V10.582h60.854V44.98H58.208V29.104L31.75 50.271l26.458 21.166V55.563h23.813V0H0v55.563h23.812V44.978Z"},null,-1),me=[ue,he];function fe(e,n){return m(),f("svg",ce,me)}var ge={render:fe};const pe={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff"},Se=c("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},[c("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),c("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[c("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])],-1),we=[Se];function ye(e,n){return m(),f("svg",pe,we)}var q={render:ye};var A=(e,n)=>{for(const[i,a]of n)e[i]=a;return e};const ve={name:"BigShot",components:{RepeatIcon:ge,SpinnerIcon:q},props:{slideData:{type:Array,default:()=>[]},rememberScale:Boolean,beforeSlideChangeHook:{type:Function,default:()=>()=>{}},plugins:{type:Array,default:()=>[]}},setup(e){const n=X();le();const t=oe(e,n),{slides:i,currentSlideIndex:a}=t,s=M(t,["slides","currentSlideIndex"]);return S(S(S(S(S({SpinnerIcon:q,slides:i,currentSlideIndex:a},s),se(e,i,a,n)),ae()),re()),de(n))},watch:{notLoadedSlides:{handler(){for(const e of this.notLoadedSlides)e.elm=null,e.mediaElm=null,e.elmStyle=null,e.elmClasses=null},deep:!0}},created(){window.addEventListener("keydown",this.keyDownListener),window.addEventListener("resize",this.resizeWindowListener),window.addEventListener("orientationchange",this.resizeWindowListener)},methods:{wrapIndex(e){return e>=0?e%this.numOfSlides:(e%this.numOfSlides+this.numOfSlides)%this.numOfSlides},saveMediaMetadata(e){e.mediaHeight=e.mediaElm.naturalHeight||e.mediaElm.videoHeight,e.mediaWidth=e.mediaElm.naturalWidth||e.mediaElm.videoWidth,e.biggerThanContainer=this.naturalSlideSizeBiggerThanContainer(e),e.scale=this.getInitialScale(e),this.$forceUpdate()},keyDownListener(e){e.key==="ArrowLeft"?this.previousSlide():e.key==="ArrowRight"?this.nextSlide():e.key==="Escape"&&this.closeSlideShow()},resizeWindowListener(){for(const e of this.loadedSlides){const n=this.naturalSlideSizeBiggerThanContainer(e);e.biggerThanContainer!==n&&(e.biggerThanContainer=n,e.scale=this.getInitialScale(e,!0))}this.positionLoadedSlide(this.currentSlide),this.positionAllLoadedSlides()},executeOnceMediaDimensionsKnown(e,n){const i=()=>{!e.elm||!document.body.contains(e.elm)||(this.saveMediaMetadata(e),n&&n(e))};e.mediaHeight&&e.mediaWidth?n&&n(e):e.mediaElm.naturalHeight||e.mediaElm.readyState>=1?i():(e.mediaElm.addEventListener("load",i),e.mediaElm.addEventListener("loadedmetadata",i))}}},N=e=>(J("data-v-50cb151c"),e=e(),Q(),e),_e={ref:"container",class:"container"},xe={class:"topbar"},Le={class:"right-side"},Ce=["data-slide-index"],ke=["src"],be=["src"],Ee=["onClick"],$e=N(()=>c("span",null,"\u25B6",-1)),Ie=[$e],Te={class:"slide-status-indicator"},Me={class:"container loop-indicator"},Be={class:"container loading-indicator"},De=N(()=>c("div",{class:"bottom-bar"},null,-1));function He(e,n,i,a,s,t){var p;const r=C("RepeatIcon"),h=C("SpinnerIcon");return m(),f("div",_e,[c("div",xe,[c("div",null,D(a.currentSlideIndex+1)+" / "+D(e.numOfSlides),1),c("div",Le,[c("button",{class:"close-button",onClick:n[0]||(n[0]=(...l)=>e.closeSlideShow&&e.closeSlideShow(...l))}," X "),(m(!0),f(_,null,H((p=i.plugins)==null?void 0:p.filter(l=>l.topbarIcon),l=>(m(),f("div",{key:l.name,class:"plugin"},[(m(),z(Y(l.topbarIcon),{class:"icon"}))]))),128))])]),(m(!0),f(_,null,H(e.loadedSlides,l=>(m(),f("div",{key:l.id,ref:`slide-${l.id}`,class:ee(["slide",{current:l.index===a.currentSlideIndex,positioned:l.elmStyle&&l.elmStyle.transform},e.nextToggledScaleModeZoomDirection(l)&&`zoom-${e.nextToggledScaleModeZoomDirection(l)}`,l.elmClasses]),"data-slide-index":l.index},[l.type==="image"?(m(),f("img",{key:0,src:l.data.src,class:"media",style:P(l.elmStyle)},null,12,ke)):l.type==="video"?(m(),f(_,{key:1},[c("video",{class:"media",style:P(l.elmStyle),playsinline:""},[c("source",{src:l.data.src},null,8,be)],4),c("button",{class:"play-button",onClick:()=>e.playVideo(l)},Ie,8,Ee)],64)):W("",!0)],10,Ce))),128)),c("div",Te,[c("div",Me,[O(r,{class:"icon"})]),c("div",Be,[O(h,{class:"icon"})])]),De],512)}var Oe=A(ve,[["render",He],["__scopeId","data-v-50cb151c"]]);const ze={viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Pe=c("path",{d:"m482.262 2.217 107.776 329.432h348.773l-282.163 203.6L764.425 864.68 482.262 661.081 200.099 864.68l107.776-329.431-282.163-203.6h348.773L482.262 2.217Z",style:{fill:"#fff"},transform:"matrix(1.04157 0 0 1.04875 -2.31 -2.325)"},null,-1),We=[Pe];function Ve(e,n){return m(),f("svg",ze,We)}var je={render:Ve},qe={name:"Test Plugin",topbarIcon:V(je)};const Ae={viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Ne=c("ellipse",{cx:"486",cy:"620.5",rx:"486",ry:"620.5",style:{fill:"#fff"},transform:"scale(1.02881 .8058)"},null,-1),Fe=[Ne];function Ue(e,n){return m(),f("svg",Ae,Fe)}var Re={render:Ue},Ze={name:"Test Plugin - Circle",topbarIcon:V(Re)};const Ke={name:"BigShotExampleUsage",components:{BigShot:Oe},props:{loadPlugins:Boolean},data({loadPlugins:e}){return{slideData:[{src:"media/factory.jpg"},{src:"media/sunset.jpg"},{src:"media/santa.mp4",type:"video"},{src:"media/tree.jpg"},{src:"media/tunnels.jpg"}],showSlideShow:!0,plugins:e?[qe,Ze]:[]}},methods:{async beforeSlideChangeHook({currentIndex:e,newIndex:n,delta:i}){i>0&&n<e&&(await new Promise(a=>setTimeout(a,1e3)),this.slideData.push(S({},this.slideData[e-4])))}}};function Ge(e,n,i,a,s,t){const r=C("BigShot");return m(),f(_,null,[s.showSlideShow?(m(),z(r,{key:0,"slide-data":s.slideData,"before-slide-change-hook":t.beforeSlideChangeHook,plugins:s.plugins,onExited:n[0]||(n[0]=()=>s.showSlideShow=!1)},null,8,["slide-data","before-slide-change-hook","plugins"])):W("",!0),c("button",{onClick:n[1]||(n[1]=()=>s.showSlideShow=!0)}," Open Slide Show ")],64)}var Xe=A(Ke,[["render",Ge]]);const Je=te(Xe);Je.mount("#app");
(function(){ try {var elementStyle = document.createElement('style'); elementStyle.innerText = `.container[data-v-50cb151c]{position:absolute;top:0;bottom:0;left:0;right:0;background:black;color:#fff;overflow:hidden;text-align:initial;font-family:sans-serif;z-index:10}.container .topbar[data-v-50cb151c]{background-color:#0000004d;position:absolute;left:0;top:0;height:44px;width:100%;opacity:75%;font-size:13px;display:flex;justify-content:space-between;align-items:center;z-index:1;padding:2px 20px;box-sizing:border-box}.container .topbar>*[data-v-50cb151c]{flex:0 1 auto;flex-direction:row-reverse}.container .topbar button[data-v-50cb151c]{color:#fff;background:none;border:none}.container .topbar .plugin .icon[data-v-50cb151c]{height:100%;max-width:3em;padding:10px;box-sizing:border-box}.container .topbar .right-side[data-v-50cb151c]{display:flex;height:100%}.container .topbar .right-side>*[data-v-50cb151c]{flex:0 1 auto}.container .topbar .right-side>* svg[data-v-50cb151c]{width:fit-content}.container .slide[data-v-50cb151c]{height:100%;width:100%;overflow:hidden}.container .slide .play-button[data-v-50cb151c]{left:0;right:0;margin:auto;top:0;bottom:0;height:80px;width:80px;position:absolute;background-color:#fff;border:none;font-size:40px;color:#000;border-radius:40px;visibility:hidden;transform:scale(.5);opacity:0%}.container .slide .play-button span[data-v-50cb151c]{transform:translateY(-3px) translate(3px);display:inline-block;transition:transform .3s}.container .slide .play-button:hover span[data-v-50cb151c]{transform:translateY(-3px) translate(10px)}.container .slide .play-button.show[data-v-50cb151c]{visibility:visible;transform:scale(1);opacity:100%;transition:transform .2s,opacity .2s}.container .slide.animate-zoom .media[data-v-50cb151c]{transition:transform .2s}.container .slide.zoom-in .media[data-v-50cb151c]{cursor:zoom-in}.container .slide.zoom-out .media[data-v-50cb151c]{cursor:zoom-out}.container .slide[data-v-50cb151c]:not(.current),.container .slide[data-v-50cb151c]:not(.positioned){display:none}.container .slide-status-indicator .container[data-v-50cb151c]{left:0;right:0;margin:auto;top:0;bottom:0;height:100px;width:100px;position:absolute;background-color:#0009;border:none;font-size:70px;color:#fff;line-height:100px;text-align:center;visibility:hidden;transform:scale(.3);pointer-events:none;opacity:80%}.container .slide-status-indicator .container .icon[data-v-50cb151c]{display:inline-block;height:1em;width:1em}.container .slide-status-indicator .container.loading-indicator[data-v-50cb151c]{display:flex;justify-content:center;align-items:center}.container .slide-status-indicator .container.loading-indicator .icon[data-v-50cb151c]{width:70%;height:70%}.container .slide-status-indicator .container.loading-indicator.animate[data-v-50cb151c]{visibility:visible;transform:scale(1);transition:transform 1s,opacity 4s 1s,visibility 0s .2s}.container .slide-status-indicator .container.loop-indicator .icon[data-v-50cb151c]{vertical-align:-.2em}.container .slide-status-indicator .container.loop-indicator .icon[data-v-50cb151c] path{fill:#fff!important}.container .slide-status-indicator .container.loop-indicator.animate[data-v-50cb151c]{visibility:visible;transform:scale(1);opacity:0%;transition:transform 1s,opacity 4s 1s,visibility 0s .2s}body{margin:0}#app{display:flex;justify-content:center;align-items:center;height:100vh}
`; document.head.appendChild(elementStyle);} catch(e) {console.error(e, 'vite-plugin-css-injected-by-js: can\'t add the style.');} })();