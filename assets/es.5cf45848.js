var G=Object.defineProperty,X=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var O=(e,n,a)=>n in e?G(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,_=(e,n)=>{for(var a in n||(n={}))D.call(n,a)&&O(e,a,n[a]);if(b)for(var a of b(n))z.call(n,a)&&O(e,a,n[a]);return e},W=(e,n)=>X(e,J(n));var F=(e,n)=>{var a={};for(var o in e)D.call(e,o)&&n.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&b)for(var o of b(e))n.indexOf(o)<0&&z.call(e,o)&&(a[o]=e[o]);return a};import{g as I,o as C,r as E,c as L,n as K,H as Q,a as m,b as g,d as c,e as M,t as V,f as $,F as k,h as T,i as j,m as Y,p as ee,j as te,k as B,l as ne,q as N,s as ie,u as q,v as A,w as oe}from"./vendor.d8d220e6.js";const ae=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function a(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerpolicy&&(d.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?d.credentials="include":r.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(r){if(r.ep)return;r.ep=!0;const d=a(r);fetch(r.href,d)}};ae();const R=2,se=3;function re(e,n,a){var y;const o=I().proxy;C(()=>{v()});const r=E(((y=e.slideData)==null?void 0:y.length)>0?0:null);n.on("slideMediaFailedToLoad",s=>{s.slide.mediaLoadingFailed=!0});const d=L(()=>{var s;return((s=e.slideData)==null?void 0:s.length)||0}),u=new WeakMap;function v(){for(const s of o.loadedSlides){if(!s.elm){if(s.elm=o.$refs[`slide-${s.id}`],!s.elm)throw new Error("Something went wrong. Can't access slide element.");if(s.mediaElm=s.elm?s.elm.querySelector(".media"):null,!s.mediaElm)throw new Error("Something went wrong. Can't access media element.");t(s),s.mediaElm.addEventListener("click",()=>{o.toggleScaleMode(o.currentSlide)}),s.mediaElm.addEventListener("play",()=>{s.elm.querySelector(".play-button").classList.remove("show")}),s.mediaElm.addEventListener("pause",()=>{s.elm.querySelector(".play-button").classList.add("show")}),s.mediaElm.addEventListener("transitionend",()=>{s.elmClasses&&(s.elmClasses=s.elmClasses.filter(h=>h!=="animate-zoom"),o.$forceUpdate())})}s.index===o.currentSlideIndex&&n.emit("newSlideLoaded",s)}}function t(s){const h=f=>{!s.elm||!document.body.contains(s.elm)||(f?(f.slide=s,n.emit("slideMediaFailedToLoad",f)):n.emit("slideMediaLoaded",s))};s.mediaElm.naturalHeight||s.mediaElm.readyState>=1?h():(s.mediaElm.addEventListener("load",()=>h()),s.mediaElm.addEventListener("loadedmetadata",()=>h()),s.mediaElm.addEventListener("error",f=>h(f)))}const l=L(()=>{var S;const s=(S=o.slides)==null?void 0:S[r.value],h=[];for(const[w,x]of e.slideData.entries()){u.has(x)||u.set(x,{data:x,type:(x==null?void 0:x.type)||"image",mediaHeight:void 0,mediaWidth:void 0,biggerThanContainer:void 0,scale:void 0,id:w+Math.random()});const H=u.get(x);H.index=w,h.push(H)}const f=h.indexOf(s);return f>=0&&f!==r.value&&(r.value=f,console.log(f,"currentSlideNewIndex")),h}),i=L(function(){if(a.value=!a.value&&!1,o.currentSlideIndex===null)if(l.value.length>0)o.currentSlideIndex=0;else return[];else l.value.length>0?o.currentSlideIndex<0?o.currentSlideIndex=0:o.currentSlideIndex>=l.value.length&&(o.currentSlideIndex=l.value.length-1):o.currentSlideIndex=null;const s=o.currentSlideIndex,h=Math.min(d.value,R+1+se),f=[];for(let S=0;S<h;S+=1){const w=o.wrapIndex(S+s-R);f.push(l.value[w])}return K(()=>v()),f}),p=L(()=>l.value.filter(s=>!i.value.some(h=>h===s)));return{currentSlideIndex:r,slides:l,loadedSlides:i,notLoadedSlides:p,numOfSlides:d}}function le(e,n,a,o){C(()=>{const p=I().proxy.$el.querySelector(".loop-indicator");p.addEventListener("transitionend",y=>{y.propertyName==="opacity"&&p.classList.remove("animate")})});function r(){return this.changeCurrentSlideBy(1)}function d(){return this.changeCurrentSlideBy(-1)}async function u(i){var S;let p=a.value+i;const y=this.loadedSlides;let s=!1;const h=this.$el.querySelector(".loading-indicator"),f=setTimeout(()=>{h.classList.add("animate"),s=!0},300);if(await((S=e.beforeSlideChangeHook)==null?void 0:S.call(e,{currentIndex:a.value,newIndex:this.wrapIndex(p),delta:i,length:this.numOfSlides})),clearTimeout(f),s&&h.classList.remove("animate"),p=a.value+i,p<0||p>this.numOfSlides-1){const w=this.$el.querySelector(".loop-indicator");w.classList.contains("animate")?(w.classList.remove("animate"),setTimeout(()=>w.classList.add("animate"),50)):w.classList.add("animate")}return y===this.loadedSlides?this.changeCurrentSlideTo(this.wrapIndex(p),i):new Promise(w=>this.$nextTick(()=>w(this.changeCurrentSlideTo(this.wrapIndex(p),i))))}function v(i,p){this.$emit("slideChanged",{newIndex:i,oldIndex:a.value,delta:p||i-a.value}),o.emit("unloadSlide",this.currentSlide),a.value=i}function t(){window.location.hash="",this.$emit("exited")}const l=L(()=>n.value[a.value]);return{nextSlide:r,previousSlide:d,changeCurrentSlideBy:u,changeCurrentSlideTo:v,closeSlideShow:t,currentSlide:l}}function de(e,n){function a(t){const l=r(t);t.elmStyle=W(_({},t.elmStyle),{transform:l.join(" ")}),n.value=!0}function o(){for(const t of this.loadedSlides)t!==this.currentSlide&&(t.scale=this.getInitialScale(t)),t.mediaMetadataLoaded&&a(t)}function r(t){const{container:l,media:i}=d(t),p=l.height/2-i.height/2,y=l.width/2-i.width/2,s=l.width/i.width,h=l.height/i.height,f=Math.min(s,h),S=[];return S.push(`translate(${y}px, ${p}px)`),t.scale==="contain"&&S.push(`scale(${f})`),S}function d(t){const l={container:{height:t.elm.parentElement.clientHeight,width:t.elm.parentElement.clientWidth},media:{height:t.data.height||t.mediaHeight,width:t.data.width||t.mediaWidth}};if(!l.container.height)throw new Error("Could not get container height");if(!l.container.width)throw new Error("Could not get container width");if(!l.media.height)throw console.warn(t),new Error("Could not get media height");if(!l.media.width)throw new Error("Could not get media width");return l}function u(t){const{container:l,media:i}=d(t);return!(i.height<l.height&&i.width<l.width)}e.on("slideMediaMetadataLoaded",t=>a(t)),e.on("slideMediaLoaded",v);function v(t){t.mediaHeight=t.mediaElm.naturalHeight||t.mediaElm.videoHeight,t.mediaWidth=t.mediaElm.naturalWidth||t.mediaElm.videoWidth,t.biggerThanContainer=u(t),e.emit("slideMediaPositioningMetadataLoaded",t)}return{positionLoadedSlide:a,positionAllLoadedSlides:o,getPositionForLoadedSlide:r,getSlideDimensions:d,naturalSlideSizeBiggerThanContainer:u}}function ce(e,n){const a=E(void 0);function o(t){const l=this.nextToggledScaleMode(t);t.scale!==l&&(t.scale=l,t===this.currentSlide?(t.elmClasses=[...t.elmClasses||[],"animate-zoom"],this.$forceUpdate(),this.positionLoadedSlide(t),a.value=l,this.positionAllLoadedSlides()):this.positionLoadedSlide(t))}function r(t){return t.biggerThanContainer||e.rememberScale==="contain"?t.scale==="contain"?"natural":"contain":"natural"}function d(t){if(t.scale===this.nextToggledScaleMode(t))return null;if(t.scale==="contain"&&this.nextToggledScaleMode(t)==="natural")return t.biggerThanContainer?"in":"out";if(t.scale==="natural"&&this.nextToggledScaleMode(t)==="contain")return t.biggerThanContainer?"out":"in"}function u(t,l){return e.rememberScale&&!l&&(e.rememberScale===a.value||e.rememberScale===!0)?a.value:t.biggerThanContainer?"contain":"natural"}n.on("slideMediaPositioningMetadataLoaded",v);function v(t){t.scale=u(t),n.emit("slideMediaScalingMetadataLoaded",t),t.mediaMetadataLoaded=!0,n.emit("slideMediaMetadataLoaded",t)}return{toggleScaleMode:o,nextToggledScaleMode:r,nextToggledScaleModeZoomDirection:d,getInitialScale:u}}function ue(){C(()=>{const e=I();new Q(e.proxy.$el,{}).on("swipe",a=>{a.deltaX<0?e.proxy.nextSlide():e.proxy.previousSlide()})})}function he(e){function n(o){var r;((r=o.mediaElm)==null?void 0:r.play)&&(o.mediaElm.play(),setTimeout(()=>{o.mediaElm.paused&&o.elm.querySelector(".play-button").classList.add("show")},50))}function a(o){var r,d;(d=(r=o.mediaElm)==null?void 0:r.pause)==null||d.call(r)}return e.on("newSlideLoaded",n),e.on("unloadSlide",a),{playVideo:n}}const me={xmlns:"http://www.w3.org/2000/svg",width:"310",height:"270",viewBox:"0 0 82.021 71.438"},fe=c("path",{style:{fill:"none",stroke:"#000","stroke-width":".264583px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"},d:"M-136.94-67.294c18.018 45.581-1.094 25.217 4.344 22.858 5.438-2.36 17.599 67.312 17.599 67.312"},null,-1),ge=c("path",{style:{fill:"#000","fill-opacity":"1",stroke:"none","stroke-width":".264583px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"},d:"M10.583 44.98V10.582h60.854V44.98H58.208V29.104L31.75 50.271l26.458 21.166V55.563h23.813V0H0v55.563h23.812V44.978Z"},null,-1),pe=[fe,ge];function Se(e,n){return m(),g("svg",me,pe)}var we={render:Se};const ve={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff"},ye=c("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},[c("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),c("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[c("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])],-1),_e=[ye];function xe(e,n){return m(),g("svg",ve,_e)}var U={render:xe};var Z=(e,n)=>{for(const[a,o]of n)e[a]=o;return e};const Le={name:"BigShot",components:{RepeatIcon:we,SpinnerIcon:U},props:{slideData:{type:Array,default:()=>[]},rememberScale:{type:String,default:""},beforeSlideChangeHook:{type:Function,default:()=>()=>{}},plugins:{type:Array,default:()=>[]}},setup(e){const n=Y();ue();const a=E(!1),u=re(e,n,a),{slides:o,currentSlideIndex:r}=u,d=F(u,["slides","currentSlideIndex"]);return _(_(_(_(_({SpinnerIcon:U,slides:o,currentSlideIndex:r},d),le(e,o,r,n)),de(n,a)),ce(e,n)),he(n))},watch:{notLoadedSlides:{handler(){for(const e of this.notLoadedSlides)e.elm=null,e.mediaElm=null,e.elmStyle=null,e.elmClasses=null},deep:!0}},created(){window.addEventListener("keydown",this.keyDownListener),window.addEventListener("resize",this.resizeWindowListener),window.addEventListener("orientationchange",this.resizeWindowListener)},methods:{wrapIndex(e){return e>=0?e%this.numOfSlides:(e%this.numOfSlides+this.numOfSlides)%this.numOfSlides},keyDownListener(e){e.key==="ArrowLeft"?this.previousSlide():e.key==="ArrowRight"?this.nextSlide():e.key==="Escape"&&this.closeSlideShow()},resizeWindowListener(){for(const e of this.loadedSlides){const n=this.naturalSlideSizeBiggerThanContainer(e);e.biggerThanContainer!==n&&(e.biggerThanContainer=n,e.scale=this.getInitialScale(e,!0))}this.positionLoadedSlide(this.currentSlide),this.positionAllLoadedSlides()}}},P=e=>(ee("data-v-36c5d978"),e=e(),te(),e),ke={ref:"container",class:"container"},be={class:"topbar"},Ie={class:"left-side"},Ce={key:0},Ee={class:"center"},Me={class:"right-side"},$e=["src"],Te=["data-slide-index"],Be={key:0,class:"media media-status"},Pe=P(()=>c("span",null,"Failed to load media",-1)),He=[Pe],De=["src"],ze=["src"],Oe=["onClick"],We=P(()=>c("span",null,"\u25B6",-1)),Fe=[We],Ve={class:"slide-status-indicator"},je={class:"container loop-indicator"},Ne={class:"container loading-indicator"},qe=P(()=>c("div",{class:"bottom-bar"},null,-1));function Ae(e,n,a,o,r,d){var t,l;const u=M("RepeatIcon"),v=M("SpinnerIcon");return m(),g("div",ke,[c("div",be,[c("div",Ie,[o.currentSlideIndex!==null?(m(),g("div",Ce,V(o.currentSlideIndex+1)+" / "+V(e.numOfSlides),1)):$("",!0)]),c("div",Ee,[(m(!0),g(k,null,T((t=a.plugins)==null?void 0:t.filter(i=>i.topbarIcon),i=>(m(),B(N(i.topbarCenterContent),ne({key:i.name},i.topbarCenterContentProps,{"current-slide":e.currentSlide}),null,16,["current-slide"]))),128))]),c("div",Me,[c("button",{class:"close-button",onClick:n[0]||(n[0]=(...i)=>e.closeSlideShow&&e.closeSlideShow(...i))}," X "),(m(!0),g(k,null,T((l=a.plugins)==null?void 0:l.filter(i=>i.topbarIcon),i=>(m(),g("div",{key:i.name,class:"plugin"},[i.topbarIcon&&typeof i.topbarIcon=="string"?(m(),g("img",{key:0,src:i.topbarIcon,class:"icon"},null,8,$e)):(m(),B(N(i.topbarIcon),{key:1,class:"icon"}))]))),128))])]),(m(!0),g(k,null,T(e.loadedSlides,i=>(m(),g("div",{key:i.id,ref:`slide-${i.id}`,class:ie(["slide",{current:i.index===o.currentSlideIndex,positioned:i.elmStyle&&i.elmStyle.transform||i.mediaLoadingFailed},e.nextToggledScaleModeZoomDirection(i)&&`zoom-${e.nextToggledScaleModeZoomDirection(i)}`,i.elmClasses]),"data-slide-index":i.index},[i.mediaLoadingFailed?(m(),g("div",Be,He)):i.type==="image"?(m(),g("img",{key:1,src:i.data.src,class:"media",style:q(i.elmStyle)},null,12,De)):i.type==="video"?(m(),g(k,{key:2},[c("video",{class:"media",style:q(i.elmStyle),playsinline:""},[c("source",{src:i.data.src},null,8,ze)],4),c("button",{class:"play-button",onClick:()=>e.playVideo(i)},Fe,8,Oe)],64)):$("",!0)],10,Te))),128)),c("div",Ve,[c("div",je,[j(u,{class:"icon"})]),c("div",Ne,[j(v,{class:"icon"})])]),qe],512)}var Re=Z(Le,[["render",Ae],["__scopeId","data-v-36c5d978"]]);const Ue={viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Ze=c("path",{d:"m482.262 2.217 107.776 329.432h348.773l-282.163 203.6L764.425 864.68 482.262 661.081 200.099 864.68l107.776-329.431-282.163-203.6h348.773L482.262 2.217Z",style:{fill:"#fff"},transform:"matrix(1.04157 0 0 1.04875 -2.31 -2.325)"},null,-1),Ge=[Ze];function Xe(e,n){return m(),g("svg",Ue,Ge)}var Je={render:Xe},Ke={name:"Test Plugin",topbarIcon:A(Je)};const Qe={viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Ye=c("ellipse",{cx:"486",cy:"620.5",rx:"486",ry:"620.5",style:{fill:"#fff"},transform:"scale(1.02881 .8058)"},null,-1),et=[Ye];function tt(e,n){return m(),g("svg",Qe,et)}var nt={render:tt},it={name:"Test Plugin - Circle",topbarIcon:A(nt)};const ot={name:"BigShotExampleUsage",components:{BigShot:Re},props:{loadPlugins:Boolean},data({loadPlugins:e}){return{slideData:[{src:"media/factory.jpg"},{src:"media/sunset.jpg"},{src:"media/santa.mp4",type:"video"},{src:"media/tree.jpg"},{src:"media/tunnels.jpg"}],showSlideShow:!0,plugins:e?[Ke,it]:[]}},methods:{async beforeSlideChangeHook({currentIndex:e,newIndex:n,delta:a}){a>0&&n<e&&(await new Promise(o=>setTimeout(o,1e3)),this.slideData.push(_({},this.slideData[e-4])))}}};function at(e,n,a,o,r,d){const u=M("BigShot");return m(),g(k,null,[r.showSlideShow?(m(),B(u,{key:0,"slide-data":r.slideData,"before-slide-change-hook":d.beforeSlideChangeHook,plugins:r.plugins,onExited:n[0]||(n[0]=()=>r.showSlideShow=!1)},null,8,["slide-data","before-slide-change-hook","plugins"])):$("",!0),c("button",{onClick:n[1]||(n[1]=()=>r.showSlideShow=!0)}," Open Slide Show ")],64)}var st=Z(ot,[["render",at]]);const rt=oe(st);rt.mount("#app");
(function(){ try {var elementStyle = document.createElement('style'); elementStyle.innerText = `.container[data-v-36c5d978]{position:absolute;top:0;bottom:0;left:0;right:0;background:black;color:#fff;overflow:hidden;text-align:initial;font-family:sans-serif;z-index:10}.container .topbar[data-v-36c5d978]{background-color:#0000004d;position:absolute;left:0;top:0;height:44px;width:100%;opacity:75%;font-size:13px;display:flex;justify-content:space-between;align-items:center;z-index:1;padding:2px 20px;box-sizing:border-box}.container .topbar>*[data-v-36c5d978]{flex:0 1 auto;flex-direction:row-reverse}.container .topbar button[data-v-36c5d978]{color:#fff;background:none;border:none}.container .topbar .plugin .icon[data-v-36c5d978]{height:100%;max-width:3em;padding:10px;box-sizing:border-box}.container .topbar .center[data-v-36c5d978]{align-self:flex-start}.container .topbar .right-side[data-v-36c5d978]{display:flex;height:100%}.container .topbar .right-side>*[data-v-36c5d978]{flex:0 1 auto}.container .topbar .right-side>* svg[data-v-36c5d978]{width:fit-content}.container .slide[data-v-36c5d978]{height:100%;width:100%;overflow:hidden}.container .slide .play-button[data-v-36c5d978]{left:0;right:0;margin:auto;top:0;bottom:0;height:80px;width:80px;position:absolute;background-color:#fff;border:none;font-size:40px;color:#000;border-radius:40px;visibility:hidden;transform:scale(.5);opacity:0%}.container .slide .play-button span[data-v-36c5d978]{transform:translateY(-3px) translate(3px);display:inline-block;transition:transform .3s}.container .slide .play-button:hover span[data-v-36c5d978]{transform:translateY(-3px) translate(10px)}.container .slide .play-button.show[data-v-36c5d978]{visibility:visible;transform:scale(1);opacity:100%;transition:transform .2s,opacity .2s}.container .slide .media-status[data-v-36c5d978]{height:100%;display:flex;justify-content:center;align-items:center;font-size:3em;font-weight:bold;color:#d7a039}.container .slide.animate-zoom .media[data-v-36c5d978]{transition:transform .2s}.container .slide.zoom-in .media[data-v-36c5d978]{cursor:zoom-in}.container .slide.zoom-out .media[data-v-36c5d978]{cursor:zoom-out}.container .slide[data-v-36c5d978]:not(.current),.container .slide[data-v-36c5d978]:not(.positioned){display:none}.container .slide-status-indicator .container[data-v-36c5d978]{left:0;right:0;margin:auto;top:0;bottom:0;height:100px;width:100px;position:absolute;background-color:#0009;border:none;font-size:70px;color:#fff;line-height:100px;text-align:center;visibility:hidden;transform:scale(.3);pointer-events:none;opacity:80%}.container .slide-status-indicator .container .icon[data-v-36c5d978]{display:inline-block;height:1em;width:1em}.container .slide-status-indicator .container.loading-indicator[data-v-36c5d978]{display:flex;justify-content:center;align-items:center}.container .slide-status-indicator .container.loading-indicator .icon[data-v-36c5d978]{width:70%;height:70%}.container .slide-status-indicator .container.loading-indicator.animate[data-v-36c5d978]{visibility:visible;transform:scale(1);transition:transform 1s,opacity 4s 1s,visibility 0s .2s}.container .slide-status-indicator .container.loop-indicator .icon[data-v-36c5d978]{vertical-align:-.2em}.container .slide-status-indicator .container.loop-indicator .icon[data-v-36c5d978] path{fill:#fff!important}.container .slide-status-indicator .container.loop-indicator.animate[data-v-36c5d978]{visibility:visible;transform:scale(1);opacity:0%;transition:transform 1s,opacity 4s 1s,visibility 0s .2s}body{margin:0}#app{display:flex;justify-content:center;align-items:center;height:100vh}
`; document.head.appendChild(elementStyle);} catch(e) {console.error(e, 'vite-plugin-css-injected-by-js: can\'t add the style.');} })();